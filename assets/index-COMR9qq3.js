(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function GT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cp={exports:{}},ju={},dp={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function KT(){if(oy)return rt;oy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,V={};function H(Y,ue,xe){this.props=Y,this.context=ue,this.refs=V,this.updater=xe||A}H.prototype.isReactComponent={},H.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},H.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function j(){}j.prototype=H.prototype;function N(Y,ue,xe){this.props=Y,this.context=ue,this.refs=V,this.updater=xe||A}var B=N.prototype=new j;B.constructor=N,M(B,H.prototype),B.isPureReactComponent=!0;var Z=Array.isArray,J=Object.prototype.hasOwnProperty,ce={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function O(Y,ue,xe){var Ne,Pe={},Ie=null,Je=null;if(ue!=null)for(Ne in ue.ref!==void 0&&(Je=ue.ref),ue.key!==void 0&&(Ie=""+ue.key),ue)J.call(ue,Ne)&&!U.hasOwnProperty(Ne)&&(Pe[Ne]=ue[Ne]);var tt=arguments.length-2;if(tt===1)Pe.children=xe;else if(1<tt){for(var gt=Array(tt),Dt=0;Dt<tt;Dt++)gt[Dt]=arguments[Dt+2];Pe.children=gt}if(Y&&Y.defaultProps)for(Ne in tt=Y.defaultProps,tt)Pe[Ne]===void 0&&(Pe[Ne]=tt[Ne]);return{$$typeof:n,type:Y,key:Ie,ref:Je,props:Pe,_owner:ce.current}}function R(Y,ue){return{$$typeof:n,type:Y.type,key:ue,ref:Y.ref,props:Y.props,_owner:Y._owner}}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function $(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(xe){return ue[xe]})}var q=/\/+/g;function D(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):ue.toString(36)}function _e(Y,ue,xe,Ne,Pe){var Ie=typeof Y;(Ie==="undefined"||Ie==="boolean")&&(Y=null);var Je=!1;if(Y===null)Je=!0;else switch(Ie){case"string":case"number":Je=!0;break;case"object":switch(Y.$$typeof){case n:case e:Je=!0}}if(Je)return Je=Y,Pe=Pe(Je),Y=Ne===""?"."+D(Je,0):Ne,Z(Pe)?(xe="",Y!=null&&(xe=Y.replace(q,"$&/")+"/"),_e(Pe,ue,xe,"",function(Dt){return Dt})):Pe!=null&&(F(Pe)&&(Pe=R(Pe,xe+(!Pe.key||Je&&Je.key===Pe.key?"":(""+Pe.key).replace(q,"$&/")+"/")+Y)),ue.push(Pe)),1;if(Je=0,Ne=Ne===""?".":Ne+":",Z(Y))for(var tt=0;tt<Y.length;tt++){Ie=Y[tt];var gt=Ne+D(Ie,tt);Je+=_e(Ie,ue,xe,gt,Pe)}else if(gt=b(Y),typeof gt=="function")for(Y=gt.call(Y),tt=0;!(Ie=Y.next()).done;)Ie=Ie.value,gt=Ne+D(Ie,tt++),Je+=_e(Ie,ue,xe,gt,Pe);else if(Ie==="object")throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Je}function Ae(Y,ue,xe){if(Y==null)return Y;var Ne=[],Pe=0;return _e(Y,Ne,"","",function(Ie){return ue.call(xe,Ie,Pe++)}),Ne}function Me(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(xe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=xe)},function(xe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=xe)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var ze={current:null},ee={transition:null},ye={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ce};function ae(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Ae,forEach:function(Y,ue,xe){Ae(Y,function(){ue.apply(this,arguments)},xe)},count:function(Y){var ue=0;return Ae(Y,function(){ue++}),ue},toArray:function(Y){return Ae(Y,function(ue){return ue})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},rt.Component=H,rt.Fragment=t,rt.Profiler=o,rt.PureComponent=N,rt.StrictMode=r,rt.Suspense=p,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,rt.act=ae,rt.cloneElement=function(Y,ue,xe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Ne=M({},Y.props),Pe=Y.key,Ie=Y.ref,Je=Y._owner;if(ue!=null){if(ue.ref!==void 0&&(Ie=ue.ref,Je=ce.current),ue.key!==void 0&&(Pe=""+ue.key),Y.type&&Y.type.defaultProps)var tt=Y.type.defaultProps;for(gt in ue)J.call(ue,gt)&&!U.hasOwnProperty(gt)&&(Ne[gt]=ue[gt]===void 0&&tt!==void 0?tt[gt]:ue[gt])}var gt=arguments.length-2;if(gt===1)Ne.children=xe;else if(1<gt){tt=Array(gt);for(var Dt=0;Dt<gt;Dt++)tt[Dt]=arguments[Dt+2];Ne.children=tt}return{$$typeof:n,type:Y.type,key:Pe,ref:Ie,props:Ne,_owner:Je}},rt.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:l,_context:Y},Y.Consumer=Y},rt.createElement=O,rt.createFactory=function(Y){var ue=O.bind(null,Y);return ue.type=Y,ue},rt.createRef=function(){return{current:null}},rt.forwardRef=function(Y){return{$$typeof:f,render:Y}},rt.isValidElement=F,rt.lazy=function(Y){return{$$typeof:w,_payload:{_status:-1,_result:Y},_init:Me}},rt.memo=function(Y,ue){return{$$typeof:_,type:Y,compare:ue===void 0?null:ue}},rt.startTransition=function(Y){var ue=ee.transition;ee.transition={};try{Y()}finally{ee.transition=ue}},rt.unstable_act=ae,rt.useCallback=function(Y,ue){return ze.current.useCallback(Y,ue)},rt.useContext=function(Y){return ze.current.useContext(Y)},rt.useDebugValue=function(){},rt.useDeferredValue=function(Y){return ze.current.useDeferredValue(Y)},rt.useEffect=function(Y,ue){return ze.current.useEffect(Y,ue)},rt.useId=function(){return ze.current.useId()},rt.useImperativeHandle=function(Y,ue,xe){return ze.current.useImperativeHandle(Y,ue,xe)},rt.useInsertionEffect=function(Y,ue){return ze.current.useInsertionEffect(Y,ue)},rt.useLayoutEffect=function(Y,ue){return ze.current.useLayoutEffect(Y,ue)},rt.useMemo=function(Y,ue){return ze.current.useMemo(Y,ue)},rt.useReducer=function(Y,ue,xe){return ze.current.useReducer(Y,ue,xe)},rt.useRef=function(Y){return ze.current.useRef(Y)},rt.useState=function(Y){return ze.current.useState(Y)},rt.useSyncExternalStore=function(Y,ue,xe){return ze.current.useSyncExternalStore(Y,ue,xe)},rt.useTransition=function(){return ze.current.useTransition()},rt.version="18.3.1",rt}var ay;function gm(){return ay||(ay=1,dp.exports=KT()),dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function ZT(){if(ly)return ju;ly=1;var n=gm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,_){var w,x={},b=null,A=null;_!==void 0&&(b=""+_),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(A=p.ref);for(w in p)r.call(p,w)&&!l.hasOwnProperty(w)&&(x[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)x[w]===void 0&&(x[w]=p[w]);return{$$typeof:e,type:f,key:b,ref:A,props:x,_owner:o.current}}return ju.Fragment=t,ju.jsx=d,ju.jsxs=d,ju}var uy;function QT(){return uy||(uy=1,cp.exports=ZT()),cp.exports}var C=QT(),G=gm();const Fe=GT(G);var bd={},hp={exports:{}},lr={},fp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function YT(){return cy||(cy=1,function(n){function e(ee,ye){var ae=ee.length;ee.push(ye);e:for(;0<ae;){var Y=ae-1>>>1,ue=ee[Y];if(0<o(ue,ye))ee[Y]=ye,ee[ae]=ue,ae=Y;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ye=ee[0],ae=ee.pop();if(ae!==ye){ee[0]=ae;e:for(var Y=0,ue=ee.length,xe=ue>>>1;Y<xe;){var Ne=2*(Y+1)-1,Pe=ee[Ne],Ie=Ne+1,Je=ee[Ie];if(0>o(Pe,ae))Ie<ue&&0>o(Je,Pe)?(ee[Y]=Je,ee[Ie]=ae,Y=Ie):(ee[Y]=Pe,ee[Ne]=ae,Y=Ne);else if(Ie<ue&&0>o(Je,ae))ee[Y]=Je,ee[Ie]=ae,Y=Ie;else break e}}return ye}function o(ee,ye){var ae=ee.sortIndex-ye.sortIndex;return ae!==0?ae:ee.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],_=[],w=1,x=null,b=3,A=!1,M=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ee){for(var ye=t(_);ye!==null;){if(ye.callback===null)r(_);else if(ye.startTime<=ee)r(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function Z(ee){if(V=!1,B(ee),!M)if(t(p)!==null)M=!0,Me(J);else{var ye=t(_);ye!==null&&ze(Z,ye.startTime-ee)}}function J(ee,ye){M=!1,V&&(V=!1,j(O),O=-1),A=!0;var ae=b;try{for(B(ye),x=t(p);x!==null&&(!(x.expirationTime>ye)||ee&&!$());){var Y=x.callback;if(typeof Y=="function"){x.callback=null,b=x.priorityLevel;var ue=Y(x.expirationTime<=ye);ye=n.unstable_now(),typeof ue=="function"?x.callback=ue:x===t(p)&&r(p),B(ye)}else r(p);x=t(p)}if(x!==null)var xe=!0;else{var Ne=t(_);Ne!==null&&ze(Z,Ne.startTime-ye),xe=!1}return xe}finally{x=null,b=ae,A=!1}}var ce=!1,U=null,O=-1,R=5,F=-1;function $(){return!(n.unstable_now()-F<R)}function q(){if(U!==null){var ee=n.unstable_now();F=ee;var ye=!0;try{ye=U(!0,ee)}finally{ye?D():(ce=!1,U=null)}}else ce=!1}var D;if(typeof N=="function")D=function(){N(q)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ae=_e.port2;_e.port1.onmessage=q,D=function(){Ae.postMessage(null)}}else D=function(){H(q,0)};function Me(ee){U=ee,ce||(ce=!0,D())}function ze(ee,ye){O=H(function(){ee(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){M||A||(M=!0,Me(J))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var ae=b;b=ye;try{return ee()}finally{b=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ye){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ae=b;b=ee;try{return ye()}finally{b=ae}},n.unstable_scheduleCallback=function(ee,ye,ae){var Y=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Y+ae:Y):ae=Y,ee){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,ee={id:w++,callback:ye,priorityLevel:ee,startTime:ae,expirationTime:ue,sortIndex:-1},ae>Y?(ee.sortIndex=ae,e(_,ee),t(p)===null&&ee===t(_)&&(V?(j(O),O=-1):V=!0,ze(Z,ae-Y))):(ee.sortIndex=ue,e(p,ee),M||A||(M=!0,Me(J))),ee},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(ee){var ye=b;return function(){var ae=b;b=ye;try{return ee.apply(this,arguments)}finally{b=ae}}}}(pp)),pp}var dy;function XT(){return dy||(dy=1,fp.exports=YT()),fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function JT(){if(hy)return lr;hy=1;var n=gm(),e=XT();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){d(i,a),d(i+"Capture",a)}function d(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function b(i){return p.call(x,i)?!0:p.call(w,i)?!1:_.test(i)?x[i]=!0:(w[i]=!0,!1)}function A(i,a,c,g){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,a,c,g){if(a===null||typeof a>"u"||A(i,a,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function V(i,a,c,g,v,T,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=T,this.removeEmptyString=P}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){H[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];H[a]=new V(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){H[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){H[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){H[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){H[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){H[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){H[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){H[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(j,N);H[a]=new V(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(j,N);H[a]=new V(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(j,N);H[a]=new V(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){H[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),H.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){H[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,a,c,g){var v=H.hasOwnProperty(a)?H[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(M(a,c,v,g)&&(c=null),g||v===null?b(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):v.mustUseProperty?i[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,g=v.attributeNamespace,c===null?i.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,g?i.setAttributeNS(g,a,c):i.setAttribute(a,c))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ce=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,Y;function ue(i){if(Y===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Y=a&&a[1]||""}return`
`+Y+i}var xe=!1;function Ne(i,a){if(!i||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var g=oe}Reflect.construct(i,[],a)}else{try{a.call()}catch(oe){g=oe}i.call(a.prototype)}else{try{throw Error()}catch(oe){g=oe}i()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var v=oe.stack.split(`
`),T=g.stack.split(`
`),P=v.length-1,W=T.length-1;1<=P&&0<=W&&v[P]!==T[W];)W--;for(;1<=P&&0<=W;P--,W--)if(v[P]!==T[W]){if(P!==1||W!==1)do if(P--,W--,0>W||v[P]!==T[W]){var Q=`
`+v[P].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=P&&0<=W);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?ue(i):""}function Pe(i){switch(i.tag){case 5:return ue(i.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return i=Ne(i.type,!1),i;case 11:return i=Ne(i.type.render,!1),i;case 1:return i=Ne(i.type,!0),i;default:return""}}function Ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case ce:return"Portal";case R:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case _e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case $:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ae:return a=i.displayName||null,a!==null?a:Ie(i.type)||"Memo";case Me:a=i._payload,i=i._init;try{return Ie(i(a))}catch{}}return null}function Je(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function tt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gt(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dt(i){var a=gt(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,T=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){g=""+P,T.call(this,P)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function hr(i){i._valueTracker||(i._valueTracker=Dt(i))}function Cr(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return i&&(g=gt(i)?i.checked?"true":"false":i.value),i=g,i!==c?(a.setValue(i),!0):!1}function Ar(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qi(i,a){var c=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Wi(i,a){var c=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;c=tt(a.value!=null?a.value:c),i._wrapperState={initialChecked:g,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ys(i,a){a=a.checked,a!=null&&B(i,"checked",a,!1)}function Gi(i,a){Ys(i,a);var c=tt(a.value),g=a.type;if(c!=null)g==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Xs(i,a.type,c):a.hasOwnProperty("defaultValue")&&Xs(i,a.type,tt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Ki(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Xs(i,a,c){(a!=="number"||Ar(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var kr=Array.isArray;function fr(i,a,c,g){if(i=i.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=a.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&g&&(i[c].defaultSelected=!0)}else{for(c=""+tt(c),a=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Js(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Zi(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(kr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:tt(c)}}function eo(i,a){var c=tt(a.value),g=tt(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),g!=null&&(i.defaultValue=""+g)}function ga(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function kt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?kt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rr,_a=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,g,v){MSApp.execUnsafeLocalFunction(function(){return i(a,c,g,v)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Rr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Qr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qi=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(i){Qi.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),wi[a]=wi[i]})});function to(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||wi.hasOwnProperty(i)&&wi[i]?(""+a).trim():a+"px"}function Yi(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var g=c.indexOf("--")===0,v=to(c,a[c],g);c==="float"&&(c="cssFloat"),g?i.setProperty(c,v):i[c]=v}}var no=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(i,a){if(a){if(no[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Yr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function ro(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,Mn=null,pr=null;function io(i){if(i=ws(i)){if(typeof Ji!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Tl(a),Ji(i.stateNode,i.type,a))}}function Lr(i){Mn?pr?pr.push(i):pr=[i]:Mn=i}function va(){if(Mn){var i=Mn,a=pr;if(pr=Mn=null,io(i),a)for(i=0;i<a.length;i++)io(a[i])}}function es(i,a){return i(a)}function wa(){}var Xr=!1;function ts(i,a,c){if(Xr)return i(a,c);Xr=!0;try{return es(i,a,c)}finally{Xr=!1,(Mn!==null||pr!==null)&&(wa(),va())}}function Rt(i,a){var c=i.stateNode;if(c===null)return null;var g=Tl(c);if(g===null)return null;c=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var so=!1;if(f)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){so=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{so=!1}function ns(i,a,c,g,v,T,P,W,Q){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(c,oe)}catch(me){this.onError(me)}}var sn=!1,Re=null,qn=!1,oo=null,il={onError:function(i){sn=!0,Re=i}};function rs(i,a,c,g,v,T,P,W,Q){sn=!1,Re=null,ns.apply(il,arguments)}function ao(i,a,c,g,v,T,P,W,Q){if(rs.apply(this,arguments),sn){if(sn){var oe=Re;sn=!1,Re=null}else throw Error(t(198));qn||(qn=!0,oo=oe)}}function Wn(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Gn(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Kn(i){if(Wn(i)!==i)throw Error(t(188))}function sl(i){var a=i.alternate;if(!a){if(a=Wn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,g=a;;){var v=c.return;if(v===null)break;var T=v.alternate;if(T===null){if(g=v.return,g!==null){c=g;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===c)return Kn(v),i;if(T===g)return Kn(v),a;T=T.sibling}throw Error(t(188))}if(c.return!==g.return)c=v,g=T;else{for(var P=!1,W=v.child;W;){if(W===c){P=!0,c=v,g=T;break}if(W===g){P=!0,g=v,c=T;break}W=W.sibling}if(!P){for(W=T.child;W;){if(W===c){P=!0,c=T,g=v;break}if(W===g){P=!0,g=T,c=v;break}W=W.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==g)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function Ea(i){return i=sl(i),i!==null?lo(i):null}function lo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=lo(i);if(a!==null)return a;i=i.sibling}return null}var uo=e.unstable_scheduleCallback,co=e.unstable_cancelCallback,ol=e.unstable_shouldYield,ho=e.unstable_requestPaint,wt=e.unstable_now,al=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,Ei=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,ss=e.unstable_LowPriority,Ti=e.unstable_IdlePriority,xi=null,wn=null;function Si(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(xi,i,void 0,(i.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:Jr,_t=Math.log,os=Math.LN2;function Jr(i){return i>>>=0,i===0?32:31-(_t(i)/os|0)|0}var gr=64,Ii=4194304;function He(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function yt(i,a){var c=i.pendingLanes;if(c===0)return 0;var g=0,v=i.suspendedLanes,T=i.pingedLanes,P=c&268435455;if(P!==0){var W=P&~v;W!==0?g=He(W):(T&=P,T!==0&&(g=He(T)))}else P=c&~v,P!==0?g=He(P):T!==0&&(g=He(T));if(g===0)return 0;if(a!==0&&a!==g&&!(a&v)&&(v=g&-g,T=a&-a,v>=T||v===16&&(T&4194240)!==0))return a;if(g&4&&(g|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)c=31-qe(a),v=1<<c,g|=i[c],a&=~v;return g}function Ta(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(i,a){for(var c=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,T=i.pendingLanes;0<T;){var P=31-qe(T),W=1<<P,Q=v[P];Q===-1?(!(W&c)||W&g)&&(v[P]=Ta(W,a)):Q<=a&&(i.expiredLanes|=W),T&=~W}}function xt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function as(){var i=gr;return gr<<=1,!(gr&4194240)&&(gr=64),i}function _r(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function En(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-qe(a),i[a]=c}function We(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<c;){var v=31-qe(c),T=1<<v;a[v]=0,g[v]=-1,i[v]=-1,c&=~T}}function Tn(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var g=31-qe(c),v=1<<g;v&a|i[g]&a&&(i[g]|=a),c&=~v}}var et=0;function Yn(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var fo,Nr,po,mo,ls,us=!1,Xn=[],zt=null,Jn=null,Dn=null,bi=new Map,Ve=new Map,Bt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(i,a){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ve.delete(a.pointerId)}}function on(i,a,c,g,v,T){return i===null||i.nativeEvent!==T?(i={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:T,targetContainers:[v]},a!==null&&(a=ws(a),a!==null&&Nr(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function Sa(i,a,c,g,v){switch(a){case"focusin":return zt=on(zt,i,a,c,g,v),!0;case"dragenter":return Jn=on(Jn,i,a,c,g,v),!0;case"mouseover":return Dn=on(Dn,i,a,c,g,v),!0;case"pointerover":var T=v.pointerId;return bi.set(T,on(bi.get(T)||null,i,a,c,g,v)),!0;case"gotpointercapture":return T=v.pointerId,Ve.set(T,on(Ve.get(T)||null,i,a,c,g,v)),!0}return!1}function go(i){var a=vs(i.target);if(a!==null){var c=Wn(a);if(c!==null){if(a=c.tag,a===13){if(a=Gn(c),a!==null){i.blockedOn=a,ls(i.priority,function(){po(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fn(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=hs(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var g=new c.constructor(c.type,c);Xi=g,c.target.dispatchEvent(g),Xi=null}else return a=ws(c),a!==null&&Nr(a),i.blockedOn=c,!1;a.shift()}return!0}function ei(i,a,c){fn(i)&&c.delete(a)}function Pi(){us=!1,zt!==null&&fn(zt)&&(zt=null),Jn!==null&&fn(Jn)&&(Jn=null),Dn!==null&&fn(Dn)&&(Dn=null),bi.forEach(ei),Ve.forEach(ei)}function vt(i,a){i.blockedOn===a&&(i.blockedOn=null,us||(us=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pi)))}function Yt(i){function a(v){return vt(v,i)}if(0<Xn.length){vt(Xn[0],i);for(var c=1;c<Xn.length;c++){var g=Xn[c];g.blockedOn===i&&(g.blockedOn=null)}}for(zt!==null&&vt(zt,i),Jn!==null&&vt(Jn,i),Dn!==null&&vt(Dn,i),bi.forEach(a),Ve.forEach(a),c=0;c<Bt.length;c++)g=Bt[c],g.blockedOn===i&&(g.blockedOn=null);for(;0<Bt.length&&(c=Bt[0],c.blockedOn===null);)go(c),c.blockedOn===null&&Bt.shift()}var Or=Z.ReactCurrentBatchConfig,ti=!0;function St(i,a,c,g){var v=et,T=Or.transition;Or.transition=null;try{et=1,cs(i,a,c,g)}finally{et=v,Or.transition=T}}function ll(i,a,c,g){var v=et,T=Or.transition;Or.transition=null;try{et=4,cs(i,a,c,g)}finally{et=v,Or.transition=T}}function cs(i,a,c,g){if(ti){var v=hs(i,a,c,g);if(v===null)s(i,a,g,ds,c),xa(i,g);else if(Sa(v,i,a,c,g))g.stopPropagation();else if(xa(i,g),a&4&&-1<ht.indexOf(i)){for(;v!==null;){var T=ws(v);if(T!==null&&fo(T),T=hs(i,a,c,g),T===null&&s(i,a,g,ds,c),T===v)break;v=T}v!==null&&g.stopPropagation()}else s(i,a,g,null,c)}}var ds=null;function hs(i,a,c,g){if(ds=null,i=ro(g),i=vs(i),i!==null)if(a=Wn(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Gn(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ds=i,null}function nt(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(al()){case is:return 1;case Ei:return 4;case Zn:case ss:return 16;case Ti:return 536870912;default:return 16}default:return 16}}var Vn=null,an=null,Ht=null;function _o(){if(Ht)return Ht;var i,a=an,c=a.length,g,v="value"in Vn?Vn.value:Vn.textContent,T=v.length;for(i=0;i<c&&a[i]===v[i];i++);var P=c-i;for(g=1;g<=P&&a[c-g]===v[T-g];g++);return Ht=v.slice(i,1<g?1-g:void 0)}function yo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function er(){return!0}function Ia(){return!1}function qt(i){function a(c,g,v,T,P){this._reactName=c,this._targetInst=v,this.type=g,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(c=i[W],this[W]=c?c(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?er:Ia,this.isPropagationStopped=Ia,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=qt(yr),tr=ae({},yr,{view:0,detail:0}),fu=qt(tr),pn,ni,ri,xn=ae({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ri&&(ri&&i.type==="mousemove"?(pn=i.screenX-ri.screenX,ni=i.screenY-ri.screenY):ni=pn=0,ri=i),pn)},movementY:function(i){return"movementY"in i?i.movementY:ni}}),fs=qt(xn),wo=ae({},xn,{dataTransfer:0}),Eo=qt(wo),To=ae({},tr,{relatedTarget:0}),ps=qt(To),ba=ae({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),ii=qt(ba),ul=ae({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xo=qt(ul),cl=ae({},yr,{data:0}),So=qt(cl),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Mr[i])?!!a[i]:!1}function Sn(){return dl}var h=ae({},tr,{key:function(i){if(i.key){var a=ms[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(i){return i.type==="keypress"?yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=qt(h),I=ae({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=qt(I),te=ae({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn}),le=qt(te),we=ae({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=qt(we),Ft=ae({},xn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),it=qt(Ft),ft=[9,13,27,32],Tt=f&&"CompositionEvent"in window,nr=null;f&&"documentMode"in document&&(nr=document.documentMode);var Lt=f&&"TextEvent"in window&&!nr,gs=f&&(!Tt||nr&&8<nr&&11>=nr),vr=" ",kc=!1;function Io(i,a){switch(i){case"keyup":return ft.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var si=!1;function ef(i,a){switch(i){case"compositionend":return pu(a);case"keypress":return a.which!==32?null:(kc=!0,vr);case"textInput":return i=a.data,i===vr&&kc?null:i;default:return null}}function Ci(i,a){if(si)return i==="compositionend"||!Tt&&Io(i,a)?(i=_o(),Ht=an=Vn=null,si=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gs&&a.locale!=="ko"?null:a.data;default:return null}}var hl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!hl[i.type]:a==="textarea"}function fl(i,a,c,g){Lr(g),a=m(a,"onChange"),0<a.length&&(c=new vo("onChange","change",null,c,g),i.push({event:c,listeners:a}))}var Pa=null,zn=null;function tf(i){xu(i,0)}function oi(i){var a=Es(i);if(Cr(a))return i}function nf(i,a){if(i==="change")return a}var Dr=!1;if(f){var bo;if(f){var pl="oninput"in document;if(!pl){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),pl=typeof ml.oninput=="function"}bo=pl}else bo=!1;Dr=bo&&(!document.documentMode||9<document.documentMode)}function Ca(){Pa&&(Pa.detachEvent("onpropertychange",gl),zn=Pa=null)}function gl(i){if(i.propertyName==="value"&&oi(zn)){var a=[];fl(a,zn,i,ro(i)),ts(tf,a)}}function _l(i,a,c){i==="focusin"?(Ca(),Pa=a,zn=c,Pa.attachEvent("onpropertychange",gl)):i==="focusout"&&Ca()}function Po(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oi(zn)}function yl(i,a){if(i==="click")return oi(a)}function mu(i,a){if(i==="input"||i==="change")return oi(a)}function Lc(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var wr=typeof Object.is=="function"?Object.is:Lc;function Ai(i,a){if(wr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var v=c[g];if(!p.call(a,v)||!wr(i[v],a[v]))return!1}return!0}function Nc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gu(i,a){var c=Nc(i);i=0;for(var g;c;){if(c.nodeType===3){if(g=i+c.textContent.length,i<=a&&g>=a)return{node:c,offset:a-i};i=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Nc(c)}}function Oc(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Oc(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function _u(){for(var i=window,a=Ar();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Ar(i.document)}return a}function yu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Vr(i){var a=_u(),c=i.focusedElem,g=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Oc(c.ownerDocument.documentElement,c)){if(g!==null&&yu(c)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=c.textContent.length,T=Math.min(g.start,v);g=g.end===void 0?T:Math.min(g.end,v),!i.extend&&T>g&&(v=g,g=T,T=v),v=gu(c,T);var P=gu(c,g);v&&P&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),T>g?(i.addRange(a),i.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var vl=f&&"documentMode"in document&&11>=document.documentMode,Co=null,Ao=null,Aa=null,wl=!1;function Mc(i,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wl||Co==null||Co!==Ar(g)||(g=Co,"selectionStart"in g&&yu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Aa&&Ai(Aa,g)||(Aa=g,g=m(Ao,"onSelect"),0<g.length&&(a=new vo("onSelect","select",null,a,c),i.push({event:a,listeners:g}),a.target=Co)))}function ki(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var ko={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Ri={},vu={};f&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function ka(i){if(Ri[i])return Ri[i];if(!ko[i])return i;var a=ko[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in vu)return Ri[i]=a[c];return i}var Dc=ka("animationend"),zr=ka("animationiteration"),wu=ka("animationstart"),Eu=ka("transitionend"),Ro=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(i,a){Ro.set(i,a),l(a,[i])}for(var _s=0;_s<Vc.length;_s++){var El=Vc[_s],zc=El.toLowerCase(),rf=El[0].toUpperCase()+El.slice(1);Er(zc,"on"+rf)}Er(Dc,"onAnimationEnd"),Er(zr,"onAnimationIteration"),Er(wu,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(Eu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Tu(i,a,c){var g=i.type||"unknown-event";i.currentTarget=c,ao(g,a,void 0,i),i.currentTarget=null}function xu(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var g=i[c],v=g.event;g=g.listeners;e:{var T=void 0;if(a)for(var P=g.length-1;0<=P;P--){var W=g[P],Q=W.instance,oe=W.currentTarget;if(W=W.listener,Q!==T&&v.isPropagationStopped())break e;Tu(v,W,oe),T=Q}else for(P=0;P<g.length;P++){if(W=g[P],Q=W.instance,oe=W.currentTarget,W=W.listener,Q!==T&&v.isPropagationStopped())break e;Tu(v,W,oe),T=Q}}}if(qn)throw i=oo,qn=!1,oo=null,i}function Et(i,a){var c=a[Do];c===void 0&&(c=a[Do]=new Set);var g=i+"__bubble";c.has(g)||(jc(a,i,2,!1),c.add(g))}function Su(i,a,c){var g=0;a&&(g|=4),jc(c,i,g,a)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function No(i){if(!i[Ra]){i[Ra]=!0,r.forEach(function(c){c!=="selectionchange"&&(Fc.has(c)||Su(c,!1,i),Su(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ra]||(a[Ra]=!0,Su("selectionchange",!1,a))}}function jc(i,a,c,g){switch(nt(a)){case 1:var v=St;break;case 4:v=ll;break;default:v=cs}c=v.bind(null,a,c,i),v=void 0,!so||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(a,c,{capture:!0,passive:v}):i.addEventListener(a,c,!0):v!==void 0?i.addEventListener(a,c,{passive:v}):i.addEventListener(a,c,!1)}function s(i,a,c,g,v){var T=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var W=g.stateNode.containerInfo;if(W===v||W.nodeType===8&&W.parentNode===v)break;if(P===4)for(P=g.return;P!==null;){var Q=P.tag;if((Q===3||Q===4)&&(Q=P.stateNode.containerInfo,Q===v||Q.nodeType===8&&Q.parentNode===v))return;P=P.return}for(;W!==null;){if(P=vs(W),P===null)return;if(Q=P.tag,Q===5||Q===6){g=T=P;continue e}W=W.parentNode}}g=g.return}ts(function(){var oe=T,me=ro(c),ge=[];e:{var pe=Ro.get(i);if(pe!==void 0){var Se=vo,ke=i;switch(i){case"keypress":if(yo(c)===0)break e;case"keydown":case"keyup":Se=E;break;case"focusin":ke="focus",Se=ps;break;case"focusout":ke="blur",Se=ps;break;case"beforeblur":case"afterblur":Se=ps;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=le;break;case Dc:case zr:case wu:Se=ii;break;case Eu:Se=dt;break;case"scroll":Se=fu;break;case"wheel":Se=it;break;case"copy":case"cut":case"paste":Se=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=z}var Le=(a&4)!==0,Ut=!Le&&i==="scroll",re=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var X=oe,ie;X!==null;){ie=X;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,re!==null&&(ve=Rt(X,re),ve!=null&&Le.push(u(X,ve,ie)))),Ut)break;X=X.return}0<Le.length&&(pe=new Se(pe,ke,null,c,me),ge.push({event:pe,listeners:Le}))}}if(!(a&7)){e:{if(pe=i==="mouseover"||i==="pointerover",Se=i==="mouseout"||i==="pointerout",pe&&c!==Xi&&(ke=c.relatedTarget||c.fromElement)&&(vs(ke)||ke[pt]))break e;if((Se||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Se?(ke=c.relatedTarget||c.toElement,Se=oe,ke=ke?vs(ke):null,ke!==null&&(Ut=Wn(ke),ke!==Ut||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Se=null,ke=oe),Se!==ke)){if(Le=fs,ve="onMouseLeave",re="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Le=z,ve="onPointerLeave",re="onPointerEnter",X="pointer"),Ut=Se==null?pe:Es(Se),ie=ke==null?pe:Es(ke),pe=new Le(ve,X+"leave",Se,c,me),pe.target=Ut,pe.relatedTarget=ie,ve=null,vs(me)===oe&&(Le=new Le(re,X+"enter",ke,c,me),Le.target=ie,Le.relatedTarget=Ut,ve=Le),Ut=ve,Se&&ke)t:{for(Le=Se,re=ke,X=0,ie=Le;ie;ie=y(ie))X++;for(ie=0,ve=re;ve;ve=y(ve))ie++;for(;0<X-ie;)Le=y(Le),X--;for(;0<ie-X;)re=y(re),ie--;for(;X--;){if(Le===re||re!==null&&Le===re.alternate)break t;Le=y(Le),re=y(re)}Le=null}else Le=null;Se!==null&&S(ge,pe,Se,Le,!1),ke!==null&&Ut!==null&&S(ge,Ut,ke,Le,!0)}}e:{if(pe=oe?Es(oe):window,Se=pe.nodeName&&pe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&pe.type==="file")var Oe=nf;else if(Rc(pe))if(Dr)Oe=mu;else{Oe=Po;var Be=_l}else(Se=pe.nodeName)&&Se.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Oe=yl);if(Oe&&(Oe=Oe(i,oe))){fl(ge,Oe,c,me);break e}Be&&Be(i,pe,oe),i==="focusout"&&(Be=pe._wrapperState)&&Be.controlled&&pe.type==="number"&&Xs(pe,"number",pe.value)}switch(Be=oe?Es(oe):window,i){case"focusin":(Rc(Be)||Be.contentEditable==="true")&&(Co=Be,Ao=oe,Aa=null);break;case"focusout":Aa=Ao=Co=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Mc(ge,c,me);break;case"selectionchange":if(vl)break;case"keydown":case"keyup":Mc(ge,c,me)}var Ue;if(Tt)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else si?Io(i,c)&&(Ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(gs&&c.locale!=="ko"&&(si||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&si&&(Ue=_o()):(Vn=me,an="value"in Vn?Vn.value:Vn.textContent,si=!0)),Be=m(oe,Ke),0<Be.length&&(Ke=new So(Ke,i,null,c,me),ge.push({event:Ke,listeners:Be}),Ue?Ke.data=Ue:(Ue=pu(c),Ue!==null&&(Ke.data=Ue)))),(Ue=Lt?ef(i,c):Ci(i,c))&&(oe=m(oe,"onBeforeInput"),0<oe.length&&(me=new So("onBeforeInput","beforeinput",null,c,me),ge.push({event:me,listeners:oe}),me.data=Ue))}xu(ge,a)})}function u(i,a,c){return{instance:i,listener:a,currentTarget:c}}function m(i,a){for(var c=a+"Capture",g=[];i!==null;){var v=i,T=v.stateNode;v.tag===5&&T!==null&&(v=T,T=Rt(i,c),T!=null&&g.unshift(u(i,T,v)),T=Rt(i,a),T!=null&&g.push(u(i,T,v))),i=i.return}return g}function y(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function S(i,a,c,g,v){for(var T=a._reactName,P=[];c!==null&&c!==g;){var W=c,Q=W.alternate,oe=W.stateNode;if(Q!==null&&Q===g)break;W.tag===5&&oe!==null&&(W=oe,v?(Q=Rt(c,T),Q!=null&&P.unshift(u(c,Q,W))):v||(Q=Rt(c,T),Q!=null&&P.push(u(c,Q,W)))),c=c.return}P.length!==0&&i.push({event:a,listeners:P})}var k=/\r\n?/g,K=/\u0000|\uFFFD/g;function ne(i){return(typeof i=="string"?i:""+i).replace(k,`
`).replace(K,"")}function se(i,a,c){if(a=ne(a),ne(i)!==a&&c)throw Error(t(425))}function fe(){}var Te=null,je=null;function Xe(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xt=typeof setTimeout=="function"?setTimeout:void 0,Gt=typeof clearTimeout=="function"?clearTimeout:void 0,Fn=typeof Promise=="function"?Promise:void 0,In=typeof queueMicrotask=="function"?queueMicrotask:typeof Fn<"u"?function(i){return Fn.resolve(null).then(i).catch(Oo)}:Xt;function Oo(i){setTimeout(function(){throw i})}function Iu(i,a){var c=a,g=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(g===0){i.removeChild(v),Yt(a);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=v}while(c);Yt(a)}function Li(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Bc(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Fr="__reactFiber$"+ys,Mo="__reactProps$"+ys,pt="__reactContainer$"+ys,Do="__reactEvents$"+ys,sf="__reactListeners$"+ys,of="__reactHandles$"+ys;function vs(i){var a=i[Fr];if(a)return a;for(var c=i.parentNode;c;){if(a=c[pt]||c[Fr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Bc(i);i!==null;){if(c=i[Fr])return c;i=Bc(i)}return a}i=c,c=i.parentNode}return null}function ws(i){return i=i[Fr]||i[pt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Es(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Tl(i){return i[Mo]||null}var af=[],xl=-1;function Vo(i){return{current:i}}function Pt(i){0>xl||(i.current=af[xl],af[xl]=null,xl--)}function It(i,a){xl++,af[xl]=i.current,i.current=a}var zo={},bn=Vo(zo),rr=Vo(!1),La=zo;function Sl(i,a){var c=i.type.contextTypes;if(!c)return zo;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},T;for(T in c)v[T]=a[T];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function ir(i){return i=i.childContextTypes,i!=null}function Uc(){Pt(rr),Pt(bn)}function Cg(i,a,c){if(bn.current!==zo)throw Error(t(168));It(bn,a),It(rr,c)}function Ag(i,a,c){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(t(108,Je(i)||"Unknown",v));return ae({},c,g)}function $c(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||zo,La=bn.current,It(bn,i),It(rr,rr.current),!0}function kg(i,a,c){var g=i.stateNode;if(!g)throw Error(t(169));c?(i=Ag(i,a,La),g.__reactInternalMemoizedMergedChildContext=i,Pt(rr),Pt(bn),It(bn,i)):Pt(rr),It(rr,c)}var Ts=null,Hc=!1,lf=!1;function Rg(i){Ts===null?Ts=[i]:Ts.push(i)}function fT(i){Hc=!0,Rg(i)}function Fo(){if(!lf&&Ts!==null){lf=!0;var i=0,a=et;try{var c=Ts;for(et=1;i<c.length;i++){var g=c[i];do g=g(!0);while(g!==null)}Ts=null,Hc=!1}catch(v){throw Ts!==null&&(Ts=Ts.slice(i+1)),uo(is,Fo),v}finally{et=a,lf=!1}}return null}var Il=[],bl=0,qc=null,Wc=0,jr=[],Br=0,Na=null,xs=1,Ss="";function Oa(i,a){Il[bl++]=Wc,Il[bl++]=qc,qc=i,Wc=a}function Lg(i,a,c){jr[Br++]=xs,jr[Br++]=Ss,jr[Br++]=Na,Na=i;var g=xs;i=Ss;var v=32-qe(g)-1;g&=~(1<<v),c+=1;var T=32-qe(a)+v;if(30<T){var P=v-v%5;T=(g&(1<<P)-1).toString(32),g>>=P,v-=P,xs=1<<32-qe(a)+v|c<<v|g,Ss=T+i}else xs=1<<T|c<<v|g,Ss=i}function uf(i){i.return!==null&&(Oa(i,1),Lg(i,1,0))}function cf(i){for(;i===qc;)qc=Il[--bl],Il[bl]=null,Wc=Il[--bl],Il[bl]=null;for(;i===Na;)Na=jr[--Br],jr[Br]=null,Ss=jr[--Br],jr[Br]=null,xs=jr[--Br],jr[Br]=null}var Tr=null,xr=null,Ct=!1,ai=null;function Ng(i,a){var c=qr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Og(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Tr=i,xr=Li(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Tr=i,xr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Na!==null?{id:xs,overflow:Ss}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=qr(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,Tr=i,xr=null,!0):!1;default:return!1}}function df(i){return(i.mode&1)!==0&&(i.flags&128)===0}function hf(i){if(Ct){var a=xr;if(a){var c=a;if(!Og(i,a)){if(df(i))throw Error(t(418));a=Li(c.nextSibling);var g=Tr;a&&Og(i,a)?Ng(g,c):(i.flags=i.flags&-4097|2,Ct=!1,Tr=i)}}else{if(df(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ct=!1,Tr=i}}}function Mg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tr=i}function Gc(i){if(i!==Tr)return!1;if(!Ct)return Mg(i),Ct=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Xe(i.type,i.memoizedProps)),a&&(a=xr)){if(df(i))throw Dg(),Error(t(418));for(;a;)Ng(i,a),a=Li(a.nextSibling)}if(Mg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){xr=Li(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}xr=null}}else xr=Tr?Li(i.stateNode.nextSibling):null;return!0}function Dg(){for(var i=xr;i;)i=Li(i.nextSibling)}function Pl(){xr=Tr=null,Ct=!1}function ff(i){ai===null?ai=[i]:ai.push(i)}var pT=Z.ReactCurrentBatchConfig;function bu(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var g=c.stateNode}if(!g)throw Error(t(147,i));var v=g,T=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(P){var W=v.refs;P===null?delete W[T]:W[T]=P},a._stringRef=T,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function Kc(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Vg(i){var a=i._init;return a(i._payload)}function zg(i){function a(re,X){if(i){var ie=re.deletions;ie===null?(re.deletions=[X],re.flags|=16):ie.push(X)}}function c(re,X){if(!i)return null;for(;X!==null;)a(re,X),X=X.sibling;return null}function g(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function v(re,X){return re=Go(re,X),re.index=0,re.sibling=null,re}function T(re,X,ie){return re.index=ie,i?(ie=re.alternate,ie!==null?(ie=ie.index,ie<X?(re.flags|=2,X):ie):(re.flags|=2,X)):(re.flags|=1048576,X)}function P(re){return i&&re.alternate===null&&(re.flags|=2),re}function W(re,X,ie,ve){return X===null||X.tag!==6?(X=ip(ie,re.mode,ve),X.return=re,X):(X=v(X,ie),X.return=re,X)}function Q(re,X,ie,ve){var Oe=ie.type;return Oe===U?me(re,X,ie.props.children,ve,ie.key):X!==null&&(X.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Me&&Vg(Oe)===X.type)?(ve=v(X,ie.props),ve.ref=bu(re,X,ie),ve.return=re,ve):(ve=yd(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=bu(re,X,ie),ve.return=re,ve)}function oe(re,X,ie,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=sp(ie,re.mode,ve),X.return=re,X):(X=v(X,ie.children||[]),X.return=re,X)}function me(re,X,ie,ve,Oe){return X===null||X.tag!==7?(X=Ua(ie,re.mode,ve,Oe),X.return=re,X):(X=v(X,ie),X.return=re,X)}function ge(re,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return X=ip(""+X,re.mode,ie),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case J:return ie=yd(X.type,X.key,X.props,null,re.mode,ie),ie.ref=bu(re,null,X),ie.return=re,ie;case ce:return X=sp(X,re.mode,ie),X.return=re,X;case Me:var ve=X._init;return ge(re,ve(X._payload),ie)}if(kr(X)||ye(X))return X=Ua(X,re.mode,ie,null),X.return=re,X;Kc(re,X)}return null}function pe(re,X,ie,ve){var Oe=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Oe!==null?null:W(re,X,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return ie.key===Oe?Q(re,X,ie,ve):null;case ce:return ie.key===Oe?oe(re,X,ie,ve):null;case Me:return Oe=ie._init,pe(re,X,Oe(ie._payload),ve)}if(kr(ie)||ye(ie))return Oe!==null?null:me(re,X,ie,ve,null);Kc(re,ie)}return null}function Se(re,X,ie,ve,Oe){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return re=re.get(ie)||null,W(X,re,""+ve,Oe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case J:return re=re.get(ve.key===null?ie:ve.key)||null,Q(X,re,ve,Oe);case ce:return re=re.get(ve.key===null?ie:ve.key)||null,oe(X,re,ve,Oe);case Me:var Be=ve._init;return Se(re,X,ie,Be(ve._payload),Oe)}if(kr(ve)||ye(ve))return re=re.get(ie)||null,me(X,re,ve,Oe,null);Kc(X,ve)}return null}function ke(re,X,ie,ve){for(var Oe=null,Be=null,Ue=X,Ke=X=0,cn=null;Ue!==null&&Ke<ie.length;Ke++){Ue.index>Ke?(cn=Ue,Ue=null):cn=Ue.sibling;var ct=pe(re,Ue,ie[Ke],ve);if(ct===null){Ue===null&&(Ue=cn);break}i&&Ue&&ct.alternate===null&&a(re,Ue),X=T(ct,X,Ke),Be===null?Oe=ct:Be.sibling=ct,Be=ct,Ue=cn}if(Ke===ie.length)return c(re,Ue),Ct&&Oa(re,Ke),Oe;if(Ue===null){for(;Ke<ie.length;Ke++)Ue=ge(re,ie[Ke],ve),Ue!==null&&(X=T(Ue,X,Ke),Be===null?Oe=Ue:Be.sibling=Ue,Be=Ue);return Ct&&Oa(re,Ke),Oe}for(Ue=g(re,Ue);Ke<ie.length;Ke++)cn=Se(Ue,re,Ke,ie[Ke],ve),cn!==null&&(i&&cn.alternate!==null&&Ue.delete(cn.key===null?Ke:cn.key),X=T(cn,X,Ke),Be===null?Oe=cn:Be.sibling=cn,Be=cn);return i&&Ue.forEach(function(Ko){return a(re,Ko)}),Ct&&Oa(re,Ke),Oe}function Le(re,X,ie,ve){var Oe=ye(ie);if(typeof Oe!="function")throw Error(t(150));if(ie=Oe.call(ie),ie==null)throw Error(t(151));for(var Be=Oe=null,Ue=X,Ke=X=0,cn=null,ct=ie.next();Ue!==null&&!ct.done;Ke++,ct=ie.next()){Ue.index>Ke?(cn=Ue,Ue=null):cn=Ue.sibling;var Ko=pe(re,Ue,ct.value,ve);if(Ko===null){Ue===null&&(Ue=cn);break}i&&Ue&&Ko.alternate===null&&a(re,Ue),X=T(Ko,X,Ke),Be===null?Oe=Ko:Be.sibling=Ko,Be=Ko,Ue=cn}if(ct.done)return c(re,Ue),Ct&&Oa(re,Ke),Oe;if(Ue===null){for(;!ct.done;Ke++,ct=ie.next())ct=ge(re,ct.value,ve),ct!==null&&(X=T(ct,X,Ke),Be===null?Oe=ct:Be.sibling=ct,Be=ct);return Ct&&Oa(re,Ke),Oe}for(Ue=g(re,Ue);!ct.done;Ke++,ct=ie.next())ct=Se(Ue,re,Ke,ct.value,ve),ct!==null&&(i&&ct.alternate!==null&&Ue.delete(ct.key===null?Ke:ct.key),X=T(ct,X,Ke),Be===null?Oe=ct:Be.sibling=ct,Be=ct);return i&&Ue.forEach(function(WT){return a(re,WT)}),Ct&&Oa(re,Ke),Oe}function Ut(re,X,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===U&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:e:{for(var Oe=ie.key,Be=X;Be!==null;){if(Be.key===Oe){if(Oe=ie.type,Oe===U){if(Be.tag===7){c(re,Be.sibling),X=v(Be,ie.props.children),X.return=re,re=X;break e}}else if(Be.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Me&&Vg(Oe)===Be.type){c(re,Be.sibling),X=v(Be,ie.props),X.ref=bu(re,Be,ie),X.return=re,re=X;break e}c(re,Be);break}else a(re,Be);Be=Be.sibling}ie.type===U?(X=Ua(ie.props.children,re.mode,ve,ie.key),X.return=re,re=X):(ve=yd(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=bu(re,X,ie),ve.return=re,re=ve)}return P(re);case ce:e:{for(Be=ie.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){c(re,X.sibling),X=v(X,ie.children||[]),X.return=re,re=X;break e}else{c(re,X);break}else a(re,X);X=X.sibling}X=sp(ie,re.mode,ve),X.return=re,re=X}return P(re);case Me:return Be=ie._init,Ut(re,X,Be(ie._payload),ve)}if(kr(ie))return ke(re,X,ie,ve);if(ye(ie))return Le(re,X,ie,ve);Kc(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,X!==null&&X.tag===6?(c(re,X.sibling),X=v(X,ie),X.return=re,re=X):(c(re,X),X=ip(ie,re.mode,ve),X.return=re,re=X),P(re)):c(re,X)}return Ut}var Cl=zg(!0),Fg=zg(!1),Zc=Vo(null),Qc=null,Al=null,pf=null;function mf(){pf=Al=Qc=null}function gf(i){var a=Zc.current;Pt(Zc),i._currentValue=a}function _f(i,a,c){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===c)break;i=i.return}}function kl(i,a){Qc=i,pf=Al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(sr=!0),i.firstContext=null)}function Ur(i){var a=i._currentValue;if(pf!==i)if(i={context:i,memoizedValue:a,next:null},Al===null){if(Qc===null)throw Error(t(308));Al=i,Qc.dependencies={lanes:0,firstContext:i}}else Al=Al.next=i;return a}var Ma=null;function yf(i){Ma===null?Ma=[i]:Ma.push(i)}function jg(i,a,c,g){var v=a.interleaved;return v===null?(c.next=c,yf(a)):(c.next=v.next,v.next=c),a.interleaved=c,Is(i,g)}function Is(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var jo=!1;function vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function bs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Bo(i,a,c){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,ut&2){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,Is(i,c)}return v=g.interleaved,v===null?(a.next=a,yf(g)):(a.next=v.next,v.next=a),g.interleaved=a,Is(i,c)}function Yc(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,Tn(i,c)}}function Ug(i,a){var c=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var v=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};T===null?v=T=P:T=T.next=P,c=c.next}while(c!==null);T===null?v=T=a:T=T.next=a}else v=T=a;c={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:g.shared,effects:g.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Xc(i,a,c,g){var v=i.updateQueue;jo=!1;var T=v.firstBaseUpdate,P=v.lastBaseUpdate,W=v.shared.pending;if(W!==null){v.shared.pending=null;var Q=W,oe=Q.next;Q.next=null,P===null?T=oe:P.next=oe,P=Q;var me=i.alternate;me!==null&&(me=me.updateQueue,W=me.lastBaseUpdate,W!==P&&(W===null?me.firstBaseUpdate=oe:W.next=oe,me.lastBaseUpdate=Q))}if(T!==null){var ge=v.baseState;P=0,me=oe=Q=null,W=T;do{var pe=W.lane,Se=W.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Se,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ke=i,Le=W;switch(pe=a,Se=c,Le.tag){case 1:if(ke=Le.payload,typeof ke=="function"){ge=ke.call(Se,ge,pe);break e}ge=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Le.payload,pe=typeof ke=="function"?ke.call(Se,ge,pe):ke,pe==null)break e;ge=ae({},ge,pe);break e;case 2:jo=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,pe=v.effects,pe===null?v.effects=[W]:pe.push(W))}else Se={eventTime:Se,lane:pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},me===null?(oe=me=Se,Q=ge):me=me.next=Se,P|=pe;if(W=W.next,W===null){if(W=v.shared.pending,W===null)break;pe=W,W=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);if(me===null&&(Q=ge),v.baseState=Q,v.firstBaseUpdate=oe,v.lastBaseUpdate=me,a=v.shared.interleaved,a!==null){v=a;do P|=v.lane,v=v.next;while(v!==a)}else T===null&&(v.shared.lanes=0);za|=P,i.lanes=P,i.memoizedState=ge}}function $g(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],v=g.callback;if(v!==null){if(g.callback=null,g=c,typeof v!="function")throw Error(t(191,v));v.call(g)}}}var Pu={},Ni=Vo(Pu),Cu=Vo(Pu),Au=Vo(Pu);function Da(i){if(i===Pu)throw Error(t(174));return i}function wf(i,a){switch(It(Au,a),It(Cu,i),It(Ni,Pu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Vt(a,i)}Pt(Ni),It(Ni,a)}function Rl(){Pt(Ni),Pt(Cu),Pt(Au)}function Hg(i){Da(Au.current);var a=Da(Ni.current),c=Vt(a,i.type);a!==c&&(It(Cu,i),It(Ni,c))}function Ef(i){Cu.current===i&&(Pt(Ni),Pt(Cu))}var Nt=Vo(0);function Jc(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tf=[];function xf(){for(var i=0;i<Tf.length;i++)Tf[i]._workInProgressVersionPrimary=null;Tf.length=0}var ed=Z.ReactCurrentDispatcher,Sf=Z.ReactCurrentBatchConfig,Va=0,Ot=null,Jt=null,ln=null,td=!1,ku=!1,Ru=0,mT=0;function Pn(){throw Error(t(321))}function If(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!wr(i[c],a[c]))return!1;return!0}function bf(i,a,c,g,v,T){if(Va=T,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ed.current=i===null||i.memoizedState===null?vT:wT,i=c(g,v),ku){T=0;do{if(ku=!1,Ru=0,25<=T)throw Error(t(301));T+=1,ln=Jt=null,a.updateQueue=null,ed.current=ET,i=c(g,v)}while(ku)}if(ed.current=id,a=Jt!==null&&Jt.next!==null,Va=0,ln=Jt=Ot=null,td=!1,a)throw Error(t(300));return i}function Pf(){var i=Ru!==0;return Ru=0,i}function Oi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ot.memoizedState=ln=i:ln=ln.next=i,ln}function $r(){if(Jt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var a=ln===null?Ot.memoizedState:ln.next;if(a!==null)ln=a,Jt=i;else{if(i===null)throw Error(t(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Ot.memoizedState=ln=i:ln=ln.next=i}return ln}function Lu(i,a){return typeof a=="function"?a(i):a}function Cf(i){var a=$r(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var g=Jt,v=g.baseQueue,T=c.pending;if(T!==null){if(v!==null){var P=v.next;v.next=T.next,T.next=P}g.baseQueue=v=T,c.pending=null}if(v!==null){T=v.next,g=g.baseState;var W=P=null,Q=null,oe=T;do{var me=oe.lane;if((Va&me)===me)Q!==null&&(Q=Q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:i(g,oe.action);else{var ge={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Q===null?(W=Q=ge,P=g):Q=Q.next=ge,Ot.lanes|=me,za|=me}oe=oe.next}while(oe!==null&&oe!==T);Q===null?P=g:Q.next=W,wr(g,a.memoizedState)||(sr=!0),a.memoizedState=g,a.baseState=P,a.baseQueue=Q,c.lastRenderedState=g}if(i=c.interleaved,i!==null){v=i;do T=v.lane,Ot.lanes|=T,za|=T,v=v.next;while(v!==i)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Af(i){var a=$r(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var g=c.dispatch,v=c.pending,T=a.memoizedState;if(v!==null){c.pending=null;var P=v=v.next;do T=i(T,P.action),P=P.next;while(P!==v);wr(T,a.memoizedState)||(sr=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),c.lastRenderedState=T}return[T,g]}function qg(){}function Wg(i,a){var c=Ot,g=$r(),v=a(),T=!wr(g.memoizedState,v);if(T&&(g.memoizedState=v,sr=!0),g=g.queue,kf(Zg.bind(null,c,g,i),[i]),g.getSnapshot!==a||T||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Nu(9,Kg.bind(null,c,g,v,a),void 0,null),un===null)throw Error(t(349));Va&30||Gg(c,a,v)}return v}function Gg(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Kg(i,a,c,g){a.value=c,a.getSnapshot=g,Qg(a)&&Yg(i)}function Zg(i,a,c){return c(function(){Qg(a)&&Yg(i)})}function Qg(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!wr(i,c)}catch{return!0}}function Yg(i){var a=Is(i,1);a!==null&&di(a,i,1,-1)}function Xg(i){var a=Oi();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:i},a.queue=i,i=i.dispatch=yT.bind(null,Ot,i),[a.memoizedState,i]}function Nu(i,a,c,g){return i={tag:i,create:a,destroy:c,deps:g,next:null},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(g=c.next,c.next=i,i.next=g,a.lastEffect=i)),i}function Jg(){return $r().memoizedState}function nd(i,a,c,g){var v=Oi();Ot.flags|=i,v.memoizedState=Nu(1|a,c,void 0,g===void 0?null:g)}function rd(i,a,c,g){var v=$r();g=g===void 0?null:g;var T=void 0;if(Jt!==null){var P=Jt.memoizedState;if(T=P.destroy,g!==null&&If(g,P.deps)){v.memoizedState=Nu(a,c,T,g);return}}Ot.flags|=i,v.memoizedState=Nu(1|a,c,T,g)}function e_(i,a){return nd(8390656,8,i,a)}function kf(i,a){return rd(2048,8,i,a)}function t_(i,a){return rd(4,2,i,a)}function n_(i,a){return rd(4,4,i,a)}function r_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function i_(i,a,c){return c=c!=null?c.concat([i]):null,rd(4,4,r_.bind(null,a,i),c)}function Rf(){}function s_(i,a){var c=$r();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&If(a,g[1])?g[0]:(c.memoizedState=[i,a],i)}function o_(i,a){var c=$r();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&If(a,g[1])?g[0]:(i=i(),c.memoizedState=[i,a],i)}function a_(i,a,c){return Va&21?(wr(c,a)||(c=as(),Ot.lanes|=c,za|=c,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,sr=!0),i.memoizedState=c)}function gT(i,a){var c=et;et=c!==0&&4>c?c:4,i(!0);var g=Sf.transition;Sf.transition={};try{i(!1),a()}finally{et=c,Sf.transition=g}}function l_(){return $r().memoizedState}function _T(i,a,c){var g=qo(i);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},u_(i))c_(a,c);else if(c=jg(i,a,c,g),c!==null){var v=Bn();di(c,i,g,v),d_(c,a,g)}}function yT(i,a,c){var g=qo(i),v={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(u_(i))c_(a,v);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var P=a.lastRenderedState,W=T(P,c);if(v.hasEagerState=!0,v.eagerState=W,wr(W,P)){var Q=a.interleaved;Q===null?(v.next=v,yf(a)):(v.next=Q.next,Q.next=v),a.interleaved=v;return}}catch{}finally{}c=jg(i,a,v,g),c!==null&&(v=Bn(),di(c,i,g,v),d_(c,a,g))}}function u_(i){var a=i.alternate;return i===Ot||a!==null&&a===Ot}function c_(i,a){ku=td=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function d_(i,a,c){if(c&4194240){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,Tn(i,c)}}var id={readContext:Ur,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},vT={readContext:Ur,useCallback:function(i,a){return Oi().memoizedState=[i,a===void 0?null:a],i},useContext:Ur,useEffect:e_,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,nd(4194308,4,r_.bind(null,a,i),c)},useLayoutEffect:function(i,a){return nd(4194308,4,i,a)},useInsertionEffect:function(i,a){return nd(4,2,i,a)},useMemo:function(i,a){var c=Oi();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var g=Oi();return a=c!==void 0?c(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=_T.bind(null,Ot,i),[g.memoizedState,i]},useRef:function(i){var a=Oi();return i={current:i},a.memoizedState=i},useState:Xg,useDebugValue:Rf,useDeferredValue:function(i){return Oi().memoizedState=i},useTransition:function(){var i=Xg(!1),a=i[0];return i=gT.bind(null,i[1]),Oi().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var g=Ot,v=Oi();if(Ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),un===null)throw Error(t(349));Va&30||Gg(g,a,c)}v.memoizedState=c;var T={value:c,getSnapshot:a};return v.queue=T,e_(Zg.bind(null,g,T,i),[i]),g.flags|=2048,Nu(9,Kg.bind(null,g,T,c,a),void 0,null),c},useId:function(){var i=Oi(),a=un.identifierPrefix;if(Ct){var c=Ss,g=xs;c=(g&~(1<<32-qe(g)-1)).toString(32)+c,a=":"+a+"R"+c,c=Ru++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=mT++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},wT={readContext:Ur,useCallback:s_,useContext:Ur,useEffect:kf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:Cf,useRef:Jg,useState:function(){return Cf(Lu)},useDebugValue:Rf,useDeferredValue:function(i){var a=$r();return a_(a,Jt.memoizedState,i)},useTransition:function(){var i=Cf(Lu)[0],a=$r().memoizedState;return[i,a]},useMutableSource:qg,useSyncExternalStore:Wg,useId:l_,unstable_isNewReconciler:!1},ET={readContext:Ur,useCallback:s_,useContext:Ur,useEffect:kf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:Af,useRef:Jg,useState:function(){return Af(Lu)},useDebugValue:Rf,useDeferredValue:function(i){var a=$r();return Jt===null?a.memoizedState=i:a_(a,Jt.memoizedState,i)},useTransition:function(){var i=Af(Lu)[0],a=$r().memoizedState;return[i,a]},useMutableSource:qg,useSyncExternalStore:Wg,useId:l_,unstable_isNewReconciler:!1};function li(i,a){if(i&&i.defaultProps){a=ae({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Lf(i,a,c,g){a=i.memoizedState,c=c(g,a),c=c==null?a:ae({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var sd={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var g=Bn(),v=qo(i),T=bs(g,v);T.payload=a,c!=null&&(T.callback=c),a=Bo(i,T,v),a!==null&&(di(a,i,v,g),Yc(a,i,v))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var g=Bn(),v=qo(i),T=bs(g,v);T.tag=1,T.payload=a,c!=null&&(T.callback=c),a=Bo(i,T,v),a!==null&&(di(a,i,v,g),Yc(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Bn(),g=qo(i),v=bs(c,g);v.tag=2,a!=null&&(v.callback=a),a=Bo(i,v,g),a!==null&&(di(a,i,g,c),Yc(a,i,g))}};function h_(i,a,c,g,v,T,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,T,P):a.prototype&&a.prototype.isPureReactComponent?!Ai(c,g)||!Ai(v,T):!0}function f_(i,a,c){var g=!1,v=zo,T=a.contextType;return typeof T=="object"&&T!==null?T=Ur(T):(v=ir(a)?La:bn.current,g=a.contextTypes,T=(g=g!=null)?Sl(i,v):zo),a=new a(c,T),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=sd,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=T),a}function p_(i,a,c,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==i&&sd.enqueueReplaceState(a,a.state,null)}function Nf(i,a,c,g){var v=i.stateNode;v.props=c,v.state=i.memoizedState,v.refs={},vf(i);var T=a.contextType;typeof T=="object"&&T!==null?v.context=Ur(T):(T=ir(a)?La:bn.current,v.context=Sl(i,T)),v.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Lf(i,a,T,c),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&sd.enqueueReplaceState(v,v.state,null),Xc(i,c,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Ll(i,a){try{var c="",g=a;do c+=Pe(g),g=g.return;while(g);var v=c}catch(T){v=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:a,stack:v,digest:null}}function Of(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function Mf(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var TT=typeof WeakMap=="function"?WeakMap:Map;function m_(i,a,c){c=bs(-1,c),c.tag=3,c.payload={element:null};var g=a.value;return c.callback=function(){hd||(hd=!0,Qf=g),Mf(i,a)},c}function g_(i,a,c){c=bs(-1,c),c.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;c.payload=function(){return g(v)},c.callback=function(){Mf(i,a)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(c.callback=function(){Mf(i,a),typeof g!="function"&&($o===null?$o=new Set([this]):$o.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function __(i,a,c){var g=i.pingCache;if(g===null){g=i.pingCache=new TT;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(c)||(v.add(c),i=DT.bind(null,i,a,c),a.then(i,i))}function y_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function v_(i,a,c,g,v){return i.mode&1?(i.flags|=65536,i.lanes=v,i):(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=bs(-1,1),a.tag=2,Bo(c,a,1))),c.lanes|=1),i)}var xT=Z.ReactCurrentOwner,sr=!1;function jn(i,a,c,g){a.child=i===null?Fg(a,null,c,g):Cl(a,i.child,c,g)}function w_(i,a,c,g,v){c=c.render;var T=a.ref;return kl(a,v),g=bf(i,a,c,g,T,v),c=Pf(),i!==null&&!sr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ps(i,a,v)):(Ct&&c&&uf(a),a.flags|=1,jn(i,a,g,v),a.child)}function E_(i,a,c,g,v){if(i===null){var T=c.type;return typeof T=="function"&&!rp(T)&&T.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=T,T_(i,a,T,g,v)):(i=yd(c.type,null,g,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(T=i.child,!(i.lanes&v)){var P=T.memoizedProps;if(c=c.compare,c=c!==null?c:Ai,c(P,g)&&i.ref===a.ref)return Ps(i,a,v)}return a.flags|=1,i=Go(T,g),i.ref=a.ref,i.return=a,a.child=i}function T_(i,a,c,g,v){if(i!==null){var T=i.memoizedProps;if(Ai(T,g)&&i.ref===a.ref)if(sr=!1,a.pendingProps=g=T,(i.lanes&v)!==0)i.flags&131072&&(sr=!0);else return a.lanes=i.lanes,Ps(i,a,v)}return Df(i,a,c,g,v)}function x_(i,a,c){var g=a.pendingProps,v=g.children,T=i!==null?i.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ol,Sr),Sr|=c;else{if(!(c&1073741824))return i=T!==null?T.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,It(Ol,Sr),Sr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:c,It(Ol,Sr),Sr|=g}else T!==null?(g=T.baseLanes|c,a.memoizedState=null):g=c,It(Ol,Sr),Sr|=g;return jn(i,a,v,c),a.child}function S_(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Df(i,a,c,g,v){var T=ir(c)?La:bn.current;return T=Sl(a,T),kl(a,v),c=bf(i,a,c,g,T,v),g=Pf(),i!==null&&!sr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ps(i,a,v)):(Ct&&g&&uf(a),a.flags|=1,jn(i,a,c,v),a.child)}function I_(i,a,c,g,v){if(ir(c)){var T=!0;$c(a)}else T=!1;if(kl(a,v),a.stateNode===null)ad(i,a),f_(a,c,g),Nf(a,c,g,v),g=!0;else if(i===null){var P=a.stateNode,W=a.memoizedProps;P.props=W;var Q=P.context,oe=c.contextType;typeof oe=="object"&&oe!==null?oe=Ur(oe):(oe=ir(c)?La:bn.current,oe=Sl(a,oe));var me=c.getDerivedStateFromProps,ge=typeof me=="function"||typeof P.getSnapshotBeforeUpdate=="function";ge||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==g||Q!==oe)&&p_(a,P,g,oe),jo=!1;var pe=a.memoizedState;P.state=pe,Xc(a,g,P,v),Q=a.memoizedState,W!==g||pe!==Q||rr.current||jo?(typeof me=="function"&&(Lf(a,c,me,g),Q=a.memoizedState),(W=jo||h_(a,c,W,g,pe,Q,oe))?(ge||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Q),P.props=g,P.state=Q,P.context=oe,g=W):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{P=a.stateNode,Bg(i,a),W=a.memoizedProps,oe=a.type===a.elementType?W:li(a.type,W),P.props=oe,ge=a.pendingProps,pe=P.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=Ur(Q):(Q=ir(c)?La:bn.current,Q=Sl(a,Q));var Se=c.getDerivedStateFromProps;(me=typeof Se=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==ge||pe!==Q)&&p_(a,P,g,Q),jo=!1,pe=a.memoizedState,P.state=pe,Xc(a,g,P,v);var ke=a.memoizedState;W!==ge||pe!==ke||rr.current||jo?(typeof Se=="function"&&(Lf(a,c,Se,g),ke=a.memoizedState),(oe=jo||h_(a,c,oe,g,pe,ke,Q)||!1)?(me||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,ke,Q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,ke,Q)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||W===i.memoizedProps&&pe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&pe===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ke),P.props=g,P.state=ke,P.context=Q,g=oe):(typeof P.componentDidUpdate!="function"||W===i.memoizedProps&&pe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&pe===i.memoizedState||(a.flags|=1024),g=!1)}return Vf(i,a,c,g,T,v)}function Vf(i,a,c,g,v,T){S_(i,a);var P=(a.flags&128)!==0;if(!g&&!P)return v&&kg(a,c,!1),Ps(i,a,T);g=a.stateNode,xT.current=a;var W=P&&typeof c.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&P?(a.child=Cl(a,i.child,null,T),a.child=Cl(a,null,W,T)):jn(i,a,W,T),a.memoizedState=g.state,v&&kg(a,c,!0),a.child}function b_(i){var a=i.stateNode;a.pendingContext?Cg(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Cg(i,a.context,!1),wf(i,a.containerInfo)}function P_(i,a,c,g,v){return Pl(),ff(v),a.flags|=256,jn(i,a,c,g),a.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function C_(i,a,c){var g=a.pendingProps,v=Nt.current,T=!1,P=(a.flags&128)!==0,W;if((W=P)||(W=i!==null&&i.memoizedState===null?!1:(v&2)!==0),W?(T=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),It(Nt,v&1),i===null)return hf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=g.children,i=g.fallback,T?(g=a.mode,T=a.child,P={mode:"hidden",children:P},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=P):T=vd(P,g,0,null),i=Ua(i,g,c,null),T.return=a,i.return=a,T.sibling=i,a.child=T,a.child.memoizedState=Ff(c),a.memoizedState=zf,i):jf(a,P));if(v=i.memoizedState,v!==null&&(W=v.dehydrated,W!==null))return ST(i,a,P,g,W,v,c);if(T){T=g.fallback,P=a.mode,v=i.child,W=v.sibling;var Q={mode:"hidden",children:g.children};return!(P&1)&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=Q,a.deletions=null):(g=Go(v,Q),g.subtreeFlags=v.subtreeFlags&14680064),W!==null?T=Go(W,T):(T=Ua(T,P,c,null),T.flags|=2),T.return=a,g.return=a,g.sibling=T,a.child=g,g=T,T=a.child,P=i.child.memoizedState,P=P===null?Ff(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},T.memoizedState=P,T.childLanes=i.childLanes&~c,a.memoizedState=zf,g}return T=i.child,i=T.sibling,g=Go(T,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=c),g.return=a,g.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=g,a.memoizedState=null,g}function jf(i,a){return a=vd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function od(i,a,c,g){return g!==null&&ff(g),Cl(a,i.child,null,c),i=jf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ST(i,a,c,g,v,T,P){if(c)return a.flags&256?(a.flags&=-257,g=Of(Error(t(422))),od(i,a,P,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(T=g.fallback,v=a.mode,g=vd({mode:"visible",children:g.children},v,0,null),T=Ua(T,v,P,null),T.flags|=2,g.return=a,T.return=a,g.sibling=T,a.child=g,a.mode&1&&Cl(a,i.child,null,P),a.child.memoizedState=Ff(P),a.memoizedState=zf,T);if(!(a.mode&1))return od(i,a,P,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var W=g.dgst;return g=W,T=Error(t(419)),g=Of(T,g,void 0),od(i,a,P,g)}if(W=(P&i.childLanes)!==0,sr||W){if(g=un,g!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(g.suspendedLanes|P)?0:v,v!==0&&v!==T.retryLane&&(T.retryLane=v,Is(i,v),di(g,i,v,-1))}return np(),g=Of(Error(t(421))),od(i,a,P,g)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=VT.bind(null,i),v._reactRetry=a,null):(i=T.treeContext,xr=Li(v.nextSibling),Tr=a,Ct=!0,ai=null,i!==null&&(jr[Br++]=xs,jr[Br++]=Ss,jr[Br++]=Na,xs=i.id,Ss=i.overflow,Na=a),a=jf(a,g.children),a.flags|=4096,a)}function A_(i,a,c){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),_f(i.return,a,c)}function Bf(i,a,c,g,v){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:v}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=c,T.tailMode=v)}function k_(i,a,c){var g=a.pendingProps,v=g.revealOrder,T=g.tail;if(jn(i,a,g.children,c),g=Nt.current,g&2)g=g&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A_(i,c,a);else if(i.tag===19)A_(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(It(Nt,g),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)i=c.alternate,i!==null&&Jc(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),Bf(a,!1,v,c,T);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Jc(i)===null){a.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Bf(a,!0,c,null,T);break;case"together":Bf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ad(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ps(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),za|=a.lanes,!(c&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=Go(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Go(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function IT(i,a,c){switch(a.tag){case 3:b_(a),Pl();break;case 5:Hg(a);break;case 1:ir(a.type)&&$c(a);break;case 4:wf(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;It(Zc,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(It(Nt,Nt.current&1),a.flags|=128,null):c&a.child.childLanes?C_(i,a,c):(It(Nt,Nt.current&1),i=Ps(i,a,c),i!==null?i.sibling:null);It(Nt,Nt.current&1);break;case 19:if(g=(c&a.childLanes)!==0,i.flags&128){if(g)return k_(i,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),It(Nt,Nt.current),g)break;return null;case 22:case 23:return a.lanes=0,x_(i,a,c)}return Ps(i,a,c)}var R_,Uf,L_,N_;R_=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Uf=function(){},L_=function(i,a,c,g){var v=i.memoizedProps;if(v!==g){i=a.stateNode,Da(Ni.current);var T=null;switch(c){case"input":v=qi(i,v),g=qi(i,g),T=[];break;case"select":v=ae({},v,{value:void 0}),g=ae({},g,{value:void 0}),T=[];break;case"textarea":v=Js(i,v),g=Js(i,g),T=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=fe)}ya(c,g);var P;c=null;for(oe in v)if(!g.hasOwnProperty(oe)&&v.hasOwnProperty(oe)&&v[oe]!=null)if(oe==="style"){var W=v[oe];for(P in W)W.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?T||(T=[]):(T=T||[]).push(oe,null));for(oe in g){var Q=g[oe];if(W=v!=null?v[oe]:void 0,g.hasOwnProperty(oe)&&Q!==W&&(Q!=null||W!=null))if(oe==="style")if(W){for(P in W)!W.hasOwnProperty(P)||Q&&Q.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in Q)Q.hasOwnProperty(P)&&W[P]!==Q[P]&&(c||(c={}),c[P]=Q[P])}else c||(T||(T=[]),T.push(oe,c)),c=Q;else oe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,W=W?W.__html:void 0,Q!=null&&W!==Q&&(T=T||[]).push(oe,Q)):oe==="children"?typeof Q!="string"&&typeof Q!="number"||(T=T||[]).push(oe,""+Q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?(Q!=null&&oe==="onScroll"&&Et("scroll",i),T||W===Q||(T=[])):(T=T||[]).push(oe,Q))}c&&(T=T||[]).push("style",c);var oe=T;(a.updateQueue=oe)&&(a.flags|=4)}},N_=function(i,a,c,g){c!==g&&(a.flags|=4)};function Ou(i,a){if(!Ct)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Cn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,g=0;if(a)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=c,a}function bT(i,a,c){var g=a.pendingProps;switch(cf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(a),null;case 1:return ir(a.type)&&Uc(),Cn(a),null;case 3:return g=a.stateNode,Rl(),Pt(rr),Pt(bn),xf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Gc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ai!==null&&(Jf(ai),ai=null))),Uf(i,a),Cn(a),null;case 5:Ef(a);var v=Da(Au.current);if(c=a.type,i!==null&&a.stateNode!=null)L_(i,a,c,g,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Cn(a),null}if(i=Da(Ni.current),Gc(a)){g=a.stateNode,c=a.type;var T=a.memoizedProps;switch(g[Fr]=a,g[Mo]=T,i=(a.mode&1)!==0,c){case"dialog":Et("cancel",g),Et("close",g);break;case"iframe":case"object":case"embed":Et("load",g);break;case"video":case"audio":for(v=0;v<Lo.length;v++)Et(Lo[v],g);break;case"source":Et("error",g);break;case"img":case"image":case"link":Et("error",g),Et("load",g);break;case"details":Et("toggle",g);break;case"input":Wi(g,T),Et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Et("invalid",g);break;case"textarea":Zi(g,T),Et("invalid",g)}ya(c,T),v=null;for(var P in T)if(T.hasOwnProperty(P)){var W=T[P];P==="children"?typeof W=="string"?g.textContent!==W&&(T.suppressHydrationWarning!==!0&&se(g.textContent,W,i),v=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(T.suppressHydrationWarning!==!0&&se(g.textContent,W,i),v=["children",""+W]):o.hasOwnProperty(P)&&W!=null&&P==="onScroll"&&Et("scroll",g)}switch(c){case"input":hr(g),Ki(g,T,!0);break;case"textarea":hr(g),ga(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=fe)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kt(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=P.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=P.createElement(c,{is:g.is}):(i=P.createElement(c),c==="select"&&(P=i,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):i=P.createElementNS(i,c),i[Fr]=a,i[Mo]=g,R_(i,a,!1,!1),a.stateNode=i;e:{switch(P=Yr(c,g),c){case"dialog":Et("cancel",i),Et("close",i),v=g;break;case"iframe":case"object":case"embed":Et("load",i),v=g;break;case"video":case"audio":for(v=0;v<Lo.length;v++)Et(Lo[v],i);v=g;break;case"source":Et("error",i),v=g;break;case"img":case"image":case"link":Et("error",i),Et("load",i),v=g;break;case"details":Et("toggle",i),v=g;break;case"input":Wi(i,g),v=qi(i,g),Et("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=ae({},g,{value:void 0}),Et("invalid",i);break;case"textarea":Zi(i,g),v=Js(i,g),Et("invalid",i);break;default:v=g}ya(c,v),W=v;for(T in W)if(W.hasOwnProperty(T)){var Q=W[T];T==="style"?Yi(i,Q):T==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&_a(i,Q)):T==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&Qr(i,Q):typeof Q=="number"&&Qr(i,""+Q):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(o.hasOwnProperty(T)?Q!=null&&T==="onScroll"&&Et("scroll",i):Q!=null&&B(i,T,Q,P))}switch(c){case"input":hr(i),Ki(i,g,!1);break;case"textarea":hr(i),ga(i);break;case"option":g.value!=null&&i.setAttribute("value",""+tt(g.value));break;case"select":i.multiple=!!g.multiple,T=g.value,T!=null?fr(i,!!g.multiple,T,!1):g.defaultValue!=null&&fr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=fe)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Cn(a),null;case 6:if(i&&a.stateNode!=null)N_(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(c=Da(Au.current),Da(Ni.current),Gc(a)){if(g=a.stateNode,c=a.memoizedProps,g[Fr]=a,(T=g.nodeValue!==c)&&(i=Tr,i!==null))switch(i.tag){case 3:se(g.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&se(g.nodeValue,c,(i.mode&1)!==0)}T&&(a.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[Fr]=a,a.stateNode=g}return Cn(a),null;case 13:if(Pt(Nt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&xr!==null&&a.mode&1&&!(a.flags&128))Dg(),Pl(),a.flags|=98560,T=!1;else if(T=Gc(a),g!==null&&g.dehydrated!==null){if(i===null){if(!T)throw Error(t(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[Fr]=a}else Pl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Cn(a),T=!1}else ai!==null&&(Jf(ai),ai=null),T=!0;if(!T)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(i===null||Nt.current&1?en===0&&(en=3):np())),a.updateQueue!==null&&(a.flags|=4),Cn(a),null);case 4:return Rl(),Uf(i,a),i===null&&No(a.stateNode.containerInfo),Cn(a),null;case 10:return gf(a.type._context),Cn(a),null;case 17:return ir(a.type)&&Uc(),Cn(a),null;case 19:if(Pt(Nt),T=a.memoizedState,T===null)return Cn(a),null;if(g=(a.flags&128)!==0,P=T.rendering,P===null)if(g)Ou(T,!1);else{if(en!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(P=Jc(i),P!==null){for(a.flags|=128,Ou(T,!1),g=P.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=c,c=a.child;c!==null;)T=c,i=g,T.flags&=14680066,P=T.alternate,P===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=P.childLanes,T.lanes=P.lanes,T.child=P.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=P.memoizedProps,T.memoizedState=P.memoizedState,T.updateQueue=P.updateQueue,T.type=P.type,i=P.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return It(Nt,Nt.current&1|2),a.child}i=i.sibling}T.tail!==null&&wt()>Ml&&(a.flags|=128,g=!0,Ou(T,!1),a.lanes=4194304)}else{if(!g)if(i=Jc(P),i!==null){if(a.flags|=128,g=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Ou(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Ct)return Cn(a),null}else 2*wt()-T.renderingStartTime>Ml&&c!==1073741824&&(a.flags|=128,g=!0,Ou(T,!1),a.lanes=4194304);T.isBackwards?(P.sibling=a.child,a.child=P):(c=T.last,c!==null?c.sibling=P:a.child=P,T.last=P)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=wt(),a.sibling=null,c=Nt.current,It(Nt,g?c&1|2:c&1),a):(Cn(a),null);case 22:case 23:return tp(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?Sr&1073741824&&(Cn(a),a.subtreeFlags&6&&(a.flags|=8192)):Cn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function PT(i,a){switch(cf(a),a.tag){case 1:return ir(a.type)&&Uc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Rl(),Pt(rr),Pt(bn),xf(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return Ef(a),null;case 13:if(Pt(Nt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Pl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Pt(Nt),null;case 4:return Rl(),null;case 10:return gf(a.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var ld=!1,An=!1,CT=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Nl(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){jt(i,a,g)}else c.current=null}function $f(i,a,c){try{c()}catch(g){jt(i,a,g)}}var O_=!1;function AT(i,a){if(Te=ti,i=_u(),yu(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var v=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var P=0,W=-1,Q=-1,oe=0,me=0,ge=i,pe=null;t:for(;;){for(var Se;ge!==c||v!==0&&ge.nodeType!==3||(W=P+v),ge!==T||g!==0&&ge.nodeType!==3||(Q=P+g),ge.nodeType===3&&(P+=ge.nodeValue.length),(Se=ge.firstChild)!==null;)pe=ge,ge=Se;for(;;){if(ge===i)break t;if(pe===c&&++oe===v&&(W=P),pe===T&&++me===g&&(Q=P),(Se=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=Se}c=W===-1||Q===-1?null:{start:W,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(je={focusedElem:i,selectionRange:c},ti=!1,Ce=a;Ce!==null;)if(a=Ce,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ce=i;else for(;Ce!==null;){a=Ce;try{var ke=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Le=ke.memoizedProps,Ut=ke.memoizedState,re=a.stateNode,X=re.getSnapshotBeforeUpdate(a.elementType===a.type?Le:li(a.type,Le),Ut);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){jt(a,a.return,ve)}if(i=a.sibling,i!==null){i.return=a.return,Ce=i;break}Ce=a.return}return ke=O_,O_=!1,ke}function Mu(i,a,c){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var T=v.destroy;v.destroy=void 0,T!==void 0&&$f(a,c,T)}v=v.next}while(v!==g)}}function ud(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var g=c.create;c.destroy=g()}c=c.next}while(c!==a)}}function Hf(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function M_(i){var a=i.alternate;a!==null&&(i.alternate=null,M_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Fr],delete a[Mo],delete a[Do],delete a[sf],delete a[of])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function D_(i){return i.tag===5||i.tag===3||i.tag===4}function V_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||D_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qf(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=fe));else if(g!==4&&(i=i.child,i!==null))for(qf(i,a,c),i=i.sibling;i!==null;)qf(i,a,c),i=i.sibling}function Wf(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Wf(i,a,c),i=i.sibling;i!==null;)Wf(i,a,c),i=i.sibling}var mn=null,ui=!1;function Uo(i,a,c){for(c=c.child;c!==null;)z_(i,a,c),c=c.sibling}function z_(i,a,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(xi,c)}catch{}switch(c.tag){case 5:An||Nl(c,a);case 6:var g=mn,v=ui;mn=null,Uo(i,a,c),mn=g,ui=v,mn!==null&&(ui?(i=mn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):mn.removeChild(c.stateNode));break;case 18:mn!==null&&(ui?(i=mn,c=c.stateNode,i.nodeType===8?Iu(i.parentNode,c):i.nodeType===1&&Iu(i,c),Yt(i)):Iu(mn,c.stateNode));break;case 4:g=mn,v=ui,mn=c.stateNode.containerInfo,ui=!0,Uo(i,a,c),mn=g,ui=v;break;case 0:case 11:case 14:case 15:if(!An&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var T=v,P=T.destroy;T=T.tag,P!==void 0&&(T&2||T&4)&&$f(c,a,P),v=v.next}while(v!==g)}Uo(i,a,c);break;case 1:if(!An&&(Nl(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(W){jt(c,a,W)}Uo(i,a,c);break;case 21:Uo(i,a,c);break;case 22:c.mode&1?(An=(g=An)||c.memoizedState!==null,Uo(i,a,c),An=g):Uo(i,a,c);break;default:Uo(i,a,c)}}function F_(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new CT),a.forEach(function(g){var v=zT.bind(null,i,g);c.has(g)||(c.add(g),g.then(v,v))})}}function ci(i,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var v=c[g];try{var T=i,P=a,W=P;e:for(;W!==null;){switch(W.tag){case 5:mn=W.stateNode,ui=!1;break e;case 3:mn=W.stateNode.containerInfo,ui=!0;break e;case 4:mn=W.stateNode.containerInfo,ui=!0;break e}W=W.return}if(mn===null)throw Error(t(160));z_(T,P,v),mn=null,ui=!1;var Q=v.alternate;Q!==null&&(Q.return=null),v.return=null}catch(oe){jt(v,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)j_(a,i),a=a.sibling}function j_(i,a){var c=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ci(a,i),Mi(i),g&4){try{Mu(3,i,i.return),ud(3,i)}catch(Le){jt(i,i.return,Le)}try{Mu(5,i,i.return)}catch(Le){jt(i,i.return,Le)}}break;case 1:ci(a,i),Mi(i),g&512&&c!==null&&Nl(c,c.return);break;case 5:if(ci(a,i),Mi(i),g&512&&c!==null&&Nl(c,c.return),i.flags&32){var v=i.stateNode;try{Qr(v,"")}catch(Le){jt(i,i.return,Le)}}if(g&4&&(v=i.stateNode,v!=null)){var T=i.memoizedProps,P=c!==null?c.memoizedProps:T,W=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{W==="input"&&T.type==="radio"&&T.name!=null&&Ys(v,T),Yr(W,P);var oe=Yr(W,T);for(P=0;P<Q.length;P+=2){var me=Q[P],ge=Q[P+1];me==="style"?Yi(v,ge):me==="dangerouslySetInnerHTML"?_a(v,ge):me==="children"?Qr(v,ge):B(v,me,ge,oe)}switch(W){case"input":Gi(v,T);break;case"textarea":eo(v,T);break;case"select":var pe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!T.multiple;var Se=T.value;Se!=null?fr(v,!!T.multiple,Se,!1):pe!==!!T.multiple&&(T.defaultValue!=null?fr(v,!!T.multiple,T.defaultValue,!0):fr(v,!!T.multiple,T.multiple?[]:"",!1))}v[Mo]=T}catch(Le){jt(i,i.return,Le)}}break;case 6:if(ci(a,i),Mi(i),g&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,T=i.memoizedProps;try{v.nodeValue=T}catch(Le){jt(i,i.return,Le)}}break;case 3:if(ci(a,i),Mi(i),g&4&&c!==null&&c.memoizedState.isDehydrated)try{Yt(a.containerInfo)}catch(Le){jt(i,i.return,Le)}break;case 4:ci(a,i),Mi(i);break;case 13:ci(a,i),Mi(i),v=i.child,v.flags&8192&&(T=v.memoizedState!==null,v.stateNode.isHidden=T,!T||v.alternate!==null&&v.alternate.memoizedState!==null||(Zf=wt())),g&4&&F_(i);break;case 22:if(me=c!==null&&c.memoizedState!==null,i.mode&1?(An=(oe=An)||me,ci(a,i),An=oe):ci(a,i),Mi(i),g&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!me&&i.mode&1)for(Ce=i,me=i.child;me!==null;){for(ge=Ce=me;Ce!==null;){switch(pe=Ce,Se=pe.child,pe.tag){case 0:case 11:case 14:case 15:Mu(4,pe,pe.return);break;case 1:Nl(pe,pe.return);var ke=pe.stateNode;if(typeof ke.componentWillUnmount=="function"){g=pe,c=pe.return;try{a=g,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Le){jt(g,c,Le)}}break;case 5:Nl(pe,pe.return);break;case 22:if(pe.memoizedState!==null){$_(ge);continue}}Se!==null?(Se.return=pe,Ce=Se):$_(ge)}me=me.sibling}e:for(me=null,ge=i;;){if(ge.tag===5){if(me===null){me=ge;try{v=ge.stateNode,oe?(T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(W=ge.stateNode,Q=ge.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,W.style.display=to("display",P))}catch(Le){jt(i,i.return,Le)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(Le){jt(i,i.return,Le)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===i)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===i)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===i)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:ci(a,i),Mi(i),g&4&&F_(i);break;case 21:break;default:ci(a,i),Mi(i)}}function Mi(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(D_(c)){var g=c;break e}c=c.return}throw Error(t(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Qr(v,""),g.flags&=-33);var T=V_(i);Wf(i,T,v);break;case 3:case 4:var P=g.stateNode.containerInfo,W=V_(i);qf(i,W,P);break;default:throw Error(t(161))}}catch(Q){jt(i,i.return,Q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function kT(i,a,c){Ce=i,B_(i)}function B_(i,a,c){for(var g=(i.mode&1)!==0;Ce!==null;){var v=Ce,T=v.child;if(v.tag===22&&g){var P=v.memoizedState!==null||ld;if(!P){var W=v.alternate,Q=W!==null&&W.memoizedState!==null||An;W=ld;var oe=An;if(ld=P,(An=Q)&&!oe)for(Ce=v;Ce!==null;)P=Ce,Q=P.child,P.tag===22&&P.memoizedState!==null?H_(v):Q!==null?(Q.return=P,Ce=Q):H_(v);for(;T!==null;)Ce=T,B_(T),T=T.sibling;Ce=v,ld=W,An=oe}U_(i)}else v.subtreeFlags&8772&&T!==null?(T.return=v,Ce=T):U_(i)}}function U_(i){for(;Ce!==null;){var a=Ce;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:An||ud(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!An)if(c===null)g.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:li(a.type,c.memoizedProps);g.componentDidUpdate(v,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&$g(a,T,g);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}$g(a,P,c)}break;case 5:var W=a.stateNode;if(c===null&&a.flags&4){c=W;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&Yt(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||a.flags&512&&Hf(a)}catch(pe){jt(a,a.return,pe)}}if(a===i){Ce=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ce=c;break}Ce=a.return}}function $_(i){for(;Ce!==null;){var a=Ce;if(a===i){Ce=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ce=c;break}Ce=a.return}}function H_(i){for(;Ce!==null;){var a=Ce;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ud(4,a)}catch(Q){jt(a,c,Q)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(Q){jt(a,v,Q)}}var T=a.return;try{Hf(a)}catch(Q){jt(a,T,Q)}break;case 5:var P=a.return;try{Hf(a)}catch(Q){jt(a,P,Q)}}}catch(Q){jt(a,a.return,Q)}if(a===i){Ce=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Ce=W;break}Ce=a.return}}var RT=Math.ceil,cd=Z.ReactCurrentDispatcher,Gf=Z.ReactCurrentOwner,Hr=Z.ReactCurrentBatchConfig,ut=0,un=null,Kt=null,gn=0,Sr=0,Ol=Vo(0),en=0,Du=null,za=0,dd=0,Kf=0,Vu=null,or=null,Zf=0,Ml=1/0,Cs=null,hd=!1,Qf=null,$o=null,fd=!1,Ho=null,pd=0,zu=0,Yf=null,md=-1,gd=0;function Bn(){return ut&6?wt():md!==-1?md:md=wt()}function qo(i){return i.mode&1?ut&2&&gn!==0?gn&-gn:pT.transition!==null?(gd===0&&(gd=as()),gd):(i=et,i!==0||(i=window.event,i=i===void 0?16:nt(i.type)),i):1}function di(i,a,c,g){if(50<zu)throw zu=0,Yf=null,Error(t(185));En(i,c,g),(!(ut&2)||i!==un)&&(i===un&&(!(ut&2)&&(dd|=c),en===4&&Wo(i,gn)),ar(i,g),c===1&&ut===0&&!(a.mode&1)&&(Ml=wt()+500,Hc&&Fo()))}function ar(i,a){var c=i.callbackNode;Qn(i,a);var g=yt(i,i===un?gn:0);if(g===0)c!==null&&co(c),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(c!=null&&co(c),a===1)i.tag===0?fT(W_.bind(null,i)):Rg(W_.bind(null,i)),In(function(){!(ut&6)&&Fo()}),c=null;else{switch(Yn(g)){case 1:c=is;break;case 4:c=Ei;break;case 16:c=Zn;break;case 536870912:c=Ti;break;default:c=Zn}c=ey(c,q_.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function q_(i,a){if(md=-1,gd=0,ut&6)throw Error(t(327));var c=i.callbackNode;if(Dl()&&i.callbackNode!==c)return null;var g=yt(i,i===un?gn:0);if(g===0)return null;if(g&30||g&i.expiredLanes||a)a=_d(i,g);else{a=g;var v=ut;ut|=2;var T=K_();(un!==i||gn!==a)&&(Cs=null,Ml=wt()+500,ja(i,a));do try{OT();break}catch(W){G_(i,W)}while(!0);mf(),cd.current=T,ut=v,Kt!==null?a=0:(un=null,gn=0,a=en)}if(a!==0){if(a===2&&(v=xt(i),v!==0&&(g=v,a=Xf(i,v))),a===1)throw c=Du,ja(i,0),Wo(i,g),ar(i,wt()),c;if(a===6)Wo(i,g);else{if(v=i.current.alternate,!(g&30)&&!LT(v)&&(a=_d(i,g),a===2&&(T=xt(i),T!==0&&(g=T,a=Xf(i,T))),a===1))throw c=Du,ja(i,0),Wo(i,g),ar(i,wt()),c;switch(i.finishedWork=v,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Ba(i,or,Cs);break;case 3:if(Wo(i,g),(g&130023424)===g&&(a=Zf+500-wt(),10<a)){if(yt(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Bn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Xt(Ba.bind(null,i,or,Cs),a);break}Ba(i,or,Cs);break;case 4:if(Wo(i,g),(g&4194240)===g)break;for(a=i.eventTimes,v=-1;0<g;){var P=31-qe(g);T=1<<P,P=a[P],P>v&&(v=P),g&=~T}if(g=v,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RT(g/1960))-g,10<g){i.timeoutHandle=Xt(Ba.bind(null,i,or,Cs),g);break}Ba(i,or,Cs);break;case 5:Ba(i,or,Cs);break;default:throw Error(t(329))}}}return ar(i,wt()),i.callbackNode===c?q_.bind(null,i):null}function Xf(i,a){var c=Vu;return i.current.memoizedState.isDehydrated&&(ja(i,a).flags|=256),i=_d(i,a),i!==2&&(a=or,or=c,a!==null&&Jf(a)),i}function Jf(i){or===null?or=i:or.push.apply(or,i)}function LT(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var v=c[g],T=v.getSnapshot;v=v.value;try{if(!wr(T(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wo(i,a){for(a&=~Kf,a&=~dd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-qe(a),g=1<<c;i[c]=-1,a&=~g}}function W_(i){if(ut&6)throw Error(t(327));Dl();var a=yt(i,0);if(!(a&1))return ar(i,wt()),null;var c=_d(i,a);if(i.tag!==0&&c===2){var g=xt(i);g!==0&&(a=g,c=Xf(i,g))}if(c===1)throw c=Du,ja(i,0),Wo(i,a),ar(i,wt()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ba(i,or,Cs),ar(i,wt()),null}function ep(i,a){var c=ut;ut|=1;try{return i(a)}finally{ut=c,ut===0&&(Ml=wt()+500,Hc&&Fo())}}function Fa(i){Ho!==null&&Ho.tag===0&&!(ut&6)&&Dl();var a=ut;ut|=1;var c=Hr.transition,g=et;try{if(Hr.transition=null,et=1,i)return i()}finally{et=g,Hr.transition=c,ut=a,!(ut&6)&&Fo()}}function tp(){Sr=Ol.current,Pt(Ol)}function ja(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Gt(c)),Kt!==null)for(c=Kt.return;c!==null;){var g=c;switch(cf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Uc();break;case 3:Rl(),Pt(rr),Pt(bn),xf();break;case 5:Ef(g);break;case 4:Rl();break;case 13:Pt(Nt);break;case 19:Pt(Nt);break;case 10:gf(g.type._context);break;case 22:case 23:tp()}c=c.return}if(un=i,Kt=i=Go(i.current,null),gn=Sr=a,en=0,Du=null,Kf=dd=za=0,or=Vu=null,Ma!==null){for(a=0;a<Ma.length;a++)if(c=Ma[a],g=c.interleaved,g!==null){c.interleaved=null;var v=g.next,T=c.pending;if(T!==null){var P=T.next;T.next=v,g.next=P}c.pending=g}Ma=null}return i}function G_(i,a){do{var c=Kt;try{if(mf(),ed.current=id,td){for(var g=Ot.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}td=!1}if(Va=0,ln=Jt=Ot=null,ku=!1,Ru=0,Gf.current=null,c===null||c.return===null){en=1,Du=a,Kt=null;break}e:{var T=i,P=c.return,W=c,Q=a;if(a=gn,W.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var oe=Q,me=W,ge=me.tag;if(!(me.mode&1)&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Se=y_(P);if(Se!==null){Se.flags&=-257,v_(Se,P,W,T,a),Se.mode&1&&__(T,oe,a),a=Se,Q=oe;var ke=a.updateQueue;if(ke===null){var Le=new Set;Le.add(Q),a.updateQueue=Le}else ke.add(Q);break e}else{if(!(a&1)){__(T,oe,a),np();break e}Q=Error(t(426))}}else if(Ct&&W.mode&1){var Ut=y_(P);if(Ut!==null){!(Ut.flags&65536)&&(Ut.flags|=256),v_(Ut,P,W,T,a),ff(Ll(Q,W));break e}}T=Q=Ll(Q,W),en!==4&&(en=2),Vu===null?Vu=[T]:Vu.push(T),T=P;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var re=m_(T,Q,a);Ug(T,re);break e;case 1:W=Q;var X=T.type,ie=T.stateNode;if(!(T.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&($o===null||!$o.has(ie)))){T.flags|=65536,a&=-a,T.lanes|=a;var ve=g_(T,W,a);Ug(T,ve);break e}}T=T.return}while(T!==null)}Q_(c)}catch(Oe){a=Oe,Kt===c&&c!==null&&(Kt=c=c.return);continue}break}while(!0)}function K_(){var i=cd.current;return cd.current=id,i===null?id:i}function np(){(en===0||en===3||en===2)&&(en=4),un===null||!(za&268435455)&&!(dd&268435455)||Wo(un,gn)}function _d(i,a){var c=ut;ut|=2;var g=K_();(un!==i||gn!==a)&&(Cs=null,ja(i,a));do try{NT();break}catch(v){G_(i,v)}while(!0);if(mf(),ut=c,cd.current=g,Kt!==null)throw Error(t(261));return un=null,gn=0,en}function NT(){for(;Kt!==null;)Z_(Kt)}function OT(){for(;Kt!==null&&!ol();)Z_(Kt)}function Z_(i){var a=J_(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,a===null?Q_(i):Kt=a,Gf.current=null}function Q_(i){var a=i;do{var c=a.alternate;if(i=a.return,a.flags&32768){if(c=PT(c,a),c!==null){c.flags&=32767,Kt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{en=6,Kt=null;return}}else if(c=bT(c,a,Sr),c!==null){Kt=c;return}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=i}while(a!==null);en===0&&(en=5)}function Ba(i,a,c){var g=et,v=Hr.transition;try{Hr.transition=null,et=1,MT(i,a,c,g)}finally{Hr.transition=v,et=g}return null}function MT(i,a,c,g){do Dl();while(Ho!==null);if(ut&6)throw Error(t(327));c=i.finishedWork;var v=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var T=c.lanes|c.childLanes;if(We(i,T),i===un&&(Kt=un=null,gn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||fd||(fd=!0,ey(Zn,function(){return Dl(),null})),T=(c.flags&15990)!==0,c.subtreeFlags&15990||T){T=Hr.transition,Hr.transition=null;var P=et;et=1;var W=ut;ut|=4,Gf.current=null,AT(i,c),j_(c,i),Vr(je),ti=!!Te,je=Te=null,i.current=c,kT(c),ho(),ut=W,et=P,Hr.transition=T}else i.current=c;if(fd&&(fd=!1,Ho=i,pd=v),T=i.pendingLanes,T===0&&($o=null),Si(c.stateNode),ar(i,wt()),a!==null)for(g=i.onRecoverableError,c=0;c<a.length;c++)v=a[c],g(v.value,{componentStack:v.stack,digest:v.digest});if(hd)throw hd=!1,i=Qf,Qf=null,i;return pd&1&&i.tag!==0&&Dl(),T=i.pendingLanes,T&1?i===Yf?zu++:(zu=0,Yf=i):zu=0,Fo(),null}function Dl(){if(Ho!==null){var i=Yn(pd),a=Hr.transition,c=et;try{if(Hr.transition=null,et=16>i?16:i,Ho===null)var g=!1;else{if(i=Ho,Ho=null,pd=0,ut&6)throw Error(t(331));var v=ut;for(ut|=4,Ce=i.current;Ce!==null;){var T=Ce,P=T.child;if(Ce.flags&16){var W=T.deletions;if(W!==null){for(var Q=0;Q<W.length;Q++){var oe=W[Q];for(Ce=oe;Ce!==null;){var me=Ce;switch(me.tag){case 0:case 11:case 15:Mu(8,me,T)}var ge=me.child;if(ge!==null)ge.return=me,Ce=ge;else for(;Ce!==null;){me=Ce;var pe=me.sibling,Se=me.return;if(M_(me),me===oe){Ce=null;break}if(pe!==null){pe.return=Se,Ce=pe;break}Ce=Se}}}var ke=T.alternate;if(ke!==null){var Le=ke.child;if(Le!==null){ke.child=null;do{var Ut=Le.sibling;Le.sibling=null,Le=Ut}while(Le!==null)}}Ce=T}}if(T.subtreeFlags&2064&&P!==null)P.return=T,Ce=P;else e:for(;Ce!==null;){if(T=Ce,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Mu(9,T,T.return)}var re=T.sibling;if(re!==null){re.return=T.return,Ce=re;break e}Ce=T.return}}var X=i.current;for(Ce=X;Ce!==null;){P=Ce;var ie=P.child;if(P.subtreeFlags&2064&&ie!==null)ie.return=P,Ce=ie;else e:for(P=X;Ce!==null;){if(W=Ce,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:ud(9,W)}}catch(Oe){jt(W,W.return,Oe)}if(W===P){Ce=null;break e}var ve=W.sibling;if(ve!==null){ve.return=W.return,Ce=ve;break e}Ce=W.return}}if(ut=v,Fo(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(xi,i)}catch{}g=!0}return g}finally{et=c,Hr.transition=a}}return!1}function Y_(i,a,c){a=Ll(c,a),a=m_(i,a,1),i=Bo(i,a,1),a=Bn(),i!==null&&(En(i,1,a),ar(i,a))}function jt(i,a,c){if(i.tag===3)Y_(i,i,c);else for(;a!==null;){if(a.tag===3){Y_(a,i,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&($o===null||!$o.has(g))){i=Ll(c,i),i=g_(a,i,1),a=Bo(a,i,1),i=Bn(),a!==null&&(En(a,1,i),ar(a,i));break}}a=a.return}}function DT(i,a,c){var g=i.pingCache;g!==null&&g.delete(a),a=Bn(),i.pingedLanes|=i.suspendedLanes&c,un===i&&(gn&c)===c&&(en===4||en===3&&(gn&130023424)===gn&&500>wt()-Zf?ja(i,0):Kf|=c),ar(i,a)}function X_(i,a){a===0&&(i.mode&1?(a=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):a=1);var c=Bn();i=Is(i,a),i!==null&&(En(i,a,c),ar(i,c))}function VT(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),X_(i,c)}function zT(i,a){var c=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),X_(i,c)}var J_;J_=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||rr.current)sr=!0;else{if(!(i.lanes&c)&&!(a.flags&128))return sr=!1,IT(i,a,c);sr=!!(i.flags&131072)}else sr=!1,Ct&&a.flags&1048576&&Lg(a,Wc,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;ad(i,a),i=a.pendingProps;var v=Sl(a,bn.current);kl(a,c),v=bf(null,a,g,i,v,c);var T=Pf();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ir(g)?(T=!0,$c(a)):T=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,vf(a),v.updater=sd,a.stateNode=v,v._reactInternals=a,Nf(a,g,i,c),a=Vf(null,a,g,!0,T,c)):(a.tag=0,Ct&&T&&uf(a),jn(null,a,v,c),a=a.child),a;case 16:g=a.elementType;e:{switch(ad(i,a),i=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=jT(g),i=li(g,i),v){case 0:a=Df(null,a,g,i,c);break e;case 1:a=I_(null,a,g,i,c);break e;case 11:a=w_(null,a,g,i,c);break e;case 14:a=E_(null,a,g,li(g.type,i),c);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:li(g,v),Df(i,a,g,v,c);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:li(g,v),I_(i,a,g,v,c);case 3:e:{if(b_(a),i===null)throw Error(t(387));g=a.pendingProps,T=a.memoizedState,v=T.element,Bg(i,a),Xc(a,g,null,c);var P=a.memoizedState;if(g=P.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){v=Ll(Error(t(423)),a),a=P_(i,a,g,c,v);break e}else if(g!==v){v=Ll(Error(t(424)),a),a=P_(i,a,g,c,v);break e}else for(xr=Li(a.stateNode.containerInfo.firstChild),Tr=a,Ct=!0,ai=null,c=Fg(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Pl(),g===v){a=Ps(i,a,c);break e}jn(i,a,g,c)}a=a.child}return a;case 5:return Hg(a),i===null&&hf(a),g=a.type,v=a.pendingProps,T=i!==null?i.memoizedProps:null,P=v.children,Xe(g,v)?P=null:T!==null&&Xe(g,T)&&(a.flags|=32),S_(i,a),jn(i,a,P,c),a.child;case 6:return i===null&&hf(a),null;case 13:return C_(i,a,c);case 4:return wf(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=Cl(a,null,g,c):jn(i,a,g,c),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:li(g,v),w_(i,a,g,v,c);case 7:return jn(i,a,a.pendingProps,c),a.child;case 8:return jn(i,a,a.pendingProps.children,c),a.child;case 12:return jn(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,T=a.memoizedProps,P=v.value,It(Zc,g._currentValue),g._currentValue=P,T!==null)if(wr(T.value,P)){if(T.children===v.children&&!rr.current){a=Ps(i,a,c);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var W=T.dependencies;if(W!==null){P=T.child;for(var Q=W.firstContext;Q!==null;){if(Q.context===g){if(T.tag===1){Q=bs(-1,c&-c),Q.tag=2;var oe=T.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?Q.next=Q:(Q.next=me.next,me.next=Q),oe.pending=Q}}T.lanes|=c,Q=T.alternate,Q!==null&&(Q.lanes|=c),_f(T.return,c,a),W.lanes|=c;break}Q=Q.next}}else if(T.tag===10)P=T.type===a.type?null:T.child;else if(T.tag===18){if(P=T.return,P===null)throw Error(t(341));P.lanes|=c,W=P.alternate,W!==null&&(W.lanes|=c),_f(P,c,a),P=T.sibling}else P=T.child;if(P!==null)P.return=T;else for(P=T;P!==null;){if(P===a){P=null;break}if(T=P.sibling,T!==null){T.return=P.return,P=T;break}P=P.return}T=P}jn(i,a,v.children,c),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,kl(a,c),v=Ur(v),g=g(v),a.flags|=1,jn(i,a,g,c),a.child;case 14:return g=a.type,v=li(g,a.pendingProps),v=li(g.type,v),E_(i,a,g,v,c);case 15:return T_(i,a,a.type,a.pendingProps,c);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:li(g,v),ad(i,a),a.tag=1,ir(g)?(i=!0,$c(a)):i=!1,kl(a,c),f_(a,g,v),Nf(a,g,v,c),Vf(null,a,g,!0,i,c);case 19:return k_(i,a,c);case 22:return x_(i,a,c)}throw Error(t(156,a.tag))};function ey(i,a){return uo(i,a)}function FT(i,a,c,g){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(i,a,c,g){return new FT(i,a,c,g)}function rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function jT(i){if(typeof i=="function")return rp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===Ae)return 14}return 2}function Go(i,a){var c=i.alternate;return c===null?(c=qr(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function yd(i,a,c,g,v,T){var P=2;if(g=i,typeof i=="function")rp(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case U:return Ua(c.children,v,T,a);case O:P=8,v|=8;break;case R:return i=qr(12,c,a,v|2),i.elementType=R,i.lanes=T,i;case D:return i=qr(13,c,a,v),i.elementType=D,i.lanes=T,i;case _e:return i=qr(19,c,a,v),i.elementType=_e,i.lanes=T,i;case ze:return vd(c,v,T,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:P=10;break e;case $:P=9;break e;case q:P=11;break e;case Ae:P=14;break e;case Me:P=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=qr(P,c,a,v),a.elementType=i,a.type=g,a.lanes=T,a}function Ua(i,a,c,g){return i=qr(7,i,g,a),i.lanes=c,i}function vd(i,a,c,g){return i=qr(22,i,g,a),i.elementType=ze,i.lanes=c,i.stateNode={isHidden:!1},i}function ip(i,a,c){return i=qr(6,i,null,a),i.lanes=c,i}function sp(i,a,c){return a=qr(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function BT(i,a,c,g,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function op(i,a,c,g,v,T,P,W,Q){return i=new BT(i,a,c,W,Q),a===1?(a=1,T===!0&&(a|=8)):a=0,T=qr(3,null,null,a),i.current=T,T.stateNode=i,T.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(T),i}function UT(i,a,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:g==null?null:""+g,children:i,containerInfo:a,implementation:c}}function ty(i){if(!i)return zo;i=i._reactInternals;e:{if(Wn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ir(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(ir(c))return Ag(i,c,a)}return a}function ny(i,a,c,g,v,T,P,W,Q){return i=op(c,g,!0,i,v,T,P,W,Q),i.context=ty(null),c=i.current,g=Bn(),v=qo(c),T=bs(g,v),T.callback=a??null,Bo(c,T,v),i.current.lanes=v,En(i,v,g),ar(i,g),i}function wd(i,a,c,g){var v=a.current,T=Bn(),P=qo(v);return c=ty(c),a.context===null?a.context=c:a.pendingContext=c,a=bs(T,P),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Bo(v,a,P),i!==null&&(di(i,v,P,T),Yc(i,v,P)),P}function Ed(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ry(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function ap(i,a){ry(i,a),(i=i.alternate)&&ry(i,a)}var iy=typeof reportError=="function"?reportError:function(i){console.error(i)};function lp(i){this._internalRoot=i}Td.prototype.render=lp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));wd(i,a,null,null)},Td.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Fa(function(){wd(null,i,null,null)}),a[pt]=null}};function Td(i){this._internalRoot=i}Td.prototype.unstable_scheduleHydration=function(i){if(i){var a=mo();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Bt.length&&a!==0&&a<Bt[c].priority;c++);Bt.splice(c,0,i),c===0&&go(i)}};function up(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function xd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function sy(){}function $T(i,a,c,g,v){if(v){if(typeof g=="function"){var T=g;g=function(){var oe=Ed(P);T.call(oe)}}var P=ny(a,g,i,0,null,!1,!1,"",sy);return i._reactRootContainer=P,i[pt]=P.current,No(i.nodeType===8?i.parentNode:i),Fa(),P}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var W=g;g=function(){var oe=Ed(Q);W.call(oe)}}var Q=op(i,0,!1,null,null,!1,!1,"",sy);return i._reactRootContainer=Q,i[pt]=Q.current,No(i.nodeType===8?i.parentNode:i),Fa(function(){wd(a,Q,c,g)}),Q}function Sd(i,a,c,g,v){var T=c._reactRootContainer;if(T){var P=T;if(typeof v=="function"){var W=v;v=function(){var Q=Ed(P);W.call(Q)}}wd(a,P,i,v)}else P=$T(c,a,i,v,g);return Ed(P)}fo=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=He(a.pendingLanes);c!==0&&(Tn(a,c|1),ar(a,wt()),!(ut&6)&&(Ml=wt()+500,Fo()))}break;case 13:Fa(function(){var g=Is(i,1);if(g!==null){var v=Bn();di(g,i,1,v)}}),ap(i,1)}},Nr=function(i){if(i.tag===13){var a=Is(i,134217728);if(a!==null){var c=Bn();di(a,i,134217728,c)}ap(i,134217728)}},po=function(i){if(i.tag===13){var a=qo(i),c=Is(i,a);if(c!==null){var g=Bn();di(c,i,a,g)}ap(i,a)}},mo=function(){return et},ls=function(i,a){var c=et;try{return et=i,a()}finally{et=c}},Ji=function(i,a,c){switch(a){case"input":if(Gi(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==i&&g.form===i.form){var v=Tl(g);if(!v)throw Error(t(90));Cr(g),Gi(g,v)}}}break;case"textarea":eo(i,c);break;case"select":a=c.value,a!=null&&fr(i,!!c.multiple,a,!1)}},es=ep,wa=Fa;var HT={usingClientEntryPoint:!1,Events:[ws,Es,Tl,Lr,va,ep]},Fu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qT={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ea(i),i===null?null:i.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{xi=Id.inject(qT),wn=Id}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT,lr.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(a))throw Error(t(200));return UT(i,a,null,c)},lr.createRoot=function(i,a){if(!up(i))throw Error(t(299));var c=!1,g="",v=iy;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=op(i,1,!1,null,null,c,!1,g,v),i[pt]=a.current,No(i.nodeType===8?i.parentNode:i),new lp(a)},lr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ea(a),i=i===null?null:i.stateNode,i},lr.flushSync=function(i){return Fa(i)},lr.hydrate=function(i,a,c){if(!xd(a))throw Error(t(200));return Sd(null,i,a,!0,c)},lr.hydrateRoot=function(i,a,c){if(!up(i))throw Error(t(405));var g=c!=null&&c.hydratedSources||null,v=!1,T="",P=iy;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=ny(a,null,i,1,c??null,v,!1,T,P),i[pt]=a.current,No(i),g)for(i=0;i<g.length;i++)c=g[i],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new Td(a)},lr.render=function(i,a,c){if(!xd(a))throw Error(t(200));return Sd(null,i,a,!1,c)},lr.unmountComponentAtNode=function(i){if(!xd(i))throw Error(t(40));return i._reactRootContainer?(Fa(function(){Sd(null,null,i,!1,function(){i._reactRootContainer=null,i[pt]=null})}),!0):!1},lr.unstable_batchedUpdates=ep,lr.unstable_renderSubtreeIntoContainer=function(i,a,c,g){if(!xd(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Sd(i,a,c,!1,g)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var fy;function Gv(){if(fy)return hp.exports;fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=JT(),hp.exports}var py;function ex(){if(py)return bd;py=1;var n=Gv();return bd.createRoot=n.createRoot,bd.hydrateRoot=n.hydrateRoot,bd}var tx=ex(),Bu={},my;function nx(){if(my)return Bu;my=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.parse=d,Bu.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,A){const M=new l,V=b.length;if(V<2)return M;const H=(A==null?void 0:A.decode)||w;let j=0;do{const N=b.indexOf("=",j);if(N===-1)break;const B=b.indexOf(";",j),Z=B===-1?V:B;if(N>Z){j=b.lastIndexOf(";",N-1)+1;continue}const J=f(b,j,N),ce=p(b,N,J),U=b.slice(J,ce);if(M[U]===void 0){let O=f(b,N+1,Z),R=p(b,Z,O);const F=H(b.slice(O,R));M[U]=F}j=Z+1}while(j<V);return M}function f(b,A,M){do{const V=b.charCodeAt(A);if(V!==32&&V!==9)return A}while(++A<M);return M}function p(b,A,M){for(;A>M;){const V=b.charCodeAt(--A);if(V!==32&&V!==9)return A+1}return M}function _(b,A,M){const V=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const H=V(A);if(!e.test(H))throw new TypeError(`argument val is invalid: ${A}`);let j=b+"="+H;if(!M)return j;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);j+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);j+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);j+="; Path="+M.path}if(M.expires){if(!x(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);j+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(j+="; HttpOnly"),M.secure&&(j+="; Secure"),M.partitioned&&(j+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return j}function w(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return o.call(b)==="[object Date]"}return Bu}nx();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gy="popstate";function rx(n={}){function e(r,o){let{pathname:l,search:d,hash:f}=r.location;return Dp("",{pathname:l,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:rc(o)}return sx(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ix(){return Math.random().toString(36).substring(2,10)}function _y(n,e){return{usr:n.state,key:n.key,idx:e}}function Dp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?iu(e):e,state:t,key:e&&e.key||r||ix()}}function rc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function iu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function sx(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,d=o.history,f="POP",p=null,_=w();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function w(){return(d.state||{idx:null}).idx}function x(){f="POP";let H=w(),j=H==null?null:H-_;_=H,p&&p({action:f,location:V.location,delta:j})}function b(H,j){f="PUSH";let N=Dp(V.location,H,j);_=w()+1;let B=_y(N,_),Z=V.createHref(N);try{d.pushState(B,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(Z)}l&&p&&p({action:f,location:V.location,delta:1})}function A(H,j){f="REPLACE";let N=Dp(V.location,H,j);_=w();let B=_y(N,_),Z=V.createHref(N);d.replaceState(B,"",Z),l&&p&&p({action:f,location:V.location,delta:0})}function M(H){let j=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof H=="string"?H:rc(H);return N=N.replace(/ $/,"%20"),At(j,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,j)}let V={get action(){return f},get location(){return n(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(gy,x),p=H,()=>{o.removeEventListener(gy,x),p=null}},createHref(H){return e(o,H)},createURL:M,encodeLocation(H){let j=M(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:A,go(H){return d.go(H)}};return V}function Kv(n,e,t="/"){return ox(n,e,t,!1)}function ox(n,e,t,r){let o=typeof e=="string"?iu(e):e,l=la(o.pathname||"/",t);if(l==null)return null;let d=Zv(n);ax(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let _=yx(l);f=gx(d[p],_,r)}return f}function Zv(n,e=[],t=[],r=""){let o=(l,d,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let _=Os([r,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(At(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Zv(l.children,e,w,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:px(_,l.index),routesMeta:w})};return n.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let p of Qv(l.path))o(l,d,p)}),e}function Qv(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let d=Qv(r.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function ax(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var lx=/^:[\w-]+$/,ux=3,cx=2,dx=1,hx=10,fx=-2,yy=n=>n==="*";function px(n,e){let t=n.split("/"),r=t.length;return t.some(yy)&&(r+=fx),e&&(r+=cx),t.filter(o=>!yy(o)).reduce((o,l)=>o+(lx.test(l)?ux:l===""?dx:hx),r)}function mx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function gx(n,e,t=!1){let{routesMeta:r}=n,o={},l="/",d=[];for(let f=0;f<r.length;++f){let p=r[f],_=f===r.length-1,w=l==="/"?e:e.slice(l.length)||"/",x=Zd({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},w),b=p.route;if(!x&&_&&t&&!r[r.length-1].route.index&&(x=Zd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:Os([l,x.pathname]),pathnameBase:Tx(Os([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=Os([l,x.pathnameBase]))}return d}function Zd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_x(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((_,{paramName:w,isOptional:x},b)=>{if(w==="*"){let M=f[b]||"";d=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=f[b];return x&&!A?_[w]=void 0:_[w]=(A||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:d,pattern:n}}function _x(n,e=!1,t=!0){pi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function yx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function la(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function vx(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?iu(n):n;return{pathname:t?t.startsWith("/")?t:wx(t,e):e,search:xx(r),hash:Sx(o)}}function wx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ex(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _m(n){let e=Ex(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ym(n,e,t,r=!1){let o;typeof n=="string"?o=iu(n):(o={...n},At(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=t;else{let x=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),x-=1;o.pathname=b.join("/")}f=x>=0?e[x]:"/"}let p=vx(o,f),_=d&&d!=="/"&&d.endsWith("/"),w=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||w)&&(p.pathname+="/"),p}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),Tx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Sx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ix(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var bx=["GET",...Yv];new Set(bx);var su=G.createContext(null);su.displayName="DataRouter";var Eh=G.createContext(null);Eh.displayName="DataRouterState";var Xv=G.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var Px=G.createContext(new Map);Px.displayName="Fetchers";var Cx=G.createContext(null);Cx.displayName="Await";var yi=G.createContext(null);yi.displayName="Navigation";var pc=G.createContext(null);pc.displayName="Location";var Kr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var vm=G.createContext(null);vm.displayName="RouteError";function Ax(n,{relative:e}={}){At(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(yi),{hash:o,pathname:l,search:d}=mc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Os([t,l])),r.createHref({pathname:f,search:d,hash:o})}function ou(){return G.useContext(pc)!=null}function Ws(){return At(ou(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(pc).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ew(n){G.useContext(yi).static||G.useLayoutEffect(n)}function vi(){let{isDataRoute:n}=G.useContext(Kr);return n?Hx():kx()}function kx(){At(ou(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(su),{basename:e,navigator:t}=G.useContext(yi),{matches:r}=G.useContext(Kr),{pathname:o}=Ws(),l=JSON.stringify(_m(r)),d=G.useRef(!1);return ew(()=>{d.current=!0}),G.useCallback((p,_={})=>{if(pi(d.current,Jv),!d.current)return;if(typeof p=="number"){t.go(p);return}let w=ym(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Os([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,l,o,n])}var Rx=G.createContext(null);function Lx(n){let e=G.useContext(Kr).outlet;return e&&G.createElement(Rx.Provider,{value:n},e)}function wm(){let{matches:n}=G.useContext(Kr),e=n[n.length-1];return e?e.params:{}}function mc(n,{relative:e}={}){let{matches:t}=G.useContext(Kr),{pathname:r}=Ws(),o=JSON.stringify(_m(t));return G.useMemo(()=>ym(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function Nx(n,e){return tw(n,e)}function tw(n,e,t,r){var j;At(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(yi),{matches:l}=G.useContext(Kr),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",w=d&&d.route;{let N=w&&w.path||"";nw(p,!w||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Ws(),b;if(e){let N=typeof e=="string"?iu(e):e;At(_==="/"||((j=N.pathname)==null?void 0:j.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=x;let A=b.pathname||"/",M=A;if(_!=="/"){let N=_.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let V=Kv(n,{pathname:M});pi(w||V!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=zx(V&&V.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Os([_,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?_:Os([_,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,r);return e&&H?G.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},H):H}function Ox(){let n=$x(),e=Ix(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,d)}var Mx=G.createElement(Ox,null),Dx=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?G.createElement(Kr.Provider,{value:this.props.routeContext},G.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vx({routeContext:n,match:e,children:t}){let r=G.useContext(su);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Kr.Provider,{value:n},t)}function zx(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=p),_.route.id){let{loaderData:w,errors:x}=t,b=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||b){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,_,w)=>{let x,b=!1,A=null,M=null;t&&(x=l&&_.route.id?l[_.route.id]:void 0,A=_.route.errorElement||Mx,d&&(f<0&&w===0?(nw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):f===w&&(b=!0,M=_.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,w+1)),H=()=>{let j;return x?j=A:b?j=M:_.route.Component?j=G.createElement(_.route.Component,null):_.route.element?j=_.route.element:j=p,G.createElement(Vx,{match:_,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:j})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?G.createElement(Dx,{location:t.location,revalidation:t.revalidation,component:A,error:x,children:H(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):H()},null)}function Em(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fx(n){let e=G.useContext(su);return At(e,Em(n)),e}function jx(n){let e=G.useContext(Eh);return At(e,Em(n)),e}function Bx(n){let e=G.useContext(Kr);return At(e,Em(n)),e}function Tm(n){let e=Bx(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ux(){return Tm("useRouteId")}function $x(){var r;let n=G.useContext(vm),e=jx("useRouteError"),t=Tm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Hx(){let{router:n}=Fx("useNavigate"),e=Tm("useNavigate"),t=G.useRef(!1);return ew(()=>{t.current=!0}),G.useCallback(async(o,l={})=>{pi(t.current,Jv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var vy={};function nw(n,e,t){!e&&!vy[n]&&(vy[n]=!0,pi(!1,t))}G.memo(qx);function qx({routes:n,future:e,state:t}){return tw(n,void 0,t,e)}function Wx({to:n,replace:e,state:t,relative:r}){At(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(yi);pi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(Kr),{pathname:d}=Ws(),f=vi(),p=ym(n,_m(l),d,r==="path"),_=JSON.stringify(p);return G.useEffect(()=>{f(JSON.parse(_),{replace:e,state:t,relative:r})},[f,_,r,e,t]),null}function Gx(n){return Lx(n.context)}function ur(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kx({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1}){At(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=iu(t));let{pathname:p="/",search:_="",hash:w="",state:x=null,key:b="default"}=t,A=G.useMemo(()=>{let M=la(p,d);return M==null?null:{location:{pathname:M,search:_,hash:w,state:x,key:b},navigationType:r}},[d,p,_,w,x,b,r]);return pi(A!=null,`<Router basename="${d}"> is not able to match the URL "${p}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:G.createElement(yi.Provider,{value:f},G.createElement(pc.Provider,{children:e,value:A}))}function Zx({children:n,location:e}){return Nx(Vp(n),e)}function Vp(n,e=[]){let t=[];return G.Children.forEach(n,(r,o)=>{if(!G.isValidElement(r))return;let l=[...e,o];if(r.type===G.Fragment){t.push.apply(t,Vp(r.props.children,l));return}At(r.type===ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Vp(r.props.children,l)),t.push(d)}),t}var Dd="get",Vd="application/x-www-form-urlencoded";function Th(n){return n!=null&&typeof n.tagName=="string"}function Qx(n){return Th(n)&&n.tagName.toLowerCase()==="button"}function Yx(n){return Th(n)&&n.tagName.toLowerCase()==="form"}function Xx(n){return Th(n)&&n.tagName.toLowerCase()==="input"}function Jx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function e1(n,e){return n.button===0&&(!e||e==="_self")&&!Jx(n)}var Pd=null;function t1(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch{Pd=!0}return Pd}var n1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(n){return n!=null&&!n1.has(n)?(pi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):n}function r1(n,e){let t,r,o,l,d;if(Yx(n)){let f=n.getAttribute("action");r=f?la(f,e):null,t=n.getAttribute("method")||Dd,o=gp(n.getAttribute("enctype"))||Vd,l=new FormData(n)}else if(Qx(n)||Xx(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(r=p?la(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Dd,o=gp(n.getAttribute("formenctype"))||gp(f.getAttribute("enctype"))||Vd,l=new FormData(f,n),!t1()){let{name:_,type:w,value:x}=n;if(w==="image"){let b=_?`${_}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else _&&l.append(_,x)}}else{if(Th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,r=null,o=Vd,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:d}}function xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function i1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function o1(n,e,t){let r=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await i1(l,t);return d.links?d.links():[]}return[]}));return c1(r.flat(1).filter(s1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wy(n,e,t,r,o,l){let d=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,f=(p,_)=>{var w;return t[_].pathname!==p.pathname||((w=t[_].route.path)==null?void 0:w.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>d(p,_)||f(p,_)):l==="data"?e.filter((p,_)=>{var x;let w=r.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,_)||f(p,_))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function a1(n,e){return l1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function l1(n){return[...new Set(n)]}function u1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function c1(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let l=JSON.stringify(u1(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function d1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function h1(){let n=G.useContext(su);return xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function f1(){let n=G.useContext(Eh);return xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Sm=G.createContext(void 0);Sm.displayName="FrameworkContext";function rw(){let n=G.useContext(Sm);return xm(n,"You must render this element inside a <HydratedRouter> element"),n}function p1(n,e){let t=G.useContext(Sm),[r,o]=G.useState(!1),[l,d]=G.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:_,onMouseLeave:w,onTouchStart:x}=e,b=G.useRef(null);G.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let V=j=>{j.forEach(N=>{d(N.isIntersecting)})},H=new IntersectionObserver(V,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[n]),G.useEffect(()=>{if(r){let V=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(V)}}},[r]);let A=()=>{o(!0)},M=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Uu(f,A),onBlur:Uu(p,M),onMouseEnter:Uu(_,A),onMouseLeave:Uu(w,M),onTouchStart:Uu(x,A)}]:[!1,b,{}]}function Uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function m1({page:n,...e}){let{router:t}=h1(),r=G.useMemo(()=>Kv(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(_1,{page:n,matches:r,...e}):null}function g1(n){let{manifest:e,routeModules:t}=rw(),[r,o]=G.useState([]);return G.useEffect(()=>{let l=!1;return o1(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),r}function _1({page:n,matches:e,...t}){let r=Ws(),{manifest:o,routeModules:l}=rw(),{loaderData:d,matches:f}=f1(),p=G.useMemo(()=>wy(n,e,f,o,r,"data"),[n,e,f,o,r]),_=G.useMemo(()=>wy(n,e,f,o,r,"assets"),[n,e,f,o,r]),w=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,M=!1;if(e.forEach(H=>{var N;let j=o.routes[H.route.id];!j||!j.hasLoader||(!p.some(B=>B.route.id===H.route.id)&&H.route.id in d&&((N=l[H.route.id])!=null&&N.shouldRevalidate)||j.hasClientLoader?M=!0:A.add(H.route.id))}),A.size===0)return[];let V=d1(n);return M&&A.size>0&&V.searchParams.set("_routes",e.filter(H=>A.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[d,r,o,p,e,n,l]),x=G.useMemo(()=>a1(_,o),[_,o]),b=g1(_);return G.createElement(G.Fragment,null,w.map(A=>G.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),x.map(A=>G.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),b.map(({key:A,link:M})=>G.createElement("link",{key:A,...M})))}function y1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iw&&(window.__reactRouterVersion="7.1.3")}catch{}function v1({basename:n,children:e,window:t}){let r=G.useRef();r.current==null&&(r.current=rx({window:t,v5Compat:!0}));let o=r.current,[l,d]=G.useState({action:o.action,location:o.location}),f=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(f),[o,f]),G.createElement(Kx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pr=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:d,state:f,target:p,to:_,preventScrollReset:w,viewTransition:x,...b},A){let{basename:M}=G.useContext(yi),V=typeof _=="string"&&sw.test(_),H,j=!1;if(typeof _=="string"&&V&&(H=_,iw))try{let R=new URL(window.location.href),F=_.startsWith("//")?new URL(R.protocol+_):new URL(_),$=la(F.pathname,M);F.origin===R.origin&&$!=null?_=$+F.search+F.hash:j=!0}catch{pi(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Ax(_,{relative:o}),[B,Z,J]=p1(r,b),ce=x1(_,{replace:d,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:x});function U(R){e&&e(R),R.defaultPrevented||ce(R)}let O=G.createElement("a",{...b,...J,href:H||N,onClick:j||l?e:U,ref:y1(A,Z),target:p,"data-discover":!V&&t==="render"?"true":void 0});return B&&!V?G.createElement(G.Fragment,null,O,G.createElement(m1,{page:N})):O});Pr.displayName="Link";var w1=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:d,viewTransition:f,children:p,..._},w){let x=mc(d,{relative:_.relative}),b=Ws(),A=G.useContext(Eh),{navigator:M,basename:V}=G.useContext(yi),H=A!=null&&C1(x)&&f===!0,j=M.encodeLocation?M.encodeLocation(x).pathname:x.pathname,N=b.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(N=N.toLowerCase(),B=B?B.toLowerCase():null,j=j.toLowerCase()),B&&V&&(B=la(B,V)||B);const Z=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let J=N===j||!o&&N.startsWith(j)&&N.charAt(Z)==="/",ce=B!=null&&(B===j||!o&&B.startsWith(j)&&B.charAt(j.length)==="/"),U={isActive:J,isPending:ce,isTransitioning:H},O=J?e:void 0,R;typeof r=="function"?R=r(U):R=[r,J?"active":null,ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(U):l;return G.createElement(Pr,{..._,"aria-current":O,className:R,ref:w,style:F,to:d,viewTransition:f},typeof p=="function"?p(U):p)});w1.displayName="NavLink";var E1=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:d=Dd,action:f,onSubmit:p,relative:_,preventScrollReset:w,viewTransition:x,...b},A)=>{let M=b1(),V=P1(f,{relative:_}),H=d.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&sw.test(f),N=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let Z=B.nativeEvent.submitter,J=(Z==null?void 0:Z.getAttribute("formmethod"))||d;M(Z||B.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:o,state:l,relative:_,preventScrollReset:w,viewTransition:x})};return G.createElement("form",{ref:A,method:H,action:V,onSubmit:r?p:N,...b,"data-discover":!j&&n==="render"?"true":void 0})});E1.displayName="Form";function T1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(n){let e=G.useContext(su);return At(e,T1(n)),e}function x1(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=vi(),p=Ws(),_=mc(n,{relative:l});return G.useCallback(w=>{if(e1(w,e)){w.preventDefault();let x=t!==void 0?t:rc(p)===rc(_);f(n,{replace:x,state:r,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,_,t,r,e,n,o,l,d])}var S1=0,I1=()=>`__${String(++S1)}__`;function b1(){let{router:n}=ow("useSubmit"),{basename:e}=G.useContext(yi),t=Ux();return G.useCallback(async(r,o={})=>{let{action:l,method:d,encType:f,formData:p,body:_}=r1(r,e);if(o.navigate===!1){let w=o.fetcherKey||I1();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function P1(n,{relative:e}={}){let{basename:t}=G.useContext(yi),r=G.useContext(Kr);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...mc(n||".",{relative:e})},d=Ws();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let w=f.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Os([t,l.pathname])),rc(l)}function C1(n,e={}){let t=G.useContext(Xv);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ow("useViewTransitionState"),o=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=la(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=la(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zd(o.pathname,d)!=null||Zd(o.pathname,l)!=null}new TextEncoder;var A1=Gv(),Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},k1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,f=d?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,w=l>>2,x=(l&3)<<4|f>>4;let b=(f&15)<<2|_>>6,A=_&63;p||(A=64,d||(b=64)),r.push(t[w],t[x],t[b],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||_==null||x==null)throw new R1;const b=l<<2|f>>4;if(r.push(b),_!==64){const A=f<<4&240|_>>2;if(r.push(A),x!==64){const M=_<<6&192|x;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(n){const e=aw(n);return lw.encodeByteArray(e,!0)},Qd=function(n){return L1(n).replace(/\./g,"")},uw=function(n){try{return lw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>N1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof Ey>"u")return;const n=Ey.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uw(n[1]);return e&&JSON.parse(e)},xh=()=>{try{return O1()||M1()||D1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cw=n=>{var e,t;return(t=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},V1=n=>{const e=cw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dw=()=>{var n;return(n=xh())===null||n===void 0?void 0:n.config},hw=n=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qd(JSON.stringify(t)),Qd(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function B1(){var n;const e=(n=xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function H1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q1(){const n=On();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function W1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G1(){try{return typeof indexedDB=="object"}catch{return!1}}function K1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="FirebaseError";class Gs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Z1,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?Q1(l,r):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Gs(o,f,r)}}function Q1(n,e){return n.replace(Y1,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Y1=/\{\$([^}]+)}/g;function X1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=n[o],d=e[o];if(Ty(l)&&Ty(d)){if(!Yd(l,d))return!1}else if(l!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Ty(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function J1(n,e){const t=new eS(n,e);return t.subscribe.bind(t)}class eS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class Ga{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new z1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iS(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(n){return n===$a?void 0:n}function iS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const oS={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},aS=st.INFO,lS={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},uS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=lS[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Im{constructor(e){this.name=e,this._logLevel=aS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const cS=(n,e)=>e.some(t=>n instanceof t);let xy,Sy;function dS(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hS(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,zp=new WeakMap,pw=new WeakMap,yp=new WeakMap,bm=new WeakMap;function fS(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(ta(n.result)),o()},d=()=>{r(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&fw.set(t,n)}).catch(()=>{}),bm.set(e,n),e}function pS(n){if(zp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});zp.set(n,e)}let Fp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mS(n){Fp=n(Fp)}function gS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vp(this),e,...t);return pw.set(r,e.sort?e.sort():[e]),ta(r)}:hS().includes(n)?function(...e){return n.apply(vp(this),e),ta(fw.get(this))}:function(...e){return ta(n.apply(vp(this),e))}}function _S(n){return typeof n=="function"?gS(n):(n instanceof IDBTransaction&&pS(n),cS(n,dS())?new Proxy(n,Fp):n)}function ta(n){if(n instanceof IDBRequest)return fS(n);if(yp.has(n))return yp.get(n);const e=_S(n);return e!==n&&(yp.set(n,e),bm.set(e,n)),e}const vp=n=>bm.get(n);function yS(n,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),f=ta(d);return r&&d.addEventListener("upgradeneeded",p=>{r(ta(d.result),p.oldVersion,p.newVersion,ta(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const vS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],wp=new Map;function Iy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=wS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vS.includes(t)))return;const l=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&p.done]))[0]};return wp.set(e,l),l}mS(n=>({...n,get:(e,t,r)=>Iy(e,t)||n.get(e,t,r),has:(e,t)=>!!Iy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function TS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",by="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Im("@firebase/app"),xS="@firebase/app-compat",SS="@firebase/analytics-compat",IS="@firebase/analytics",bS="@firebase/app-check-compat",PS="@firebase/app-check",CS="@firebase/auth",AS="@firebase/auth-compat",kS="@firebase/database",RS="@firebase/data-connect",LS="@firebase/database-compat",NS="@firebase/functions",OS="@firebase/functions-compat",MS="@firebase/installations",DS="@firebase/installations-compat",VS="@firebase/messaging",zS="@firebase/messaging-compat",FS="@firebase/performance",jS="@firebase/performance-compat",BS="@firebase/remote-config",US="@firebase/remote-config-compat",$S="@firebase/storage",HS="@firebase/storage-compat",qS="@firebase/firestore",WS="@firebase/vertexai",GS="@firebase/firestore-compat",KS="firebase",ZS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",QS={[jp]:"fire-core",[xS]:"fire-core-compat",[IS]:"fire-analytics",[SS]:"fire-analytics-compat",[PS]:"fire-app-check",[bS]:"fire-app-check-compat",[CS]:"fire-auth",[AS]:"fire-auth-compat",[kS]:"fire-rtdb",[RS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[NS]:"fire-fn",[OS]:"fire-fn-compat",[MS]:"fire-iid",[DS]:"fire-iid-compat",[VS]:"fire-fcm",[zS]:"fire-fcm-compat",[FS]:"fire-perf",[jS]:"fire-perf-compat",[BS]:"fire-rc",[US]:"fire-rc-compat",[$S]:"fire-gcs",[HS]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,YS=new Map,Up=new Map;function Py(n,e){try{n.container.addComponent(e)}catch(t){js.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kl(n){const e=n.name;if(Up.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,n);for(const t of Xd.values())Py(t,n);for(const t of YS.values())Py(t,n);return!0}function Pm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new gc("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=ZS;function mw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw na.create("bad-app-name",{appName:String(o)});if(t||(t=dw()),!t)throw na.create("no-options");const l=Xd.get(o);if(l){if(Yd(t,l.options)&&Yd(r,l.config))return l;throw na.create("duplicate-app",{appName:o})}const d=new sS(o);for(const p of Up.values())d.addComponent(p);const f=new JS(t,r,d);return Xd.set(o,f),f}function gw(n=Bp){const e=Xd.get(n);if(!e&&n===Bp&&dw())return mw();if(!e)throw na.create("no-app",{appName:n});return e}function ra(n,e,t){var r;let o=(r=QS[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(f.join(" "));return}Kl(new Ga(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,ic="firebase-heartbeat-store";let Ep=null;function _w(){return Ep||(Ep=yS(eI,tI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ic)}catch(t){console.warn(t)}}}}).catch(n=>{throw na.create("idb-open",{originalErrorMessage:n.message})})),Ep}async function nI(n){try{const t=(await _w()).transaction(ic),r=await t.objectStore(ic).get(yw(n));return await t.done,r}catch(e){if(e instanceof Gs)js.warn(e.message);else{const t=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(t.message)}}}async function Cy(n,e){try{const r=(await _w()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,yw(n)),await r.done}catch(t){if(t instanceof Gs)js.warn(t.message);else{const r=na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});js.warn(r.message)}}}function yw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1024,iI=30*24*60*60*1e3;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ay();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=iI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){js.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ay(),{heartbeatsToSend:r,unsentEntries:o}=oI(this._heartbeatsCache.heartbeats),l=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return js.warn(t),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function oI(n,e=rI){const t=[];let r=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),ky(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ky(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G1()?K1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ky(n){return Qd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){Kl(new Ga("platform-logger",e=>new ES(e),"PRIVATE")),Kl(new Ga("heartbeat",e=>new sI(e),"PRIVATE")),ra(jp,by,n),ra(jp,by,"esm2017"),ra("fire-js","")}lI("");var uI="firebase",cI="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(uI,cI,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,vw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,O){function R(){}R.prototype=O.prototype,U.D=O.prototype,U.prototype=new R,U.prototype.constructor=U,U.C=function(F,$,q){for(var D=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)D[_e-2]=arguments[_e];return O.prototype[$].apply(F,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,O,R){R||(R=0);var F=Array(16);if(typeof O=="string")for(var $=0;16>$;++$)F[$]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for($=0;16>$;++$)F[$]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=U.g[0],R=U.g[1],$=U.g[2];var q=U.g[3],D=O+(q^R&($^q))+F[0]+3614090360&4294967295;O=R+(D<<7&4294967295|D>>>25),D=q+($^O&(R^$))+F[1]+3905402710&4294967295,q=O+(D<<12&4294967295|D>>>20),D=$+(R^q&(O^R))+F[2]+606105819&4294967295,$=q+(D<<17&4294967295|D>>>15),D=R+(O^$&(q^O))+F[3]+3250441966&4294967295,R=$+(D<<22&4294967295|D>>>10),D=O+(q^R&($^q))+F[4]+4118548399&4294967295,O=R+(D<<7&4294967295|D>>>25),D=q+($^O&(R^$))+F[5]+1200080426&4294967295,q=O+(D<<12&4294967295|D>>>20),D=$+(R^q&(O^R))+F[6]+2821735955&4294967295,$=q+(D<<17&4294967295|D>>>15),D=R+(O^$&(q^O))+F[7]+4249261313&4294967295,R=$+(D<<22&4294967295|D>>>10),D=O+(q^R&($^q))+F[8]+1770035416&4294967295,O=R+(D<<7&4294967295|D>>>25),D=q+($^O&(R^$))+F[9]+2336552879&4294967295,q=O+(D<<12&4294967295|D>>>20),D=$+(R^q&(O^R))+F[10]+4294925233&4294967295,$=q+(D<<17&4294967295|D>>>15),D=R+(O^$&(q^O))+F[11]+2304563134&4294967295,R=$+(D<<22&4294967295|D>>>10),D=O+(q^R&($^q))+F[12]+1804603682&4294967295,O=R+(D<<7&4294967295|D>>>25),D=q+($^O&(R^$))+F[13]+4254626195&4294967295,q=O+(D<<12&4294967295|D>>>20),D=$+(R^q&(O^R))+F[14]+2792965006&4294967295,$=q+(D<<17&4294967295|D>>>15),D=R+(O^$&(q^O))+F[15]+1236535329&4294967295,R=$+(D<<22&4294967295|D>>>10),D=O+($^q&(R^$))+F[1]+4129170786&4294967295,O=R+(D<<5&4294967295|D>>>27),D=q+(R^$&(O^R))+F[6]+3225465664&4294967295,q=O+(D<<9&4294967295|D>>>23),D=$+(O^R&(q^O))+F[11]+643717713&4294967295,$=q+(D<<14&4294967295|D>>>18),D=R+(q^O&($^q))+F[0]+3921069994&4294967295,R=$+(D<<20&4294967295|D>>>12),D=O+($^q&(R^$))+F[5]+3593408605&4294967295,O=R+(D<<5&4294967295|D>>>27),D=q+(R^$&(O^R))+F[10]+38016083&4294967295,q=O+(D<<9&4294967295|D>>>23),D=$+(O^R&(q^O))+F[15]+3634488961&4294967295,$=q+(D<<14&4294967295|D>>>18),D=R+(q^O&($^q))+F[4]+3889429448&4294967295,R=$+(D<<20&4294967295|D>>>12),D=O+($^q&(R^$))+F[9]+568446438&4294967295,O=R+(D<<5&4294967295|D>>>27),D=q+(R^$&(O^R))+F[14]+3275163606&4294967295,q=O+(D<<9&4294967295|D>>>23),D=$+(O^R&(q^O))+F[3]+4107603335&4294967295,$=q+(D<<14&4294967295|D>>>18),D=R+(q^O&($^q))+F[8]+1163531501&4294967295,R=$+(D<<20&4294967295|D>>>12),D=O+($^q&(R^$))+F[13]+2850285829&4294967295,O=R+(D<<5&4294967295|D>>>27),D=q+(R^$&(O^R))+F[2]+4243563512&4294967295,q=O+(D<<9&4294967295|D>>>23),D=$+(O^R&(q^O))+F[7]+1735328473&4294967295,$=q+(D<<14&4294967295|D>>>18),D=R+(q^O&($^q))+F[12]+2368359562&4294967295,R=$+(D<<20&4294967295|D>>>12),D=O+(R^$^q)+F[5]+4294588738&4294967295,O=R+(D<<4&4294967295|D>>>28),D=q+(O^R^$)+F[8]+2272392833&4294967295,q=O+(D<<11&4294967295|D>>>21),D=$+(q^O^R)+F[11]+1839030562&4294967295,$=q+(D<<16&4294967295|D>>>16),D=R+($^q^O)+F[14]+4259657740&4294967295,R=$+(D<<23&4294967295|D>>>9),D=O+(R^$^q)+F[1]+2763975236&4294967295,O=R+(D<<4&4294967295|D>>>28),D=q+(O^R^$)+F[4]+1272893353&4294967295,q=O+(D<<11&4294967295|D>>>21),D=$+(q^O^R)+F[7]+4139469664&4294967295,$=q+(D<<16&4294967295|D>>>16),D=R+($^q^O)+F[10]+3200236656&4294967295,R=$+(D<<23&4294967295|D>>>9),D=O+(R^$^q)+F[13]+681279174&4294967295,O=R+(D<<4&4294967295|D>>>28),D=q+(O^R^$)+F[0]+3936430074&4294967295,q=O+(D<<11&4294967295|D>>>21),D=$+(q^O^R)+F[3]+3572445317&4294967295,$=q+(D<<16&4294967295|D>>>16),D=R+($^q^O)+F[6]+76029189&4294967295,R=$+(D<<23&4294967295|D>>>9),D=O+(R^$^q)+F[9]+3654602809&4294967295,O=R+(D<<4&4294967295|D>>>28),D=q+(O^R^$)+F[12]+3873151461&4294967295,q=O+(D<<11&4294967295|D>>>21),D=$+(q^O^R)+F[15]+530742520&4294967295,$=q+(D<<16&4294967295|D>>>16),D=R+($^q^O)+F[2]+3299628645&4294967295,R=$+(D<<23&4294967295|D>>>9),D=O+($^(R|~q))+F[0]+4096336452&4294967295,O=R+(D<<6&4294967295|D>>>26),D=q+(R^(O|~$))+F[7]+1126891415&4294967295,q=O+(D<<10&4294967295|D>>>22),D=$+(O^(q|~R))+F[14]+2878612391&4294967295,$=q+(D<<15&4294967295|D>>>17),D=R+(q^($|~O))+F[5]+4237533241&4294967295,R=$+(D<<21&4294967295|D>>>11),D=O+($^(R|~q))+F[12]+1700485571&4294967295,O=R+(D<<6&4294967295|D>>>26),D=q+(R^(O|~$))+F[3]+2399980690&4294967295,q=O+(D<<10&4294967295|D>>>22),D=$+(O^(q|~R))+F[10]+4293915773&4294967295,$=q+(D<<15&4294967295|D>>>17),D=R+(q^($|~O))+F[1]+2240044497&4294967295,R=$+(D<<21&4294967295|D>>>11),D=O+($^(R|~q))+F[8]+1873313359&4294967295,O=R+(D<<6&4294967295|D>>>26),D=q+(R^(O|~$))+F[15]+4264355552&4294967295,q=O+(D<<10&4294967295|D>>>22),D=$+(O^(q|~R))+F[6]+2734768916&4294967295,$=q+(D<<15&4294967295|D>>>17),D=R+(q^($|~O))+F[13]+1309151649&4294967295,R=$+(D<<21&4294967295|D>>>11),D=O+($^(R|~q))+F[4]+4149444226&4294967295,O=R+(D<<6&4294967295|D>>>26),D=q+(R^(O|~$))+F[11]+3174756917&4294967295,q=O+(D<<10&4294967295|D>>>22),D=$+(O^(q|~R))+F[2]+718787259&4294967295,$=q+(D<<15&4294967295|D>>>17),D=R+(q^($|~O))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+O&4294967295,U.g[1]=U.g[1]+($+(D<<21&4294967295|D>>>11))&4294967295,U.g[2]=U.g[2]+$&4294967295,U.g[3]=U.g[3]+q&4294967295}r.prototype.u=function(U,O){O===void 0&&(O=U.length);for(var R=O-this.blockSize,F=this.B,$=this.h,q=0;q<O;){if($==0)for(;q<=R;)o(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<O;)if(F[$++]=U.charCodeAt(q++),$==this.blockSize){o(this,F),$=0;break}}else for(;q<O;)if(F[$++]=U[q++],$==this.blockSize){o(this,F),$=0;break}}this.h=$,this.o+=O},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var O=1;O<U.length-8;++O)U[O]=0;var R=8*this.o;for(O=U.length-8;O<U.length;++O)U[O]=R&255,R/=256;for(this.u(U),U=Array(16),O=R=0;4>O;++O)for(var F=0;32>F;F+=8)U[R++]=this.g[O]>>>F&255;return U};function l(U,O){var R=f;return Object.prototype.hasOwnProperty.call(R,U)?R[U]:R[U]=O(U)}function d(U,O){this.h=O;for(var R=[],F=!0,$=U.length-1;0<=$;$--){var q=U[$]|0;F&&q==O||(R[$]=q,F=!1)}this.g=R}var f={};function p(U){return-128<=U&&128>U?l(U,function(O){return new d([O|0],0>O?-1:0)}):new d([U|0],0>U?-1:0)}function _(U){if(isNaN(U)||!isFinite(U))return x;if(0>U)return H(_(-U));for(var O=[],R=1,F=0;U>=R;F++)O[F]=U/R|0,R*=4294967296;return new d(O,0)}function w(U,O){if(U.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U.charAt(0)=="-")return H(w(U.substring(1),O));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(O,8)),F=x,$=0;$<U.length;$+=8){var q=Math.min(8,U.length-$),D=parseInt(U.substring($,$+q),O);8>q?(q=_(Math.pow(O,q)),F=F.j(q).add(_(D))):(F=F.j(R),F=F.add(_(D)))}return F}var x=p(0),b=p(1),A=p(16777216);n=d.prototype,n.m=function(){if(V(this))return-H(this).m();for(var U=0,O=1,R=0;R<this.g.length;R++){var F=this.i(R);U+=(0<=F?F:4294967296+F)*O,O*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(M(this))return"0";if(V(this))return"-"+H(this).toString(U);for(var O=_(Math.pow(U,6)),R=this,F="";;){var $=Z(R,O).g;R=j(R,$.j(O));var q=((0<R.g.length?R.g[0]:R.h)>>>0).toString(U);if(R=$,M(R))return q+F;for(;6>q.length;)q="0"+q;F=q+F}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function M(U){if(U.h!=0)return!1;for(var O=0;O<U.g.length;O++)if(U.g[O]!=0)return!1;return!0}function V(U){return U.h==-1}n.l=function(U){return U=j(this,U),V(U)?-1:M(U)?0:1};function H(U){for(var O=U.g.length,R=[],F=0;F<O;F++)R[F]=~U.g[F];return new d(R,~U.h).add(b)}n.abs=function(){return V(this)?H(this):this},n.add=function(U){for(var O=Math.max(this.g.length,U.g.length),R=[],F=0,$=0;$<=O;$++){var q=F+(this.i($)&65535)+(U.i($)&65535),D=(q>>>16)+(this.i($)>>>16)+(U.i($)>>>16);F=D>>>16,q&=65535,D&=65535,R[$]=D<<16|q}return new d(R,R[R.length-1]&-2147483648?-1:0)};function j(U,O){return U.add(H(O))}n.j=function(U){if(M(this)||M(U))return x;if(V(this))return V(U)?H(this).j(H(U)):H(H(this).j(U));if(V(U))return H(this.j(H(U)));if(0>this.l(A)&&0>U.l(A))return _(this.m()*U.m());for(var O=this.g.length+U.g.length,R=[],F=0;F<2*O;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<U.g.length;$++){var q=this.i(F)>>>16,D=this.i(F)&65535,_e=U.i($)>>>16,Ae=U.i($)&65535;R[2*F+2*$]+=D*Ae,N(R,2*F+2*$),R[2*F+2*$+1]+=q*Ae,N(R,2*F+2*$+1),R[2*F+2*$+1]+=D*_e,N(R,2*F+2*$+1),R[2*F+2*$+2]+=q*_e,N(R,2*F+2*$+2)}for(F=0;F<O;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=O;F<2*O;F++)R[F]=0;return new d(R,0)};function N(U,O){for(;(U[O]&65535)!=U[O];)U[O+1]+=U[O]>>>16,U[O]&=65535,O++}function B(U,O){this.g=U,this.h=O}function Z(U,O){if(M(O))throw Error("division by zero");if(M(U))return new B(x,x);if(V(U))return O=Z(H(U),O),new B(H(O.g),H(O.h));if(V(O))return O=Z(U,H(O)),new B(H(O.g),O.h);if(30<U.g.length){if(V(U)||V(O))throw Error("slowDivide_ only works with positive integers.");for(var R=b,F=O;0>=F.l(U);)R=J(R),F=J(F);var $=ce(R,1),q=ce(F,1);for(F=ce(F,2),R=ce(R,2);!M(F);){var D=q.add(F);0>=D.l(U)&&($=$.add(R),q=D),F=ce(F,1),R=ce(R,1)}return O=j(U,$.j(O)),new B($,O)}for($=x;0<=U.l(O);){for(R=Math.max(1,Math.floor(U.m()/O.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),q=_(R),D=q.j(O);V(D)||0<D.l(U);)R-=F,q=_(R),D=q.j(O);M(q)&&(q=b),$=$.add(q),U=j(U,D)}return new B($,U)}n.A=function(U){return Z(this,U).h},n.and=function(U){for(var O=Math.max(this.g.length,U.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)&U.i(F);return new d(R,this.h&U.h)},n.or=function(U){for(var O=Math.max(this.g.length,U.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)|U.i(F);return new d(R,this.h|U.h)},n.xor=function(U){for(var O=Math.max(this.g.length,U.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)^U.i(F);return new d(R,this.h^U.h)};function J(U){for(var O=U.g.length+1,R=[],F=0;F<O;F++)R[F]=U.i(F)<<1|U.i(F-1)>>>31;return new d(R,U.h)}function ce(U,O){var R=O>>5;O%=32;for(var F=U.g.length-R,$=[],q=0;q<F;q++)$[q]=0<O?U.i(q+R)>>>O|U.i(q+R+1)<<32-O:U.i(q+R);return new d($,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vw=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=w,ia=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,Wu,Ew,zd,$p,Tw,xw,Sw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,I){return h==Array.prototype||h==Object.prototype||(h[E]=I.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var E=0;E<h.length;++E){var I=h[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function o(h,E){if(E)e:{var I=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var te=h[z];if(!(te in I))break e;I=I[te]}h=h[h.length-1],z=I[h],E=E(z),E!=z&&E!=null&&e(I,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var I=0,z=!1,te={next:function(){if(!z&&I<h.length){var le=I++;return{value:E(le,h[le]),done:!1}}return z=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}o("Array.prototype.values",function(h){return h||function(){return l(this,function(E,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function _(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function w(h,E,I){return h.call.apply(h.bind,arguments)}function x(h,E,I){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,z),h.apply(E,te)}}return function(){return h.apply(E,arguments)}}function b(h,E,I){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,b.apply(null,arguments)}function A(h,E){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function M(h,E){function I(){}I.prototype=E.prototype,h.aa=E.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(z,te,le){for(var we=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)we[dt-2]=arguments[dt];return E.prototype[te].apply(z,we)}}function V(h){const E=h.length;if(0<E){const I=Array(E);for(let z=0;z<E;z++)I[z]=h[z];return I}return[]}function H(h,E){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(p(z)){const te=h.length||0,le=z.length||0;h.length=te+le;for(let we=0;we<le;we++)h[te+we]=z[we]}else h.push(z)}}class j{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function N(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ce(h,E,I){for(const z in h)E.call(I,h[z],z,h)}function U(h,E){for(const I in h)E.call(void 0,h[I],I,h)}function O(h){const E={};for(const I in h)E[I]=h[I];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,E){let I,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(I in z)h[I]=z[I];for(let le=0;le<R.length;le++)I=R[le],Object.prototype.hasOwnProperty.call(z,I)&&(h[I]=z[I])}}function $(h){var E=1;h=h.split(":");const I=[];for(;0<E&&h.length;)I.push(h.shift()),E--;return h.length&&I.push(h.join(":")),I}function q(h){f.setTimeout(()=>{throw h},0)}function D(){var h=ye;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class _e{constructor(){this.h=this.g=null}add(E,I){const z=Ae.get();z.set(E,I),this.h?this.h.next=z:this.g=z,this.h=z}}var Ae=new j(()=>new Me,h=>h.reset());class Me{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ee=!1,ye=new _e,ae=()=>{const h=f.Promise.resolve(void 0);ze=()=>{h.then(Y)}};var Y=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(I){q(I)}var E=Ae;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}ee=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};f.addEventListener("test",I,E),f.removeEventListener("test",I,E)}catch{}return h}();function Pe(h,E){if(xe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(J){e:{try{Z(E.nodeName);var te=!0;break e}catch{}te=!1}te||(E=null)}}else I=="mouseover"?E=h.fromElement:I=="mouseout"&&(E=h.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Pe.aa.h.call(this)}}M(Pe,xe);var Ie={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),tt=0;function gt(h,E,I,z,te){this.listener=h,this.proxy=null,this.src=E,this.type=I,this.capture=!!z,this.ha=te,this.key=++tt,this.da=this.fa=!1}function Dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function hr(h){this.src=h,this.g={},this.h=0}hr.prototype.add=function(h,E,I,z,te){var le=h.toString();h=this.g[le],h||(h=this.g[le]=[],this.h++);var we=Ar(h,E,z,te);return-1<we?(E=h[we],I||(E.fa=!1)):(E=new gt(E,this.src,le,!!z,te),E.fa=I,h.push(E)),E};function Cr(h,E){var I=E.type;if(I in h.g){var z=h.g[I],te=Array.prototype.indexOf.call(z,E,void 0),le;(le=0<=te)&&Array.prototype.splice.call(z,te,1),le&&(Dt(E),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Ar(h,E,I,z){for(var te=0;te<h.length;++te){var le=h[te];if(!le.da&&le.listener==E&&le.capture==!!I&&le.ha==z)return te}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Wi={};function Ys(h,E,I,z,te){if(Array.isArray(E)){for(var le=0;le<E.length;le++)Ys(h,E[le],I,z,te);return null}return I=ga(I),h&&h[Je]?h.K(E,I,_(z)?!!z.capture:!1,te):Gi(h,E,I,!1,z,te)}function Gi(h,E,I,z,te,le){if(!E)throw Error("Invalid event type");var we=_(te)?!!te.capture:!!te,dt=Zi(h);if(dt||(h[qi]=dt=new hr(h)),I=dt.add(E,I,z,we,le),I.proxy)return I;if(z=Ki(),I.proxy=z,z.src=h,z.listener=I,h.addEventListener)Ne||(te=we),te===void 0&&(te=!1),h.addEventListener(E.toString(),z,te);else if(h.attachEvent)h.attachEvent(fr(E.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ki(){function h(I){return E.call(h.src,h.listener,I)}const E=Js;return h}function Xs(h,E,I,z,te){if(Array.isArray(E))for(var le=0;le<E.length;le++)Xs(h,E[le],I,z,te);else z=_(z)?!!z.capture:!!z,I=ga(I),h&&h[Je]?(h=h.i,E=String(E).toString(),E in h.g&&(le=h.g[E],I=Ar(le,I,z,te),-1<I&&(Dt(le[I]),Array.prototype.splice.call(le,I,1),le.length==0&&(delete h.g[E],h.h--)))):h&&(h=Zi(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Ar(E,I,z,te)),(I=-1<h?E[h]:null)&&kr(I))}function kr(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[Je])Cr(E.i,h);else{var I=h.type,z=h.proxy;E.removeEventListener?E.removeEventListener(I,z,h.capture):E.detachEvent?E.detachEvent(fr(I),z):E.addListener&&E.removeListener&&E.removeListener(z),(I=Zi(E))?(Cr(I,h),I.h==0&&(I.src=null,E[qi]=null)):Dt(h)}}}function fr(h){return h in Wi?Wi[h]:Wi[h]="on"+h}function Js(h,E){if(h.da)h=!0;else{E=new Pe(E,this);var I=h.listener,z=h.ha||h.src;h.fa&&kr(h),h=I.call(z,E)}return h}function Zi(h){return h=h[qi],h instanceof hr?h:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ga(h){return typeof h=="function"?h:(h[eo]||(h[eo]=function(E){return h.handleEvent(E)}),h[eo])}function kt(){ue.call(this),this.i=new hr(this),this.M=this,this.F=null}M(kt,ue),kt.prototype[Je]=!0,kt.prototype.removeEventListener=function(h,E,I,z){Xs(this,h,E,I,z)};function Vt(h,E){var I,z=h.F;if(z)for(I=[];z;z=z.F)I.push(z);if(h=h.M,z=E.type||E,typeof E=="string")E=new xe(E,h);else if(E instanceof xe)E.target=E.target||h;else{var te=E;E=new xe(z,h),F(E,te)}if(te=!0,I)for(var le=I.length-1;0<=le;le--){var we=E.g=I[le];te=Rr(we,z,!0,E)&&te}if(we=E.g=h,te=Rr(we,z,!0,E)&&te,te=Rr(we,z,!1,E)&&te,I)for(le=0;le<I.length;le++)we=E.g=I[le],te=Rr(we,z,!1,E)&&te}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var I=h.g[E],z=0;z<I.length;z++)Dt(I[z]);delete h.g[E],h.h--}}this.F=null},kt.prototype.K=function(h,E,I,z){return this.i.add(String(h),E,!1,I,z)},kt.prototype.L=function(h,E,I,z){return this.i.add(String(h),E,!0,I,z)};function Rr(h,E,I,z){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var te=!0,le=0;le<E.length;++le){var we=E[le];if(we&&!we.da&&we.capture==I){var dt=we.listener,Ft=we.ha||we.src;we.fa&&Cr(h.i,we),te=dt.call(Ft,z)!==!1&&te}}return te&&!z.defaultPrevented}function _a(h,E,I){if(typeof h=="function")I&&(h=b(h,I));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:f.setTimeout(h,E||0)}function Qr(h){h.g=_a(()=>{h.g=null,h.i&&(h.i=!1,Qr(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class wi extends ue{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(h){ue.call(this),this.h=h,this.g={}}M(Qi,ue);var to=[];function Yi(h){ce(h.g,function(E,I){this.g.hasOwnProperty(I)&&kr(E)},h),h.g={}}Qi.prototype.N=function(){Qi.aa.N.call(this),Yi(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var no=f.JSON.stringify,ya=f.JSON.parse,Yr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Xi(){}Xi.prototype.h=null;function ro(h){return h.h||(h.h=h.i())}function Ji(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){xe.call(this,"d")}M(pr,xe);function io(){xe.call(this,"c")}M(io,xe);var Lr={},va=null;function es(){return va=va||new kt}Lr.La="serverreachability";function wa(h){xe.call(this,Lr.La,h)}M(wa,xe);function Xr(h){const E=es();Vt(E,new wa(E))}Lr.STAT_EVENT="statevent";function ts(h,E){xe.call(this,Lr.STAT_EVENT,h),this.stat=E}M(ts,xe);function Rt(h){const E=es();Vt(E,new ts(E,h))}Lr.Ma="timingevent";function so(h,E){xe.call(this,Lr.Ma,h),this.size=E}M(so,xe);function mr(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},E)}function ns(){this.g=!0}ns.prototype.xa=function(){this.g=!1};function sn(h,E,I,z,te,le){h.info(function(){if(h.g)if(le)for(var we="",dt=le.split("&"),Ft=0;Ft<dt.length;Ft++){var it=dt[Ft].split("=");if(1<it.length){var ft=it[0];it=it[1];var Tt=ft.split("_");we=2<=Tt.length&&Tt[1]=="type"?we+(ft+"="+it+"&"):we+(ft+"=redacted&")}}else we=null;else we=le;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+E+`
`+I+`
`+we})}function Re(h,E,I,z,te,le,we){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+E+`
`+I+`
`+le+" "+we})}function qn(h,E,I,z){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+il(h,I)+(z?" "+z:"")})}function oo(h,E){h.info(function(){return"TIMEOUT: "+E})}ns.prototype.info=function(){};function il(h,E){if(!h.g)return E;if(!E)return null;try{var I=JSON.parse(E);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var z=I[h];if(!(2>z.length)){var te=z[1];if(Array.isArray(te)&&!(1>te.length)){var le=te[0];if(le!="noop"&&le!="stop"&&le!="close")for(var we=1;we<te.length;we++)te[we]=""}}}}return no(I)}catch{return E}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ao={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Gn(){}M(Gn,Xi),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Wn=new Gn;function Kn(h,E,I,z){this.j=h,this.i=E,this.l=I,this.R=z||1,this.U=new Qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sl}function sl(){this.i=null,this.g="",this.h=!1}var Ea={},lo={};function uo(h,E,I){h.L=1,h.v=Tn(xt(E)),h.m=I,h.P=!0,co(h,null)}function co(h,E){h.F=Date.now(),wt(h),h.A=xt(h.v);var I=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),bi(I.i,"t",z),h.C=0,I=h.j.J,h.h=new sl,h.g=cl(h.j,I?E:null,!h.m),0<h.O&&(h.M=new wi(b(h.Y,h,h.g),h.O)),E=h.U,I=h.g,z=h.ca;var te="readystatechange";Array.isArray(te)||(te&&(to[0]=te.toString()),te=to);for(var le=0;le<te.length;le++){var we=Ys(I,te[le],z||E.handleEvent,!1,E.h||E);if(!we)break;E.g[we.key]=we}E=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Xr(),sn(h.i,h.u,h.A,h.l,h.R,h.m)}Kn.prototype.ca=function(h){h=h.target;const E=this.M;E&&Ht(h)==3?E.j():this.Y(h)},Kn.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=Ht(this.g);var E=this.g.Ba();const nr=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||Tt!=4||E==7||(E==8||0>=nr?Xr(3):Xr(2)),is(this);var I=this.g.Z();this.X=I;t:if(ol(this)){var z=_o(this.g);h="";var te=z.length,le=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Ei(this);var we="";break t}this.h.i=new f.TextDecoder}for(E=0;E<te;E++)this.h.h=!0,h+=this.h.i.decode(z[E],{stream:!(le&&E==te-1)});z.length=0,this.h.g+=h,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=I==200,Re(this.i,this.u,this.A,this.l,this.R,Tt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Ft=this.g;if((dt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(dt)){var it=dt;break t}}it=null}if(I=it)qn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ss(this,I);else{this.o=!1,this.s=3,Rt(12),Zn(this),Ei(this);break e}}if(this.P){I=!0;let Lt;for(;!this.J&&this.C<we.length;)if(Lt=ho(this,we),Lt==lo){Tt==4&&(this.s=4,Rt(14),I=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Ea){this.s=4,Rt(15),qn(this.i,this.l,we,"[Invalid Chunk]"),I=!1;break}else qn(this.i,this.l,Lt,null),ss(this,Lt);if(ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||we.length!=0||this.h.h||(this.s=1,Rt(16),I=!1),this.o=this.o&&I,!I)qn(this.i,this.l,we,"[Invalid Chunked Response]"),Zn(this),Ei(this);else if(0<we.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),wo(ft),ft.M=!0,Rt(11))}}else qn(this.i,this.l,we,null),ss(this,we);Tt==4&&Zn(this),this.o&&!this.J&&(Tt==4?ps(this.j,this):(this.o=!1,wt(this)))}else yo(this.g),I==400&&0<we.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Zn(this),Ei(this)}}}catch{}finally{}};function ol(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ho(h,E){var I=h.C,z=E.indexOf(`
`,I);return z==-1?lo:(I=Number(E.substring(I,z)),isNaN(I)?Ea:(z+=1,z+I>E.length?lo:(E=E.slice(z,z+I),h.C=z+I,E)))}Kn.prototype.cancel=function(){this.J=!0,Zn(this)};function wt(h){h.S=Date.now()+h.I,al(h,h.I)}function al(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mr(b(h.ba,h),E)}function is(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Kn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(oo(this.i,this.A),this.L!=2&&(Xr(),Rt(17)),Zn(this),this.s=2,Ei(this)):al(this,this.S-h)};function Ei(h){h.j.G==0||h.J||ps(h.j,h)}function Zn(h){is(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,Yi(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function ss(h,E){try{var I=h.j;if(I.G!=0&&(I.g==h||qe(I.h,h))){if(!h.K&&qe(I.h,h)&&I.G==3){try{var z=I.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)To(I),yr(I);else break e;fs(I),Rt(18)}}else I.za=te[1],0<I.za-I.T&&37500>te[2]&&I.F&&I.v==0&&!I.C&&(I.C=mr(b(I.Za,I),6e3));if(1>=Si(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ii(I,11)}else if((h.K||I.g==h)&&To(I),!N(E))for(te=I.Da.g.parse(E),E=0;E<te.length;E++){let it=te[E];if(I.T=it[0],it=it[1],I.G==2)if(it[0]=="c"){I.K=it[1],I.ia=it[2];const ft=it[3];ft!=null&&(I.la=ft,I.j.info("VER="+I.la));const Tt=it[4];Tt!=null&&(I.Aa=Tt,I.j.info("SVER="+I.Aa));const nr=it[5];nr!=null&&typeof nr=="number"&&0<nr&&(z=1.5*nr,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const Lt=h.g;if(Lt){const gs=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var le=z.h;le.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(_t(le,le.h),le.h=null))}if(z.D){const vr=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;vr&&(z.ya=vr,We(z.I,z.D,vr))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var we=h;if(z.qa=xo(z,z.J?z.ia:null,z.W),we.K){os(z.h,we);var dt=we,Ft=z.L;Ft&&(dt.I=Ft),dt.B&&(is(dt),wt(dt)),z.g=we}else xn(z);0<I.i.length&&tr(I)}else it[0]!="stop"&&it[0]!="close"||ii(I,7);else I.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ii(I,7):qt(I):it[0]!="noop"&&I.l&&I.l.ta(it),I.v=0)}}Xr(4)}catch{}}var Ti=class{constructor(h,E){this.g=h,this.map=E}};function xi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Si(h){return h.h?1:h.g?h.g.size:0}function qe(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function _t(h,E){h.g?h.g.add(E):h.h=E}function os(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}xi.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jr(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const I of h.g.values())E=E.concat(I.D);return E}return V(h.i)}function gr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var E=[],I=h.length,z=0;z<I;z++)E.push(h[z]);return E}E=[],I=0;for(z in h)E[I++]=h[z];return E}function Ii(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var E=[];h=h.length;for(var I=0;I<h;I++)E.push(I);return E}E=[],I=0;for(const z in h)E[I++]=z;return E}}}function He(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var I=Ii(h),z=gr(h),te=z.length,le=0;le<te;le++)E.call(void 0,z[le],I&&I[le],h)}var yt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(h,E){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var z=h[I].indexOf("="),te=null;if(0<=z){var le=h[I].substring(0,z);te=h[I].substring(z+1)}else le=h[I];E(le,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Qn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qn){this.h=h.h,as(this,h.j),this.o=h.o,this.g=h.g,_r(this,h.s),this.l=h.l;var E=h.i,I=new Xn;I.i=E.i,E.g&&(I.g=new Map(E.g),I.h=E.h),En(this,I),this.m=h.m}else h&&(E=String(h).match(yt))?(this.h=!1,as(this,E[1]||"",!0),this.o=et(E[2]||""),this.g=et(E[3]||"",!0),_r(this,E[4]),this.l=et(E[5]||"",!0),En(this,E[6]||"",!0),this.m=et(E[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Qn.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Yn(E,Nr,!0),":");var I=this.g;return(I||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Yn(E,Nr,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Yn(I,I.charAt(0)=="/"?mo:po,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Yn(I,us)),h.join("")};function xt(h){return new Qn(h)}function as(h,E,I){h.j=I?et(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function _r(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function En(h,E,I){E instanceof Xn?(h.i=E,Bt(h.i,h.h)):(I||(E=Yn(E,ls)),h.i=new Xn(E,h.h))}function We(h,E,I){h.i.set(E,I)}function Tn(h){return We(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function et(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yn(h,E,I){return typeof h=="string"?(h=encodeURI(h).replace(E,fo),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fo(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Nr=/[#\/\?@]/g,po=/[#\?:]/g,mo=/[#\?]/g,ls=/[#\?@]/g,us=/#/g;function Xn(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&Ta(h.i,function(E,I){h.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}n=Xn.prototype,n.add=function(h,E){zt(this),this.i=null,h=Ve(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(E),this.h+=1,this};function Jn(h,E){zt(h),E=Ve(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function Dn(h,E){return zt(h),E=Ve(h,E),h.g.has(E)}n.forEach=function(h,E){zt(this),this.g.forEach(function(I,z){I.forEach(function(te){h.call(E,te,z,this)},this)},this)},n.na=function(){zt(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),I=[];for(let z=0;z<E.length;z++){const te=h[z];for(let le=0;le<te.length;le++)I.push(E[z])}return I},n.V=function(h){zt(this);let E=[];if(typeof h=="string")Dn(this,h)&&(E=E.concat(this.g.get(Ve(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)E=E.concat(h[I])}return E},n.set=function(h,E){return zt(this),this.i=null,h=Ve(this,h),Dn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},n.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function bi(h,E,I){Jn(h,E),0<I.length&&(h.i=null,h.g.set(Ve(h,E),V(I)),h.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var I=0;I<E.length;I++){var z=E[I];const le=encodeURIComponent(String(z)),we=this.V(z);for(z=0;z<we.length;z++){var te=le;we[z]!==""&&(te+="="+encodeURIComponent(String(we[z]))),h.push(te)}}return this.i=h.join("&")};function Ve(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Bt(h,E){E&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(I,z){var te=z.toLowerCase();z!=te&&(Jn(this,z),bi(this,te,I))},h)),h.j=E}function ht(h,E){const I=new ns;if(f.Image){const z=new Image;z.onload=A(on,I,"TestLoadImage: loaded",!0,E,z),z.onerror=A(on,I,"TestLoadImage: error",!1,E,z),z.onabort=A(on,I,"TestLoadImage: abort",!1,E,z),z.ontimeout=A(on,I,"TestLoadImage: timeout",!1,E,z),f.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else E(!1)}function xa(h,E){const I=new ns,z=new AbortController,te=setTimeout(()=>{z.abort(),on(I,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:z.signal}).then(le=>{clearTimeout(te),le.ok?on(I,"TestPingServer: ok",!0,E):on(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),on(I,"TestPingServer: error",!1,E)})}function on(h,E,I,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(I)}catch{}}function Sa(){this.g=new Yr}function go(h,E,I){const z=I||"";try{He(h,function(te,le){let we=te;_(te)&&(we=no(te)),E.push(z+le+"="+encodeURIComponent(we))})}catch(te){throw E.push(z+"type="+encodeURIComponent("_badmap")),te}}function fn(h){this.l=h.Ub||null,this.j=h.eb||!1}M(fn,Xi),fn.prototype.g=function(){return new ei(this.l,this.j)},fn.prototype.i=function(h){return function(){return h}}({});function ei(h,E){kt.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ei,kt),n=ei.prototype,n.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Yt(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||f).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vt(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Yt(this)),this.g&&(this.readyState=3,Yt(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pi(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pi(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?vt(this):Yt(this),this.readyState==3&&Pi(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,vt(this))},n.Qa=function(h){this.g&&(this.response=h,vt(this))},n.ga=function(){this.g&&vt(this)};function vt(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Yt(h)}n.setRequestHeader=function(h,E){this.u.append(h,E)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=E.next();return h.join(`\r
`)};function Yt(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Or(h){let E="";return ce(h,function(I,z){E+=z,E+=":",E+=I,E+=`\r
`}),E}function ti(h,E,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=Or(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):We(h,E,I))}function St(h){kt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(St,kt);var ll=/^https?$/i,cs=["POST","PUT"];n=St.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,E,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?ro(this.o):ro(Wn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(le){ds(this,le);return}if(h=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)I.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())I.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(le=>le.toLowerCase()=="content-type"),te=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(cs,E,void 0))||z||te||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of I)this.g.setRequestHeader(le,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(h),this.u=!1}catch(le){ds(this,le)}};function ds(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,hs(h),Vn(h)}function hs(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Vt(this,"complete"),Vt(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),St.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nt(this):this.bb())},n.bb=function(){nt(this)};function nt(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Ht(h)!=4||h.Z()!=2)){if(h.u&&Ht(h)==4)_a(h.Ea,0,h);else if(Vt(h,"readystatechange"),Ht(h)==4){h.h=!1;try{const we=h.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var z;if(z=we===0){var te=String(h.D).match(yt)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),z=!ll.test(te?te.toLowerCase():"")}I=z}if(I)Vt(h,"complete"),Vt(h,"success");else{h.m=6;try{var le=2<Ht(h)?h.g.statusText:""}catch{le=""}h.l=le+" ["+h.Z()+"]",hs(h)}}finally{Vn(h)}}}}function Vn(h,E){if(h.g){an(h);const I=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||Vt(h,"ready");try{I.onreadystatechange=z}catch{}}}function an(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Ht(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),ya(E)}};function _o(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(h){const E={};h=(h.g&&2<=Ht(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(N(h[z]))continue;var I=$(h[z]);const te=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const le=E[te]||[];E[te]=le,le.push(I)}U(E,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(h,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||E}function Ia(h){this.Aa=0,this.i=[],this.j=new ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,h),this.cb=er("retryDelaySeedMs",1e4,h),this.Wa=er("forwardChannelMaxRetries",2,h),this.wa=er("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(h&&h.concurrentRequestLimit),this.Da=new Sa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(h,E,I,z){Rt(0),this.W=h,this.H=E||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=xo(this,null,this.W),tr(this)};function qt(h){if(vo(h),h.G==3){var E=h.U++,I=xt(h.I);if(We(I,"SID",h.K),We(I,"RID",E),We(I,"TYPE","terminate"),ni(h,I),E=new Kn(h,h.j,E),E.L=2,E.v=Tn(xt(I)),I=!1,f.navigator&&f.navigator.sendBeacon)try{I=f.navigator.sendBeacon(E.v.toString(),"")}catch{}!I&&f.Image&&(new Image().src=E.v,I=!0),I||(E.g=cl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),wt(E)}ul(h)}function yr(h){h.g&&(wo(h),h.g.cancel(),h.g=null)}function vo(h){yr(h),h.u&&(f.clearTimeout(h.u),h.u=null),To(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function tr(h){if(!wn(h.h)&&!h.s){h.s=!0;var E=h.Ga;ze||ae(),ee||(ze(),ee=!0),ye.add(E,h),h.B=0}}function fu(h,E){return Si(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mr(b(h.Ga,h,E),ba(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const te=new Kn(this,this.j,h);let le=this.o;if(this.S&&(le?(le=O(le),F(le,this.S)):le=this.S),this.m!==null||this.O||(te.H=le,le=null),this.P)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=ri(this,te,E),I=xt(this.I),We(I,"RID",h),We(I,"CVER",22),this.D&&We(I,"X-HTTP-Session-Id",this.D),ni(this,I),le&&(this.O?E="headers="+encodeURIComponent(String(Or(le)))+"&"+E:this.m&&ti(I,this.m,le)),_t(this.h,te),this.Ua&&We(I,"TYPE","init"),this.P?(We(I,"$req",E),We(I,"SID","null"),te.T=!0,uo(te,I,null)):uo(te,I,E),this.G=2}}else this.G==3&&(h?pn(this,h):this.i.length==0||wn(this.h)||pn(this))};function pn(h,E){var I;E?I=E.l:I=h.U++;const z=xt(h.I);We(z,"SID",h.K),We(z,"RID",I),We(z,"AID",h.T),ni(h,z),h.m&&h.o&&ti(z,h.m,h.o),I=new Kn(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),E&&(h.i=E.D.concat(h.i)),E=ri(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),_t(h.h,I),uo(I,z,E)}function ni(h,E){h.H&&ce(h.H,function(I,z){We(E,z,I)}),h.l&&He({},function(I,z){We(E,z,I)})}function ri(h,E,I){I=Math.min(h.i.length,I);var z=h.l?b(h.l.Na,h.l,h):null;e:{var te=h.i;let le=-1;for(;;){const we=["count="+I];le==-1?0<I?(le=te[0].g,we.push("ofs="+le)):le=0:we.push("ofs="+le);let dt=!0;for(let Ft=0;Ft<I;Ft++){let it=te[Ft].g;const ft=te[Ft].map;if(it-=le,0>it)le=Math.max(0,te[Ft].g-100),dt=!1;else try{go(ft,we,"req"+it+"_")}catch{z&&z(ft)}}if(dt){z=we.join("&");break e}}}return h=h.i.splice(0,I),E.D=h,z}function xn(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;ze||ae(),ee||(ze(),ee=!0),ye.add(E,h),h.v=0}}function fs(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mr(b(h.Fa,h),ba(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mr(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),yr(this),Eo(this))};function wo(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Eo(h){h.g=new Kn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=xt(h.qa);We(E,"RID","rpc"),We(E,"SID",h.K),We(E,"AID",h.T),We(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&We(E,"TO",h.ja),We(E,"TYPE","xmlhttp"),ni(h,E),h.m&&h.o&&ti(E,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=Tn(xt(E)),I.m=null,I.P=!0,co(I,h)}n.Za=function(){this.C!=null&&(this.C=null,yr(this),fs(this),Rt(19))};function To(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function ps(h,E){var I=null;if(h.g==E){To(h),wo(h),h.g=null;var z=2}else if(qe(h.h,E))I=E.D,os(h.h,E),z=1;else return;if(h.G!=0){if(E.o)if(z==1){I=E.m?E.m.length:0,E=Date.now()-E.F;var te=h.B;z=es(),Vt(z,new so(z,I)),tr(h)}else xn(h);else if(te=E.s,te==3||te==0&&0<E.X||!(z==1&&fu(h,E)||z==2&&fs(h)))switch(I&&0<I.length&&(E=h.h,E.i=E.i.concat(I)),te){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function ba(h,E){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*E}function ii(h,E){if(h.j.info("Error code "+E),E==2){var I=b(h.fb,h),z=h.Xa;const te=!z;z=new Qn(z||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||as(z,"https"),Tn(z),te?ht(z.toString(),I):xa(z.toString(),I)}else Rt(2);h.G=0,h.l&&h.l.sa(E),ul(h),vo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ul(h){if(h.G=0,h.ka=[],h.l){const E=Jr(h.h);(E.length!=0||h.i.length!=0)&&(H(h.ka,E),H(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function xo(h,E,I){var z=I instanceof Qn?xt(I):new Qn(I);if(z.g!="")E&&(z.g=E+"."+z.g),_r(z,z.s);else{var te=f.location;z=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;var le=new Qn(null);z&&as(le,z),E&&(le.g=E),te&&_r(le,te),I&&(le.l=I),z=le}return I=h.D,E=h.ya,I&&E&&We(z,I,E),We(z,"VER",h.la),ni(h,z),z}function cl(h,E,I){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new St(new fn({eb:I})):new St(h.pa),E.Ha(h.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function So(){}n=So.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ms(){}ms.prototype.g=function(h,E){return new Wt(h,E)};function Wt(h,E){kt.call(this),this.g=new Ia(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!N(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!N(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Sn(this)}M(Wt,kt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){qt(this.g)},Wt.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=no(h),h=I);E.i.push(new Ti(E.Ya++,h)),E.G==3&&tr(E)},Wt.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,Wt.aa.N.call(this)};function Mr(h){pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const I in E){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}M(Mr,pr);function dl(){io.call(this),this.status=1}M(dl,io);function Sn(h){this.g=h}M(Sn,So),Sn.prototype.ua=function(){Vt(this.g,"a")},Sn.prototype.ta=function(h){Vt(this.g,new Mr(h))},Sn.prototype.sa=function(h){Vt(this.g,new dl)},Sn.prototype.ra=function(){Vt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,Sw=function(){return new ms},xw=function(){return es()},Tw=Lr,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,zd=rs,ao.COMPLETE="complete",Ew=ao,Ji.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Wu=Ji,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,ww=St}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Im("@firebase/firestore");function Vl(){return Ka.logLevel}function be(n,...e){if(Ka.logLevel<=st.DEBUG){const t=e.map(Cm);Ka.debug(`Firestore (${lu}): ${n}`,...t)}}function Bs(n,...e){if(Ka.logLevel<=st.ERROR){const t=e.map(Cm);Ka.error(`Firestore (${lu}): ${n}`,...t)}}function Zl(n,...e){if(Ka.logLevel<=st.WARN){const t=e.map(Cm);Ka.warn(`Firestore (${lu}): ${n}`,...t)}}function Cm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+n;throw Bs(e),new Error(e)}function mt(n,e){n||Ze()}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class hI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fI{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ms,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ms)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new Iw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Rn(e)}}class pI{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mI{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){mt(this.o===void 0);const r=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string"),this.R=t.token,new gI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=yI(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function Ql(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new tn(0,0))}static max(){return new Qe(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ze(),r===void 0?r=e.length-t:r>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=Di.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Di.isNumericId(e),o=Di.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Di.extractNumericId(e).compare(Di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class bt extends Di{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const vI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Di{construct(e,t,r){return new yn(e,t,r)}static isValidIdentifier(e){return vI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ee(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(r+=f,o++):(l(),o++)}if(l(),d)throw new Ee(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(bt.fromString(e))}static fromName(e){return new De(bt.fromString(e).popFirst(5))}static empty(){return new De(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new bt(e.slice()))}}function wI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Qe.fromTimestamp(r===1e9?new tn(t+1,0):new tn(t,r));return new ua(o,De.empty(),e)}function EI(n){return new ua(n.readTime,n.key,-1)}class ua{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ua(Qe.min(),De.empty(),-1)}static max(){return new ua(Qe.max(),De.empty(),-1)}}function TI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==xI)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let o=0,l=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++l,d&&l===o&&t()},p=>r(p))}),d=!0,l===o&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(o=>o?he.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new he((r,o)=>{const l=e.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(w=>{d[_]=w,++f,f===l&&r(d)},w=>o(w))}})}static doWhile(e,t){return new he((r,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):r()};l()})}}function II(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sh.oe=-1;function Ih(n){return n==null}function Jd(n){return n===0&&1/n==-1/0}function bI(n){return typeof n=="number"&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=CI(n.get(t),e);return Ny(e)}function CI(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Ny(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??_n.RED,this.left=o??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new _n(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return _n.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,t,r,o,l){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new br([])}unionWith(e){let t=new nn(yn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Cw("Invalid base64 string: "+l):l}}(e);return new vn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(mt(!!n),typeof n=="string"){let e=0;const t=AI.exec(n);if(mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(n.seconds),nanos:$t(n.nanos)}}function $t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function da(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ph(n){const e=n.mapValue.fields.__previous_value__;return bh(e)?Ph(e):e}function sc(n){const e=ca(n.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r,o,l,d,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=_}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bh(n)?4:LI(n)?9007199254740991:RI(n)?10:11:Ze()}function $i(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sc(n).isEqual(sc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=ca(o.timestampValue),f=ca(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return da(o.bytesValue).isEqual(da(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return $t(o.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return $t(o.integerValue)===$t(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=$t(o.doubleValue),f=$t(l.doubleValue);return d===f?Jd(d)===Jd(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Oy(d)!==Oy(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!$i(d[p],f[p])))return!1;return!0}(n,e);default:return Ze()}}function ac(n,e){return(n.values||[]).find(t=>$i(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=ha(n),r=ha(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(l,d){const f=$t(l.integerValue||l.doubleValue),p=$t(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Dy(n.timestampValue,e.timestampValue);case 4:return Dy(sc(n),sc(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(l,d){const f=da(l),p=da(d);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let _=0;_<f.length&&_<p.length;_++){const w=at(f[_],p[_]);if(w!==0)return w}return at(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const f=at($t(l.latitude),$t(d.latitude));return f!==0?f:at($t(l.longitude),$t(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Vy(n.arrayValue,e.arrayValue);case 10:return function(l,d){var f,p,_,w;const x=l.fields||{},b=d.fields||{},A=(f=x.value)===null||f===void 0?void 0:f.arrayValue,M=(p=b.value)===null||p===void 0?void 0:p.arrayValue,V=at(((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0,((w=M==null?void 0:M.values)===null||w===void 0?void 0:w.length)||0);return V!==0?V:Vy(A,M)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===kd.mapValue&&d===kd.mapValue)return 0;if(l===kd.mapValue)return 1;if(d===kd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),_=d.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let x=0;x<p.length&&x<w.length;++x){const b=at(p[x],w[x]);if(b!==0)return b;const A=Yl(f[p[x]],_[w[x]]);if(A!==0)return A}return at(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ze()}}function Dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=ca(n),r=ca(e),o=at(t.seconds,r.seconds);return o!==0?o:at(t.nanos,r.nanos)}function Vy(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=Yl(t[o],r[o]);if(l)return l}return at(t.length,r.length)}function Xl(n){return Hp(n)}function Hp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ca(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return da(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Hp(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of r)l?l=!1:o+=",",o+=`${d}:${Hp(t.fields[d])}`;return o+"}"}(n.mapValue):Ze()}function Fd(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return da(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Fd(l),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return pa(r.fields,(l,d)=>{o+=l.length+Fd(d)}),o}(n.mapValue);default:throw Ze()}}function eh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qp(n){return!!n&&"integerValue"in n}function Am(n){return!!n&&"arrayValue"in n}function zy(n){return!!n&&"nullValue"in n}function Fy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jd(n){return!!n&&"mapValue"in n}function RI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=yn.emptyPath(),r={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=f.popLast()}d?r[f.lastSegment()]=Yu(d):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){pa(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new dr(Yu(this.value))}}function Aw(n){const e=[];return pa(n.fields,(t,r)=>{const o=new yn([t]);if(jd(r)){const l=Aw(r.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,r,o,l,d,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Ln(e,0,Qe.min(),Qe.min(),Qe.min(),dr.empty(),0)}static newFoundDocument(e,t,r,o){return new Ln(e,1,t,Qe.min(),r,o,0)}static newNoDocument(e,t){return new Ln(e,2,t,Qe.min(),Qe.min(),dr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,Qe.min(),Qe.min(),dr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.position=e,this.inclusive=t}}function jy(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?r=De.comparator(De.fromName(d.referenceValue),t.key):r=Yl(d,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function By(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class Qt extends kw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new MI(e,t,r):t==="array-contains"?new zI(e,r):t==="in"?new FI(e,r):t==="not-in"?new jI(e,r):t==="array-contains-any"?new BI(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DI(e,r):new VI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yl(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends kw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mi(e,t)}matches(e){return Rw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rw(n){return n.op==="and"}function Lw(n){return OI(n)&&Rw(n)}function OI(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}function Wp(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(Lw(n))return n.filters.map(e=>Wp(e)).join(",");{const e=n.filters.map(t=>Wp(t)).join(",");return`${n.op}(${e})`}}function Nw(n,e){return n instanceof Qt?function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&$i(r.value,o.value)}(n,e):n instanceof mi?function(r,o){return o instanceof mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,d,f)=>l&&Nw(d,o.filters[f]),!0):!1}(n,e):void Ze()}function Ow(n){return n instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`}(n):n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(Ow).join(" ,")+"}"}(n):"Filter"}class MI extends Qt{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class DI extends Qt{constructor(e,t){super(e,"in",t),this.keys=Mw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VI extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=Mw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class zI extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Am(t)&&ac(t.arrayValue,this.value)}}class FI extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ac(this.value.arrayValue,t)}}class jI extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ac(this.value.arrayValue,t)}}class BI extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Am(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t=null,r=[],o=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=f,this.ue=null}}function Uy(n,e=null,t=[],r=[],o=null,l=null,d=null){return new UI(n,e,t,r,o,l,d)}function km(n){const e=Ye(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xl(r)).join(",")),e.ue=t}return e.ue}function Rm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!By(n.startAt,e.startAt)&&By(n.endAt,e.endAt)}function Gp(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t=null,r=[],o=[],l=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $I(n,e,t,r,o,l,d,f){return new Ja(n,e,t,r,o,l,d,f)}function Lm(n){return new Ja(n)}function $y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nm(n){return n.collectionGroup!==null}function Bl(n){const e=Ye(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new nn(yn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new lc(l,r))}),t.has(yn.keyField().canonicalString())||e.ce.push(new lc(yn.keyField(),r))}return e.ce}function zi(n){const e=Ye(n);return e.le||(e.le=HI(e,Bl(n))),e.le}function HI(n,e){if(n.limitType==="F")return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new lc(o.field,l)});const t=n.endAt?new Jl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jl(n.startAt.position,n.startAt.inclusive):null;return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kp(n,e){const t=n.filters.concat([e]);return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function th(n,e,t){return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ch(n,e){return Rm(zi(n),zi(e))&&n.limitType===e.limitType}function Dw(n){return`${km(zi(n))}|lt:${n.limitType}`}function zl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Ow(o)).join(", ")}]`),Ih(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Xl(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Xl(o)).join(",")),`Target(${r})`}(zi(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):De.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,o){for(const l of Bl(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(d,f,p){const _=jy(d,f,p);return d.inclusive?_<=0:_<0}(r.startAt,Bl(r),o)||r.endAt&&!function(d,f,p){const _=jy(d,f,p);return d.inclusive?_>=0:_>0}(r.endAt,Bl(r),o))}(n,e)}function qI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(e,t)=>{let r=!1;for(const o of Bl(n)){const l=WI(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function WI(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(l,d,f){const p=d.data.field(l),_=f.data.field(l);return p!==null&&_!==null?Yl(p,_):Ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Mt(De.comparator);function Us(){return GI}const zw=new Mt(De.comparator);function Gu(...n){let e=zw;for(const t of n)e=e.insert(t.key,t);return e}function Fw(n){let e=zw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ha(){return Xu()}function jw(){return Xu()}function Xu(){return new el(n=>n.toString(),(n,e)=>n.isEqual(e))}const KI=new Mt(De.comparator),ZI=new nn(De.comparator);function ot(...n){let e=ZI;for(const t of n)e=e.add(t);return e}const QI=new nn(at);function YI(){return QI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function Bw(n){return{integerValue:""+n}}function XI(n,e){return bI(e)?Bw(e):Om(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function JI(n,e,t){return n instanceof uc?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&bh(l)&&(l=Ph(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof cc?$w(n,e):n instanceof dc?Hw(n,e):function(o,l){const d=Uw(o,l),f=Hy(d)+Hy(o.Pe);return qp(d)&&qp(o.Pe)?Bw(f):Om(o.serializer,f)}(n,e)}function eb(n,e,t){return n instanceof cc?$w(n,e):n instanceof dc?Hw(n,e):t}function Uw(n,e){return n instanceof nh?function(r){return qp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class uc extends kh{}class cc extends kh{constructor(e){super(),this.elements=e}}function $w(n,e){const t=qw(e);for(const r of n.elements)t.some(o=>$i(o,r))||t.push(r);return{arrayValue:{values:t}}}class dc extends kh{constructor(e){super(),this.elements=e}}function Hw(n,e){let t=qw(e);for(const r of n.elements)t=t.filter(o=>!$i(o,r));return{arrayValue:{values:t}}}class nh extends kh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hy(n){return $t(n.integerValue||n.doubleValue)}function qw(n){return Am(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.field=e,this.transform=t}}function nb(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof cc&&o instanceof cc||r instanceof dc&&o instanceof dc?Ql(r.elements,o.elements,$i):r instanceof nh&&o instanceof nh?$i(r.Pe,o.Pe):r instanceof uc&&o instanceof uc}(n.transform,e.transform)}class rb{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rh{}function Ww(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mm(n.key,Wr.none()):new yc(n.key,n.data,Wr.none());{const t=n.data,r=dr.empty();let o=new nn(yn.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?r.delete(l):r.set(l,d),o=o.add(l)}return new ma(n.key,r,new br(o.toArray()),Wr.none())}}function ib(n,e,t){n instanceof yc?function(o,l,d){const f=o.value.clone(),p=Wy(o.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ma?function(o,l,d){if(!Bd(o.precondition,l))return void l.convertToUnknownDocument(d.version);const f=Wy(o.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(Gw(o)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Ju(n,e,t,r){return n instanceof yc?function(l,d,f,p){if(!Bd(l.precondition,d))return f;const _=l.value.clone(),w=Gy(l.fieldTransforms,p,d);return _.setAll(w),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ma?function(l,d,f,p){if(!Bd(l.precondition,d))return f;const _=Gy(l.fieldTransforms,p,d),w=d.data;return w.setAll(Gw(l)),w.setAll(_),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(l,d,f){return Bd(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(n,e,t)}function sb(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=Uw(r.transform,o||null);l!=null&&(t===null&&(t=dr.empty()),t.set(r.field,l))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ql(r,o,(l,d)=>nb(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yc extends Rh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends Rh{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wy(n,e,t){const r=new Map;mt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,f=e.data.field(l.field);r.set(l.field,eb(d,f,t[o]))}return r}function Gy(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,JI(l,d,e))}return r}class Mm extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ib(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ju(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ju(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jw();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(o.key)?null:f;const p=Ww(d,f);p!==null&&r.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,r)=>qy(t,r))&&Ql(this.baseMutations,e.baseMutations,(t,r)=>qy(t,r))}}class Dm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){mt(e.mutations.length===r.length);let o=function(){return KI}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new Dm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,lt;function cb(n){switch(n){default:return Ze();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Kw(n){if(n===void 0)return Bs("GRPC error has no .code"),de.UNKNOWN;switch(n){case Zt.OK:return de.OK;case Zt.CANCELLED:return de.CANCELLED;case Zt.UNKNOWN:return de.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return de.INTERNAL;case Zt.UNAVAILABLE:return de.UNAVAILABLE;case Zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Zt.NOT_FOUND:return de.NOT_FOUND;case Zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Zt.ABORTED:return de.ABORTED;case Zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Zt.DATA_LOSS:return de.DATA_LOSS;default:return Ze()}}(lt=Zt||(Zt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new ia([4294967295,4294967295],0);function Ky(n){const e=db().encode(n),t=new vw;return t.update(e),new Uint8Array(t.digest())}function Zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ia([t,r],0),new ia([o,l],0)]}class Vm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ia.fromNumber(this.Te)}de(e,t,r){let o=e.add(t.multiply(ia.fromNumber(r)));return o.compare(hb)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ky(e),[r,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const d=this.de(r,o,l);if(!this.Ee(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Vm(l,o,t);return r.forEach(f=>d.insert(f)),d}insert(e){if(this.Te===0)return;const t=Ky(e),[r,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const d=this.de(r,o,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lh(Qe.min(),o,new Mt(at),Us(),ot())}}class vc{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vc(r,t,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class Zw{constructor(e,t){this.targetId=e,this.me=t}}class Qw{constructor(e,t,r=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Qy{constructor(){this.fe=0,this.ge=Yy(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ot(),t=ot(),r=ot();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ze()}}),new vc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Yy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fb{constructor(e){this.Be=e,this.Le=new Map,this.ke=Us(),this.qe=Rd(),this.Qe=Rd(),this.Ke=new Mt(at)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Gp(l))if(r===0){const d=new De(l.path);this.We(t,d,Ln.newNoDocument(d,Qe.min()))}else mt(r===1);else{const d=this.Ze(t);if(d!==r){const f=this.Xe(e),p=f?this.et(f,e,d):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let d,f;try{d=da(r).toUint8Array()}catch(p){if(p instanceof Cw)return Zl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Vm(d,o,l)}catch(p){return Zl(p instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let o=0;return r.forEach(l=>{const d=this.Be.nt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,d)=>{const f=this.Ye(d);if(f){if(l.current&&Gp(f.target)){const p=new De(f.target.path);this.st(p).has(d)||this.ot(d,p)||this.We(d,p,Ln.newNoDocument(p,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let r=ot();this.Qe.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const o=new Lh(e,t,this.Ke,this.ke,r);return this.ke=Us(),this.qe=Rd(),this.Qe=Rd(),this.Ke=new Mt(at),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Qy,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new nn(at),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new nn(at),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Qy),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new Mt(De.comparator)}function Yy(){return new Mt(De.comparator)}const pb={asc:"ASCENDING",desc:"DESCENDING"},mb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gb={and:"AND",or:"OR"};class _b{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zp(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yb(n,e){return rh(n,e.toTimestamp())}function Fi(n){return mt(!!n),Qe.fromTimestamp(function(t){const r=ca(t);return new tn(r.seconds,r.nanos)}(n))}function zm(n,e){return Qp(n,e).canonicalString()}function Qp(n,e){const t=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Xw(n){const e=bt.fromString(n);return mt(r0(e)),e}function Yp(n,e){return zm(n.databaseId,e.path)}function Tp(n,e){const t=Xw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(e0(t))}function Jw(n,e){return zm(n.databaseId,e)}function vb(n){const e=Xw(n);return e.length===4?bt.emptyPath():e0(e)}function Xp(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function e0(n){return mt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Xy(n,e,t){return{name:Yp(n,e),fields:t.value.mapValue.fields}}function wb(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,w){return _.useProto3Json?(mt(w===void 0||typeof w=="string"),vn.fromBase64String(w||"")):(mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),vn.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=_.code===void 0?de.UNKNOWN:Kw(_.code);return new Ee(w,_.message||"")}(d);t=new Qw(r,o,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Tp(n,r.document.name),l=Fi(r.document.updateTime),d=r.document.createTime?Fi(r.document.createTime):Qe.min(),f=new dr({mapValue:{fields:r.document.fields}}),p=Ln.newFoundDocument(o,l,d,f),_=r.targetIds||[],w=r.removedTargetIds||[];t=new Ud(_,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Tp(n,r.document),l=r.readTime?Fi(r.readTime):Qe.min(),d=Ln.newNoDocument(o,l),f=r.removedTargetIds||[];t=new Ud([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Tp(n,r.document),l=r.removedTargetIds||[];t=new Ud([],l,o,null)}else{if(!("filter"in e))return Ze();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,d=new ub(o,l),f=r.targetId;t=new Zw(f,d)}}return t}function Eb(n,e){let t;if(e instanceof yc)t={update:Xy(n,e.key,e.value)};else if(e instanceof Mm)t={delete:Yp(n,e.key)};else if(e instanceof ma)t={update:Xy(n,e.key,e.data),updateMask:kb(e.fieldMask)};else{if(!(e instanceof ob))return Ze();t={verify:Yp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,d){const f=d.transform;if(f instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nh)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw Ze()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:yb(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ze()}(n,e.precondition)),t}function Tb(n,e){return n&&n.length>0?(mt(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?Fi(o.updateTime):Fi(l);return d.isEqual(Qe.min())&&(d=Fi(l)),new rb(d,o.transformResults||[])}(t,e))):[]}function xb(n,e){return{documents:[Jw(n,e.path)]}}function Sb(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Jw(n,o);const l=function(_){if(_.length!==0)return n0(mi.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(_){if(_.length!==0)return _.map(w=>function(b){return{field:Fl(b.field),direction:Pb(b.dir)}}(w))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Zp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function Ib(n){let e=vb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){mt(r===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(x){const b=t0(x);return b instanceof mi&&Lw(b)?b.getFilters():[b]}(t.where));let d=[];t.orderBy&&(d=function(x){return x.map(b=>function(M){return new lc(jl(M.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(x){let b;return b=typeof x=="object"?x.value:x,Ih(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(x){const b=!!x.before,A=x.values||[];return new Jl(A,b)}(t.startAt));let _=null;return t.endAt&&(_=function(x){const b=!x.before,A=x.values||[];return new Jl(A,b)}(t.endAt)),$I(e,o,d,l,f,"F",p,_)}function bb(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function t0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jl(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=jl(t.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=jl(t.unaryFilter.field);return Qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=jl(t.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(n):n.fieldFilter!==void 0?function(t){return Qt.create(jl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mi.create(t.compositeFilter.filters.map(r=>t0(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(n):Ze()}function Pb(n){return pb[n]}function Cb(n){return mb[n]}function Ab(n){return gb[n]}function Fl(n){return{fieldPath:n.canonicalString()}}function jl(n){return yn.fromServerFormat(n.fieldPath)}function n0(n){return n instanceof Qt?function(t){if(t.op==="=="){if(Fy(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NAN"}};if(zy(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fy(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NAN"}};if(zy(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(t.field),op:Cb(t.op),value:t.value}}}(n):n instanceof mi?function(t){const r=t.getFilters().map(o=>n0(o));return r.length===1?r[0]:{compositeFilter:{op:Ab(t.op),filters:r}}}(n):Ze()}function kb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function r0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,r,o,l=Qe.min(),d=Qe.min(),f=vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.ht=e}}function Lb(n){const e=Ib({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.ln=new Ob}addToCollectionParentIndex(e,t){return this.ln.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ua.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Ob{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new nn(bt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new nn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new eu(0)}static Qn(){return new eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev([n,e],[t,r]){const o=at(n,t);return o===0?at(e,r):o}class Mb{constructor(e){this.Gn=e,this.buffer=new nn(ev),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ev(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cu(t)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await uu(t)}await this.Yn(3e5)})}}class Vb{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Sh.oe);const r=new Mb(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Jy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,l,d,f,p,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(_=Date.now(),Vl()<=st.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${x} documents in `+(_-p)+`ms
Total Duration: ${_-w}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:x})))}}function zb(n,e){return new Vb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.changes=new el(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Ju(r.mutation,o,br.empty(),tn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ot()){const o=Ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=Gu();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ot()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,o){let l=Us();const d=Xu(),f=function(){return Xu()}();return t.forEach((p,_)=>{const w=r.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ma)?l=l.insert(_.key,_):w!==void 0?(d.set(_.key,w.mutation.getFieldMask()),Ju(w.mutation,_,w.mutation.getFieldMask(),tn.now())):d.set(_.key,br.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,w)=>d.set(_,w)),t.forEach((_,w)=>{var x;return f.set(_,new jb(w,(x=d.get(_))!==null&&x!==void 0?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Xu();let o=new Mt((d,f)=>d-f),l=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let w=r.get(p)||br.empty();w=f.applyToLocalView(_,w),r.set(p,w);const x=(o.get(f.batchId)||ot()).add(p);o=o.insert(f.batchId,x)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),_=p.key,w=p.value,x=jw();w.forEach(b=>{if(!l.has(b)){const A=Ww(t.get(b),r.get(b));A!==null&&x.set(b,A),l=l.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return he.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return De.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):he.resolve(Ha());let f=-1,p=l;return d.next(_=>he.forEach(_,(w,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(w)?he.resolve():this.remoteDocumentCache.getEntry(e,w).next(b=>{p=p.insert(w,b)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,ot())).next(w=>({batchId:f,changes:Fw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let o=Gu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let d=Gu();return this.indexManager.getCollectionParents(e,l).next(f=>he.forEach(f,p=>{const _=function(x,b){return new Ja(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(w=>{w.forEach((x,b)=>{d=d.insert(x,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o))).next(d=>{l.forEach((p,_)=>{const w=_.getKey();d.get(w)===null&&(d=d.insert(w,Ln.newInvalidDocument(w)))});let f=Gu();return d.forEach((p,_)=>{const w=l.get(p);w!==void 0&&Ju(w.mutation,_,br.empty(),tn.now()),Ah(t,_)&&(f=f.insert(p,_))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return he.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Lb(o.bundledQuery),readTime:Fi(o.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.overlays=new Mt(De.comparator),this.dr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ha();return he.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Tt(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.dr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const o=Ha(),l=t.length+1,d=new De(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Mt((_,w)=>_-w);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let w=l.get(_.largestBatchId);w===null&&(w=Ha(),l=l.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const f=Ha(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>f.set(_,w)),!(f.size()>=o)););return he.resolve(f)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.dr.get(o.largestBatchId).delete(r.key);this.dr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lb(t,r));let l=this.dr.get(t);l===void 0&&(l=ot(),this.dr.set(t,l)),this.dr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.Er=new nn(dn.Ar),this.Rr=new nn(dn.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new dn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new De(new bt([])),r=new dn(t,e),o=new dn(t,e+1),l=[];return this.Rr.forEachInRange([r,o],d=>{this.gr(d),l.push(d.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new De(new bt([])),r=new dn(t,e),o=new dn(t,e+1);let l=ot();return this.Rr.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new dn(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return De.comparator(e.key,t.key)||at(e.br,t.br)}static Vr(e,t){return at(e.br,t.br)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new nn(dn.Ar)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ab(l,t,r,o);this.mutationQueue.push(d);for(const f of o)this.vr=this.vr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),o=new dn(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([r,o],d=>{const f=this.Cr(d.br);l.push(f)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(at);return t.forEach(o=>{const l=new dn(o,0),d=new dn(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,d],f=>{r=r.add(f.br)})}),he.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const d=new dn(new De(l),0);let f=new nn(at);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(f=f.add(p.br)),!0)},d),he.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){mt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return he.forEach(t.mutations,o=>{const l=new dn(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new dn(t,0),o=this.vr.firstAfterOrEqual(r);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.Nr=e,this.docs=function(){return new Mt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Us();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Ln.newInvalidDocument(o))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Us();const d=t.path,f=new De(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:_,value:{document:w}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||TI(EI(w),r)<=0||(o.has(w.key)||Ah(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Ze()}Br(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gb(this)}getSize(e){return he.resolve(this.size)}}class Gb extends Fb{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.persistence=e,this.Lr=new el(t=>km(t),Rm),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fm,this.targetCount=0,this.Qr=eu.qn()}forEachTarget(e,t){return this.Lr.forEach((r,o)=>t(o)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),he.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new eu(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Un(t),he.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Lr.forEach((d,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Lr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),he.waitFor(l).next(()=>o)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Sh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Hb,this.referenceDelegate=e(this),this.Gr=new Kb(this),this.indexManager=new Nb,this.remoteDocumentCache=function(o){return new Wb(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Rb(t),this.jr=new Ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $b,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new qb(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const o=new Zb(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return he.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class Zb extends SI{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Zr=new Fm,this.Xr=null}static ei(e){return new jm(e)}get ti(){if(this.Xr)return this.Xr;throw Ze()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),he.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ti,r=>{const o=De.fromPath(r);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Qe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return he.or([()=>he.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.ri=new el(r=>PI(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=zb(this,t)}static ei(e,t){return new ih(e,t)}Hr(){}Jr(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return he.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(l=>l?he.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,d=>this.ir(e,d,t).next(f=>{f||(r++,l.removeEntry(d,Qe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),he.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}ir(e,t,r){return he.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return he.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=ot(),o=ot();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return W1()?8:II(On())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.Xi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.es(e,t,o,r).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new Qb;return this.ts(e,t,d).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,d,f.size)})}).next(()=>l.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(Vl()<=st.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),he.resolve()):(Vl()<=st.DEBUG&&be("QueryEngine","Query:",zl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(Vl()<=st.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(t))):he.resolve())}Xi(e,t){if($y(t))return he.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=th(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=ot(...l);return this.Zi.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.rs(t,f);return this.ss(t,_,d,p.readTime)?this.Xi(e,th(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,r,o){return $y(t)||o.isEqual(Qe.min())?he.resolve(null):this.Zi.getDocuments(e,r).next(l=>{const d=this.rs(t,l);return this.ss(t,d,r,o)?he.resolve(null):(Vl()<=st.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zl(t)),this.os(e,d,t,wI(o,-1)).next(f=>f))})}rs(e,t){let r=new nn(Vw(e));return t.forEach((o,l)=>{Ah(e,l)&&(r=r.add(l))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,r){return Vl()<=st.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",zl(t)),this.Zi.getDocumentsMatchingQuery(e,t,ua.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Mt(at),this.cs=new el(l=>km(l),Rm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bb(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Jb(n,e,t,r){return new Xb(n,e,t,r)}async function s0(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let p=ot();for(const _ of o){d.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of l){f.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next(_=>({Ts:_,removedBatchIds:d,addedBatchIds:f}))})})}function eP(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,_,w){const x=_.batch,b=x.keys();let A=he.resolve();return b.forEach(M=>{A=A.next(()=>w.getEntry(p,M)).next(V=>{const H=_.docVersions.get(M);mt(H!==null),V.version.compareTo(H)<0&&(x.applyToRemoteDocument(V,_),V.isValidDocument()&&(V.setReadTime(_.commitVersion),w.addEntry(V)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(p,x))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=ot();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(p=p.add(f.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function o0(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function tP(n,e){const t=Ye(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,x)=>{const b=o.get(x);if(!b)return;f.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,x).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,x)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(vn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):w.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(w.resumeToken,r)),o=o.insert(x,A),function(V,H,j){return V.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,A,w)&&f.push(t.Gr.updateTargetData(l,A))});let p=Us(),_=ot();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(nP(l,d,e.documentUpdates).next(w=>{p=w.Is,_=w.ds})),!r.isEqual(Qe.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(x=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(w)}return he.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function nP(n,e,t){let r=ot(),o=ot();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Us();return t.forEach((f,p)=>{const _=l.get(f);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Qe.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):be("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",p.version)}),{Is:d,ds:o}})}function rP(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iP(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(l=>l?(o=l,he.resolve(o)):t.Gr.allocateTargetId(r).next(d=>(o=new Jo(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Jp(n,e,t){const r=Ye(n),o=r.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!cu(d))throw d;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function tv(n,e,t){const r=Ye(n);let o=Qe.min(),l=ot();return r.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,w){const x=Ye(p),b=x.cs.get(w);return b!==void 0?he.resolve(x.us.get(b)):x.Gr.getTargetData(_,w)}(r,d,zi(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>r._s.getDocumentsMatchingQuery(d,e,t?o:Qe.min(),t?l:ot())).next(f=>(sP(r,qI(e),f),{documents:f,Es:l})))}function sP(n,e,t){let r=n.ls.get(e)||Qe.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ls.set(e,r)}class nv{constructor(){this.activeTargetIds=YI()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oP{constructor(){this._o=new nv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new nv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function xp(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class cP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,r,o,l,d){const f=xp(),p=this.No(t,r.toUriEncodedString());be("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(_,l,d),this.Lo(t,p,_,o).then(w=>(be("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw Zl("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,r,o,l,d,f){return this.Oo(t,r,o,l,d)}Bo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,d)=>t[d]=l),o&&o.headers.forEach((l,d)=>t[d]=l)}No(t,r){const o=lP[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,o){const l=xp();return new Promise((d,f)=>{const p=new ww;p.setWithCredentials(!0),p.listenOnce(Ew.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zd.NO_ERROR:const w=p.getResponseJson();be(kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),d(w);break;case zd.TIMEOUT:be(kn,`RPC '${e}' ${l} timed out`),f(new Ee(de.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const x=p.getStatus();if(be(kn,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b==null?void 0:b.error;if(A&&A.status&&A.message){const M=function(H){const j=H.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN}(A.status);f(new Ee(M,A.message))}else f(new Ee(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ee(de.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{be(kn,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);be(kn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,r,15)})}qo(e,t,r){const o=xp(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Sw(),f=xw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=l.join("");be(kn,`Creating RPC '${e}' stream ${o}: ${w}`,p);const x=d.createWebChannel(w,p);let b=!1,A=!1;const M=new uP({Eo:H=>{A?be(kn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(b||(be(kn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),b=!0),be(kn,`RPC '${e}' stream ${o} sending:`,H),x.send(H))},Ao:()=>x.close()}),V=(H,j,N)=>{H.listen(j,B=>{try{N(B)}catch(Z){setTimeout(()=>{throw Z},0)}})};return V(x,Wu.EventType.OPEN,()=>{A||(be(kn,`RPC '${e}' stream ${o} transport opened.`),M.So())}),V(x,Wu.EventType.CLOSE,()=>{A||(A=!0,be(kn,`RPC '${e}' stream ${o} transport closed`),M.Do())}),V(x,Wu.EventType.ERROR,H=>{A||(A=!0,Zl(kn,`RPC '${e}' stream ${o} transport errored:`,H),M.Do(new Ee(de.UNAVAILABLE,"The operation could not be completed")))}),V(x,Wu.EventType.MESSAGE,H=>{var j;if(!A){const N=H.data[0];mt(!!N);const B=N,Z=(B==null?void 0:B.error)||((j=B[0])===null||j===void 0?void 0:j.error);if(Z){be(kn,`RPC '${e}' stream ${o} received error:`,Z);const J=Z.status;let ce=function(R){const F=Zt[R];if(F!==void 0)return Kw(F)}(J),U=Z.message;ce===void 0&&(ce=de.INTERNAL,U="Unknown error status: "+J+" with message "+Z.message),A=!0,M.Do(new Ee(ce,U)),x.close()}else be(kn,`RPC '${e}' stream ${o} received:`,N),M.vo(N)}}),V(f,Tw.STAT_EVENT,H=>{H.stat===$p.PROXY?be(kn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===$p.NOPROXY&&be(kn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){return new _b(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,r=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t,r,o,l,d,f,p){this.li=e,this.Yo=r,this.Zo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new a0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Bs(t.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new Ee(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.d_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dP extends l0{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=wb(this.serializer,e),r=function(l){if(!("targetChange"in l))return Qe.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Qe.min():d.readTime?Fi(d.readTime):Qe.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Xp(this.serializer),t.addTarget=function(l,d){let f;const p=d.target;if(f=Gp(p)?{documents:xb(l,p)}:{query:Sb(l,p).ct},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=Yw(l,d.resumeToken);const _=Zp(l,d.expectedCount);_!==null&&(f.expectedCount=_)}else if(d.snapshotVersion.compareTo(Qe.min())>0){f.readTime=rh(l,d.snapshotVersion.toTimestamp());const _=Zp(l,d.expectedCount);_!==null&&(f.expectedCount=_)}return f}(this.serializer,e);const r=bb(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.c_(t)}}class hP extends l0{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Tb(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Xp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Eb(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Oo(e,Qp(t,r),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(de.UNKNOWN,l.toString())})}ko(e,t,r,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.ko(e,Qp(t,r),o,d,f,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(de.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Bs(t),this.C_=!1):be("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(d=>{r.enqueueAndForget(async()=>{tl(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Ye(p);_.k_.add(4),await wc(_),_.K_.set("Unknown"),_.k_.delete(4),await Oh(_)}(this))})}),this.K_=new pP(r,o)}}async function Oh(n){if(tl(n))for(const e of n.q_)await e(!0)}async function wc(n){for(const e of n.q_)await e(!1)}function u0(n,e){const t=Ye(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),qm(t)?Hm(t):du(t).s_()&&$m(t,e))}function Um(n,e){const t=Ye(n),r=du(t);t.L_.delete(e),r.s_()&&c0(t,e),t.L_.size===0&&(r.s_()?r.a_():tl(t)&&t.K_.set("Unknown"))}function $m(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).V_(e)}function c0(n,e){n.U_.xe(e),du(n).m_(e)}function Hm(n){n.U_=new fb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.K_.F_()}function qm(n){return tl(n)&&!du(n).i_()&&n.L_.size>0}function tl(n){return Ye(n).k_.size===0}function d0(n){n.U_=void 0}async function gP(n){n.K_.set("Online")}async function _P(n){n.L_.forEach((e,t)=>{$m(n,e)})}async function yP(n,e){d0(n),qm(n)?(n.K_.O_(e),Hm(n)):n.K_.set("Unknown")}async function vP(n,e,t){if(n.K_.set("Online"),e instanceof Qw&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(n,r)}else if(e instanceof Ud?n.U_.$e(e):e instanceof Zw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Qe.min()))try{const r=await o0(n.localStore);t.compareTo(r)>=0&&await function(l,d){const f=l.U_.it(d);return f.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.L_.get(_);w&&l.L_.set(_,w.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,_)=>{const w=l.L_.get(p);if(!w)return;l.L_.set(p,w.withResumeToken(vn.EMPTY_BYTE_STRING,w.snapshotVersion)),c0(l,p);const x=new Jo(w.target,p,_,w.sequenceNumber);$m(l,x)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await sh(n,r)}}async function sh(n,e,t){if(!cu(e))throw e;n.k_.add(1),await wc(n),n.K_.set("Offline"),t||(t=()=>o0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Oh(n)})}function h0(n,e){return e().catch(t=>sh(n,t,e))}async function Mh(n){const e=Ye(n),t=fa(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;wP(e);)try{const o=await rP(e.localStore,r);if(o===null){e.B_.length===0&&t.a_();break}r=o.batchId,EP(e,o)}catch(o){await sh(e,o)}f0(e)&&p0(e)}function wP(n){return tl(n)&&n.B_.length<10}function EP(n,e){n.B_.push(e);const t=fa(n);t.s_()&&t.f_&&t.g_(e.mutations)}function f0(n){return tl(n)&&!fa(n).i_()&&n.B_.length>0}function p0(n){fa(n).start()}async function TP(n){fa(n).w_()}async function xP(n){const e=fa(n);for(const t of n.B_)e.g_(t.mutations)}async function SP(n,e,t){const r=n.B_.shift(),o=Dm.from(r,e,t);await h0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mh(n)}async function IP(n,e){e&&fa(n).f_&&await async function(r,o){if(function(d){return cb(d)&&d!==de.ABORTED}(o.code)){const l=r.B_.shift();fa(r).__(),await h0(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Mh(r)}}(n,e),f0(n)&&p0(n)}async function iv(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=tl(t);t.k_.add(3),await wc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Oh(t)}async function bP(n,e){const t=Ye(n);e?(t.k_.delete(2),await Oh(t)):e||(t.k_.add(2),await wc(t),t.K_.set("Unknown"))}function du(n){return n.W_||(n.W_=function(t,r,o){const l=Ye(t);return l.b_(),new dP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:gP.bind(null,n),mo:_P.bind(null,n),po:yP.bind(null,n),R_:vP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),qm(n)?Hm(n):n.K_.set("Unknown")):(await n.W_.stop(),d0(n))})),n.W_}function fa(n){return n.G_||(n.G_=function(t,r,o){const l=Ye(t);return l.b_(),new hP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:TP.bind(null,n),po:IP.bind(null,n),p_:xP.bind(null,n),y_:SP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Mh(n)):(await n.G_.stop(),n.B_.length>0&&(be("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,f=new Wm(e,t,d,o,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,e){if(Bs("AsyncQueue",`${e}: ${n}`),cu(n))return new Ee(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Gu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.z_=new Mt(De.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ze():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class tu{constructor(e,t,r,o,l,d,f,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new tu(e,t,Ul.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class CP{constructor(){this.queries=ov(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=Ye(t),l=o.queries;o.queries=ov(),l.forEach((d,f)=>{for(const p of f.J_)p.onError(r)})})(this,new Ee(de.ABORTED,"Firestore shutting down"))}}function ov(){return new el(n=>Dw(n),Ch)}async function m0(n,e){const t=Ye(n);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(r=2):(l=new PP,r=e.Z_()?0:1);try{switch(r){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=Gm(d,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Km(t)}async function g0(n,e){const t=Ye(n),r=e.query;let o=3;const l=t.queries.get(r);if(l){const d=l.J_.indexOf(e);d>=0&&(l.J_.splice(d,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AP(n,e){const t=Ye(n);let r=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const f of d.J_)f.ta(o)&&(r=!0);d.H_=o}}r&&Km(t)}function kP(n,e,t){const r=Ye(n),o=r.queries.get(e);if(o)for(const l of o.J_)l.onError(t);r.queries.delete(e)}function Km(n){n.X_.forEach(e=>{e.next()})}var em,av;(av=em||(em={})).na="default",av.Cache="cache";class _0{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class RP{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ot(),this.mutatedKeys=ot(),this.Va=Vw(e),this.ma=new Ul(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new sv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,x)=>{const b=o.get(w),A=Ah(this.query,x)?x:null,M=!!b&&this.mutatedKeys.has(b.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let H=!1;b&&A?b.data.isEqual(A.data)?M!==V&&(r.track({type:3,doc:A}),H=!0):this.ya(b,A)||(r.track({type:2,doc:A}),H=!0,(p&&this.Va(A,p)>0||_&&this.Va(A,_)<0)&&(f=!0)):!b&&A?(r.track({type:0,doc:A}),H=!0):b&&!A&&(r.track({type:1,doc:b}),H=!0,(p||_)&&(f=!0)),H&&(A?(d=d.add(A),l=V?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),r.track({type:1,doc:w})}return{ma:d,pa:r,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((w,x)=>function(A,M){const V=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return V(A)-V(M)}(w.type,x.type)||this.Va(w.doc,x.doc)),this.wa(r),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,d.length!==0||_?{snapshot:new tu(this.query,e.ma,l,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new sv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ot(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new v0(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new y0(r))}),t}va(e){this.Ea=e.Es,this.Ra=ot();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return tu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class LP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NP{constructor(e){this.key=e,this.Fa=!1}}class OP{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new el(f=>Dw(f),Ch),this.Oa=new Map,this.Na=new Set,this.Ba=new Mt(De.comparator),this.La=new Map,this.ka=new Fm,this.qa={},this.Qa=new Map,this.Ka=eu.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function MP(n,e,t=!0){const r=I0(n);let o;const l=r.xa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await w0(r,e,t,!0),o}async function DP(n,e){const t=I0(n);await w0(t,e,!0,!1)}async function w0(n,e,t,r){const o=await iP(n.localStore,zi(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await VP(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&u0(n.remoteStore,o),f}async function VP(n,e,t,r,o){n.Ua=(x,b,A)=>async function(V,H,j,N){let B=H.view.ga(j);B.ss&&(B=await tv(V.localStore,H.query,!1).then(({documents:U})=>H.view.ga(U,B)));const Z=N&&N.targetChanges.get(H.targetId),J=N&&N.targetMismatches.get(H.targetId)!=null,ce=H.view.applyChanges(B,V.isPrimaryClient,Z,J);return uv(V,H.targetId,ce.ba),ce.snapshot}(n,x,b,A);const l=await tv(n.localStore,e,!0),d=new RP(e,l.Es),f=d.ga(l.documents),p=vc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),_=d.applyChanges(f,n.isPrimaryClient,p);uv(n,t,_.ba);const w=new LP(e,t,d);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function zP(n,e,t){const r=Ye(n),o=r.xa.get(e),l=r.Oa.get(o.targetId);if(l.length>1)return r.Oa.set(o.targetId,l.filter(d=>!Ch(d,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Um(r.remoteStore,o.targetId),tm(r,o.targetId)}).catch(uu)):(tm(r,o.targetId),await Jp(r.localStore,o.targetId,!0))}async function FP(n,e){const t=Ye(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Um(t.remoteStore,r.targetId))}async function jP(n,e,t){const r=GP(n);try{const o=await function(d,f){const p=Ye(d),_=tn.now(),w=f.reduce((A,M)=>A.add(M.key),ot());let x,b;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let M=Us(),V=ot();return p.hs.getEntries(A,w).next(H=>{M=H,M.forEach((j,N)=>{N.isValidDocument()||(V=V.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,M)).next(H=>{x=H;const j=[];for(const N of f){const B=sb(N,x.get(N.key).overlayedDocument);B!=null&&j.push(new ma(N.key,B,Aw(B.value.mapValue),Wr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,_,j,f)}).next(H=>{b=H;const j=H.applyToLocalDocumentSet(x,V);return p.documentOverlayCache.saveOverlays(A,H.batchId,j)})}).then(()=>({batchId:b.batchId,changes:Fw(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let _=d.qa[d.currentUser.toKey()];_||(_=new Mt(at)),_=_.insert(f,p),d.qa[d.currentUser.toKey()]=_}(r,o.batchId,t),await Ec(r,o.changes),await Mh(r.remoteStore)}catch(o){const l=Gm(o,"Failed to persist write");t.reject(l)}}async function E0(n,e){const t=Ye(n);try{const r=await tP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.La.get(l);d&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Fa=!0:o.modifiedDocuments.size>0?mt(d.Fa):o.removedDocuments.size>0&&(mt(d.Fa),d.Fa=!1))}),await Ec(t,r,e)}catch(r){await uu(r)}}function lv(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((l,d)=>{const f=d.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=Ye(d);p.onlineState=f;let _=!1;p.queries.forEach((w,x)=>{for(const b of x.J_)b.ea(f)&&(_=!0)}),_&&Km(p)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BP(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.La.get(e),l=o&&o.key;if(l){let d=new Mt(De.comparator);d=d.insert(l,Ln.newNoDocument(l,Qe.min()));const f=ot().add(l),p=new Lh(Qe.min(),new Map,new Mt(at),d,f);await E0(r,p),r.Ba=r.Ba.remove(l),r.La.delete(e),Zm(r)}else await Jp(r.localStore,e,!1).then(()=>tm(r,e,t)).catch(uu)}async function UP(n,e){const t=Ye(n),r=e.batch.batchId;try{const o=await eP(t.localStore,e);x0(t,r,null),T0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(t,o)}catch(o){await uu(o)}}async function $P(n,e,t){const r=Ye(n);try{const o=await function(d,f){const p=Ye(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,f).next(x=>(mt(x!==null),w=x.keys(),p.mutationQueue.removeMutationBatch(_,x))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(r.localStore,e);x0(r,e,t),T0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ec(r,o)}catch(o){await uu(o)}}function T0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function x0(n,e,t){const r=Ye(n);let o=r.qa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function tm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||S0(n,r)})}function S0(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Um(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Zm(n))}function uv(n,e,t){for(const r of t)r instanceof y0?(n.ka.addReference(r.key,e),HP(n,r)):r instanceof v0?(be("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||S0(n,r.key)):Ze()}function HP(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(be("SyncEngine","New document in limbo: "+t),n.Na.add(r),Zm(n))}function Zm(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new De(bt.fromString(e)),r=n.Ka.next();n.La.set(r,new NP(t)),n.Ba=n.Ba.insert(t,r),u0(n.remoteStore,new Jo(zi(Lm(t.path)),r,"TargetPurposeLimboResolution",Sh.oe))}}async function Ec(n,e,t){const r=Ye(n),o=[],l=[],d=[];r.xa.isEmpty()||(r.xa.forEach((f,p)=>{d.push(r.Ua(p,e,t).then(_=>{var w;if((_||t)&&r.isPrimaryClient){const x=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Bm.zi(p.targetId,_);l.push(x)}}))}),await Promise.all(d),r.Ma.R_(o),await async function(p,_){const w=Ye(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>he.forEach(_,b=>he.forEach(b.Wi,A=>w.persistence.referenceDelegate.addReference(x,b.targetId,A)).next(()=>he.forEach(b.Gi,A=>w.persistence.referenceDelegate.removeReference(x,b.targetId,A)))))}catch(x){if(!cu(x))throw x;be("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const b=x.targetId;if(!x.fromCache){const A=w.us.get(b),M=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(M);w.us=w.us.insert(b,V)}}}(r.localStore,l))}async function qP(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await s0(t.localStore,e);t.currentUser=e,function(l,d){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new Ee(de.CANCELLED,d))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(t,r.Ts)}}function WP(n,e){const t=Ye(n),r=t.La.get(e);if(r&&r.Fa)return ot().add(r.key);{let o=ot();const l=t.Oa.get(e);if(!l)return o;for(const d of l){const f=t.xa.get(d);o=o.unionWith(f.view.fa)}return o}}function I0(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=E0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BP.bind(null,e),e.Ma.R_=AP.bind(null,e.eventManager),e.Ma.Wa=kP.bind(null,e.eventManager),e}function GP(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$P.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Jb(this.persistence,new Yb,e.initialUser,this.serializer)}ja(e){return new i0(jm.ei,this.serializer)}za(e){return new oP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class KP extends oh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){mt(this.persistence.referenceDelegate instanceof ih);const r=this.persistence.referenceDelegate.garbageCollector;return new Db(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new i0(r=>ih.ei(r,t),this.serializer)}}class nm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qP.bind(null,this.syncEngine),await bP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CP}()}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),r=function(l){return new cP(l)}(e.databaseInfo);return function(l,d,f,p){return new fP(l,d,f,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,l,d,f){return new mP(r,o,l,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>lv(this.syncEngine,t,0),function(){return rv.p()?new rv:new aP}())}createSyncEngine(e,t){return function(o,l,d,f,p,_,w){const x=new OP(o,l,d,f,p,_);return w&&(x.$a=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ye(o);be("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await wc(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async d=>{be("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(n,e){n.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await s0(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function cv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await QP(n);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>iv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>iv(e.remoteStore,o)),n._onlineComponents=e}async function QP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await Ip(n,new oh)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Ip(n,new KP(void 0));return n._offlineComponents}async function P0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await cv(n,n._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await cv(n,new nm))),n._onlineComponents}function YP(n){return P0(n).then(e=>e.syncEngine)}async function C0(n){const e=await P0(n),t=e.eventManager;return t.onListen=MP.bind(null,e.syncEngine),t.onUnlisten=zP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FP.bind(null,e.syncEngine),t}function XP(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,_){const w=new b0({next:b=>{w.eu(),d.enqueueAndForget(()=>g0(l,x));const A=b.docs.has(f);!A&&b.fromCache?_.reject(new Ee(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&p&&p.source==="server"?_.reject(new Ee(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(b)},error:b=>_.reject(b)}),x=new _0(Lm(f.path),w,{includeMetadataChanges:!0,ua:!0});return m0(l,x)}(await C0(n),n.asyncQueue,e,t,r)),r.promise}function JP(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,_){const w=new b0({next:b=>{w.eu(),d.enqueueAndForget(()=>g0(l,x)),b.fromCache&&p.source==="server"?_.reject(new Ee(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(b)},error:b=>_.reject(b)}),x=new _0(f,w,{includeMetadataChanges:!0,ua:!0});return m0(l,x)}(await C0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e,t){if(!t)throw new Ee(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eC(n,e,t,r){if(e===!0&&r===!0)throw new Ee(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hv(n){if(!De.isDocumentKey(n))throw new Ee(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fv(n){if(De.isDocumentKey(n))throw new Ee(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ze()}function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(n);throw new Ee(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tC(n,e){if(e<=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dI;switch(r.type){case"firstParty":return new mI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=dv.get(t);r&&(be("ComponentProvider","Removing Datastore"),dv.delete(t),r.terminate())}(this),Promise.resolve()}}function nC(n,e,t,r={}){var o;const l=(n=gi(n,Vh))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),r.mockUserToken){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Rn.MOCK_USER;else{f=F1(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rn(_)}n._authCredentials=new hI(new Iw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class sa extends Ks{constructor(e,t,r){super(e,t,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new De(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function ji(n,e,...t){if(n=rn(n),k0("collection","path",e),n instanceof Vh){const r=bt.fromString(e,...t);return fv(r),new sa(n,null,r)}{if(!(n instanceof $n||n instanceof sa))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return fv(r),new sa(n.firestore,null,r)}}function $s(n,e,...t){if(n=rn(n),arguments.length===1&&(e=bw.newId()),k0("doc","path",e),n instanceof Vh){const r=bt.fromString(e,...t);return hv(r),new $n(n,null,new De(r))}{if(!(n instanceof $n||n instanceof sa))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return hv(r),new $n(n.firestore,n instanceof sa?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new a0(this,"async_queue_retry"),this.fu=()=>{const r=Sp();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ms;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!cu(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(r);throw Bs("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Wm.createAndSchedule(this,e,t,r,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Ze()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class nl extends Vh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new mv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function Qm(n,e){const t=gw(),r="(default)",o=Pm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=V1("firestore");l&&nC(o,...l)}return o}function Ym(n){if(n._terminated)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rC(n),n._firestoreClient}function rC(n){var e,t,r;const o=n._freezeSettings(),l=function(f,p,_,w){return new kI(f,p,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,A0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new ZP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(vn.fromBase64String(e))}catch(t){throw new Ee(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nu(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^__.*__$/;class sC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new yc(e,this.data,t,this.fieldTransforms)}}class R0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function L0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class eg{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Bu(e),o}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ah(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(L0(this.Mu)&&iC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class oC{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nh(e)}$u(e,t,r,o=!1){return new eg({Mu:e,methodName:t,Ku:r,path:yn.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tc(n){const e=n._freezeSettings(),t=Nh(n._databaseId);return new oC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N0(n,e,t,r,o,l={}){const d=n.$u(l.merge||l.mergeFields?2:0,e,t,o);ng("Data must be an object, but it was:",d,r);const f=M0(r,d);let p,_;if(l.merge)p=new br(d.fieldMask),_=d.fieldTransforms;else if(l.mergeFields){const w=[];for(const x of l.mergeFields){const b=rm(e,x,t);if(!d.contains(b))throw new Ee(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);V0(w,b)||w.push(b)}p=new br(w),_=d.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,_=d.fieldTransforms;return new sC(new dr(f),p,_)}class jh extends Fh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}class tg extends Fh{_toFieldTransform(e){return new tb(e.path,new uc)}isEqual(e){return e instanceof tg}}function aC(n,e,t,r){const o=n.$u(1,e,t);ng("Data must be an object, but it was:",o,r);const l=[],d=dr.empty();pa(r,(p,_)=>{const w=rg(e,p,t);_=rn(_);const x=o.Lu(w);if(_ instanceof jh)l.push(w);else{const b=xc(_,x);b!=null&&(l.push(w),d.set(w,b))}});const f=new br(l);return new R0(d,f,o.fieldTransforms)}function lC(n,e,t,r,o,l){const d=n.$u(1,e,t),f=[rm(e,r,t)],p=[o];if(l.length%2!=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(rm(e,l[b])),p.push(l[b+1]);const _=[],w=dr.empty();for(let b=f.length-1;b>=0;--b)if(!V0(_,f[b])){const A=f[b];let M=p[b];M=rn(M);const V=d.Lu(A);if(M instanceof jh)_.push(A);else{const H=xc(M,V);H!=null&&(_.push(A),w.set(A,H))}}const x=new br(_);return new R0(w,x,d.fieldTransforms)}function O0(n,e,t,r=!1){return xc(t,n.$u(r?4:3,e))}function xc(n,e){if(D0(n=rn(n)))return ng("Unsupported field value:",e,n),M0(n,e);if(n instanceof Fh)return function(r,o){if(!L0(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const l=[];let d=0;for(const f of r){let p=xc(f,o.ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(r,o){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=tn.fromDate(r);return{timestampValue:rh(o.serializer,l)}}if(r instanceof tn){const l=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,l)}}if(r instanceof Xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nu)return{bytesValue:Yw(o.serializer,r._byteString)};if(r instanceof $n){const l=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw o.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Jm)return function(d,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Om(f.serializer,p)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${Dh(r)}`)}(n,e)}function M0(n,e){const t={};return Pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(n,(r,o)=>{const l=xc(o,e.Ou(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function D0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tn||n instanceof Xm||n instanceof nu||n instanceof $n||n instanceof Fh||n instanceof Jm)}function ng(n,e,t){if(!D0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Dh(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function rm(n,e,t){if((e=rn(e))instanceof zh)return e._internalPath;if(typeof e=="string")return rg(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const uC=new RegExp("[~\\*/\\[\\]]");function rg(n,e,t){if(e.search(uC)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zh(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,r,o){const l=r&&!r.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${r}`),d&&(p+=` in document ${o}`),p+=")"),new Ee(de.INVALID_ARGUMENT,f+n+p)}function V0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cC extends ig{data(){return super.data()}}function Bh(n,e){return typeof e=="string"?rg(n,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class Uh extends sg{}function Ds(n,e,...t){let r=[];e instanceof sg&&r.push(e),r=r.concat(t),function(l){const d=l.filter(p=>p instanceof og).length,f=l.filter(p=>p instanceof $h).length;if(d>1||d>0&&f>0)throw new Ee(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class $h extends Uh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new $h(e,t,r)}_apply(e){const t=this._parse(e);return F0(e._query,t),new Ks(e.firestore,e.converter,Kp(e._query,t))}_parse(e){const t=Tc(e.firestore);return function(l,d,f,p,_,w,x){let b;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){_v(x,w);const A=[];for(const M of x)A.push(gv(p,l,M));b={arrayValue:{values:A}}}else b=gv(p,l,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||_v(x,w),b=O0(f,d,x,w==="in"||w==="not-in");return Qt.create(_,w,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oa(n,e,t){const r=e,o=Bh("where",n);return $h._create(o,r,t)}class og extends sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new og(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let d=o;const f=l.getFlattenedFilters();for(const p of f)F0(d,p),d=Kp(d,p)}(e._query,t),new Ks(e.firestore,e.converter,Kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends Uh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ag(e,t)}_apply(e){const t=function(o,l,d){if(o.startAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(l,d)}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new Ja(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Vs(n,e="asc"){const t=e,r=Bh("orderBy",n);return ag._create(r,t)}class lg extends Uh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new lg(e,t,r)}_apply(e){return new Ks(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}function aa(n){return tC("limit",n),lg._create("limit",n,"F")}class ug extends Uh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ug(e,t,r)}_apply(e){const t=hC(e,this.type,this._docOrFields,this._inclusive);return new Ks(e.firestore,e.converter,function(o,l){return new Ja(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)}(e._query,t))}}function z0(...n){return ug._create("startAfter",n,!1)}function hC(n,e,t,r){if(t[0]=rn(t[0]),t[0]instanceof ig)return function(l,d,f,p,_){if(!p)throw new Ee(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const w=[];for(const x of Bl(l))if(x.field.isKeyField())w.push(eh(d,p.key));else{const b=p.data.field(x.field);if(bh(b))throw new Ee(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const A=x.field.canonicalString();throw new Ee(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}w.push(b)}return new Jl(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Tc(n.firestore);return function(d,f,p,_,w,x){const b=d.explicitOrderBy;if(w.length>b.length)throw new Ee(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let M=0;M<w.length;M++){const V=w[M];if(b[M].field.isKeyField()){if(typeof V!="string")throw new Ee(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof V}`);if(!Nm(d)&&V.indexOf("/")!==-1)throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${V}' contains a slash.`);const H=d.path.child(bt.fromString(V));if(!De.isDocumentKey(H))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const j=new De(H);A.push(eh(f,j))}else{const H=O0(p,_,V);A.push(H)}}return new Jl(A,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function gv(n,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new Ee(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nm(e)&&t.indexOf("/")!==-1)throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bt.fromString(t));if(!De.isDocumentKey(r))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eh(n,new De(r))}if(t instanceof $n)return eh(n,t._key);throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function _v(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F0(n,e){const t=function(o,l){for(const d of o)for(const f of d.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fC{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return pa(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,o;const l=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>$t(d.doubleValue));return new Jm(l)}convertGeoPoint(e){return new Xm($t(e.latitude),$t(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const t=ca(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);mt(r0(r));const o=new oc(r.get(1),r.get(3)),l=new De(r.popFirst(5));return o.isEqual(t)||Bs(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B0 extends ig{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $d extends B0{data(e={}){return super.data(e)}}class pC{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $d(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(f=>{const p=new $d(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Zu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new $d(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Zu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return f.type!==0&&(_=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),w=d.indexOf(f.doc.key)),{type:mC(f.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){n=gi(n,$n);const e=gi(n.firestore,nl);return XP(Ym(e),n._key).then(t=>yC(e,n,t))}class U0 extends fC{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function zs(n){n=gi(n,Ks);const e=gi(n.firestore,nl),t=Ym(e),r=new U0(e);return dC(n._query),JP(t,n._query).then(o=>new pC(e,r,n,o))}function $0(n,e,t){n=gi(n,$n);const r=gi(n.firestore,nl),o=j0(n.converter,e);return qh(r,[N0(Tc(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function H0(n,e,t,...r){n=gi(n,$n);const o=gi(n.firestore,nl),l=Tc(o);let d;return d=typeof(e=rn(e))=="string"||e instanceof zh?lC(l,"updateDoc",n._key,e,t,r):aC(l,"updateDoc",n._key,e),qh(o,[d.toMutation(n._key,Wr.exists(!0))])}function gC(n){return qh(gi(n.firestore,nl),[new Mm(n._key,Wr.none())])}function _C(n,e){const t=gi(n.firestore,nl),r=$s(n),o=j0(n.converter,e);return qh(t,[N0(Tc(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function qh(n,e){return function(r,o){const l=new Ms;return r.asyncQueue.enqueueAndForget(async()=>jP(await YP(r),o,l)),l.promise}(Ym(n),e)}function yC(n,e,t){const r=t.docs.get(e._key),o=new U0(n);return new B0(n,o,e._key,r,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}function Wh(){return new tg("serverTimestamp")}(function(e,t=!0){(function(o){lu=o})(au),Kl(new Ga("firestore",(r,{instanceIdentifier:o,options:l})=>{const d=r.getProvider("app").getImmediate(),f=new nl(new fI(r.getProvider("auth-internal")),new _I(r.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ee(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(_.options.projectId,w)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ra(Ly,"4.7.6",e),ra(Ly,"4.7.6","esm2017")})();const vC={apiKey:"AIzaSyAO8f7Hi06G_zumlHzdUamizGWvfSosZCY",authDomain:"realtor-react-15c21.firebaseapp.com",projectId:"realtor-react-15c21",storageBucket:"realtor-react-15c21.firebasestorage.app",messagingSenderId:"296465955610",appId:"1:296465955610:web:e111a326605366dffb4aa3"};mw(vC);const Nn=Qm(),wC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%20width='200'%20height='200'%20style='shape-rendering:%20auto;%20display:%20block;%20background:%20transparent;'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cg%20transform='rotate(0%2050%2050)'%3e%3crect%20fill='%23fe718d'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.9166666666666666s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(30%2050%2050)'%3e%3crect%20fill='%23f47e60'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.8333333333333334s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(60%2050%2050)'%3e%3crect%20fill='%23f8b26a'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.75s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(90%2050%2050)'%3e%3crect%20fill='%23abbd81'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.6666666666666666s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(120%2050%2050)'%3e%3crect%20fill='%23849b87'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.5833333333333334s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(150%2050%2050)'%3e%3crect%20fill='%236492ac'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.5s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(180%2050%2050)'%3e%3crect%20fill='%231b4dbe'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.4166666666666667s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(210%2050%2050)'%3e%3crect%20fill='%236a63b6'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.3333333333333333s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(240%2050%2050)'%3e%3crect%20fill='%23fe718d'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.25s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(270%2050%2050)'%3e%3crect%20fill='%23f47e60'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.16666666666666666s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(300%2050%2050)'%3e%3crect%20fill='%23f8b26a'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='-0.08333333333333333s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%20transform='rotate(330%2050%2050)'%3e%3crect%20fill='%23abbd81'%20height='12'%20width='6'%20ry='6'%20rx='3'%20y='24'%20x='47'%3e%3canimate%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20keyTimes='0;1'%20values='1;0'%20attributeName='opacity'%3e%3c/animate%3e%3c/rect%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io%20--%3e%3c/svg%3e";function rl(){return C.jsx("div",{className:`bg-black bg-opacity-50 flex items-center justify-center\r
    fixed left-0 right-0 bottom-0 top-0 z-50`,children:C.jsx("div",{children:C.jsx("img",{src:wC,alt:"Loading....",className:"h-24"})})})}function yv(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function cg(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:yv(e[r])&&yv(n[r])&&Object.keys(e[r]).length>0&&cg(n[r],e[r])})}const q0={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Bi(){const n=typeof document<"u"?document:{};return cg(n,q0),n}const EC={document:q0,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Hn(){const n=typeof window<"u"?window:{};return cg(n,EC),n}function TC(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function xC(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function im(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function lh(){return Date.now()}function SC(n){const e=Hn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function IC(n,e){e===void 0&&(e="x");const t=Hn();let r,o,l;const d=SC(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix(o==="none"?"":o)):(l=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=l.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?o=l.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function Nd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function bC(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Ir(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!bC(r)){const o=Object.keys(Object(r)).filter(l=>e.indexOf(l)<0);for(let l=0,d=o.length;l<d;l+=1){const f=o[l],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(Nd(n[f])&&Nd(r[f])?r[f].__swiper__?n[f]=r[f]:Ir(n[f],r[f]):!Nd(n[f])&&Nd(r[f])?(n[f]={},r[f].__swiper__?n[f]=r[f]:Ir(n[f],r[f])):n[f]=r[f])}}}return n}function Od(n,e,t){n.style.setProperty(e,t)}function W0(n){let{swiper:e,targetPosition:t,side:r}=n;const o=Hn(),l=-e.translate;let d=null,f;const p=e.params.speed;e.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(e.cssModeFrameID);const _=t>l?"next":"prev",w=(b,A)=>_==="next"&&b>=A||_==="prev"&&b<=A,x=()=>{f=new Date().getTime(),d===null&&(d=f);const b=Math.max(Math.min((f-d)/p,1),0),A=.5-Math.cos(b*Math.PI)/2;let M=l+A*(t-l);if(w(M,t)&&(M=t),e.wrapperEl.scrollTo({[r]:M}),w(M,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:M})}),o.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=o.requestAnimationFrame(x)};x()}function G0(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function Vi(n,e){e===void 0&&(e="");const t=Hn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(o=>o.matches(e)):r}function PC(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function CC(n,e){const t=Hn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=PC(n,e))),r}function uh(n){try{console.warn(n);return}catch{}}function ch(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:TC(e)),t}function AC(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function kC(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function ea(n,e){return Hn().getComputedStyle(n,null).getPropertyValue(e)}function dh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function K0(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function RC(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}n.addEventListener("transitionend",t)}function sm(n,e,t){const r=Hn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function hn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let bp;function LC(){const n=Hn(),e=Bi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function Z0(){return bp||(bp=LC()),bp}let Pp;function NC(n){let{userAgent:e}=n===void 0?{}:n;const t=Z0(),r=Hn(),o=r.navigator.platform,l=e||r.navigator.userAgent,d={ios:!1,android:!1},f=r.screen.width,p=r.screen.height,_=l.match(/(Android);?[\s\/]+([\d.]+)?/);let w=l.match(/(iPad).*OS\s([\d_]+)/);const x=l.match(/(iPod)(.*OS\s([\d_]+))?/),b=!w&&l.match(/(iPhone\sOS|iOS)\s([\d_]+)/),A=o==="Win32";let M=o==="MacIntel";const V=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!w&&M&&t.touch&&V.indexOf(`${f}x${p}`)>=0&&(w=l.match(/(Version)\/([\d.]+)/),w||(w=[0,1,"13_0_0"]),M=!1),_&&!A&&(d.os="android",d.android=!0),(w||b||x)&&(d.os="ios",d.ios=!0),d}function Q0(n){return n===void 0&&(n={}),Pp||(Pp=NC(n)),Pp}let Cp;function OC(){const n=Hn(),e=Q0();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[p,_]=f.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=p<16||p===16&&_<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),l=r(),d=l||o&&e.ios;return{isSafari:t||l,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function Y0(){return Cp||(Cp=OC()),Cp}function MC(n){let{swiper:e,on:t,emit:r}=n;const o=Hn();let l=null,d=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},p=()=>{!e||e.destroyed||!e.initialized||(l=new ResizeObserver(x=>{d=o.requestAnimationFrame(()=>{const{width:b,height:A}=e;let M=b,V=A;x.forEach(H=>{let{contentBoxSize:j,contentRect:N,target:B}=H;B&&B!==e.el||(M=N?N.width:(j[0]||j).inlineSize,V=N?N.height:(j[0]||j).blockSize)}),(M!==b||V!==A)&&f()})}),l.observe(e.el))},_=()=>{d&&o.cancelAnimationFrame(d),l&&l.unobserve&&e.el&&(l.unobserve(e.el),l=null)},w=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof o.ResizeObserver<"u"){p();return}o.addEventListener("resize",f),o.addEventListener("orientationchange",w)}),t("destroy",()=>{_(),o.removeEventListener("resize",f),o.removeEventListener("orientationchange",w)})}function DC(n){let{swiper:e,extendParams:t,on:r,emit:o}=n;const l=[],d=Hn(),f=function(w,x){x===void 0&&(x={});const b=d.MutationObserver||d.WebkitMutationObserver,A=new b(M=>{if(e.__preventObserver__)return;if(M.length===1){o("observerUpdate",M[0]);return}const V=function(){o("observerUpdate",M[0])};d.requestAnimationFrame?d.requestAnimationFrame(V):d.setTimeout(V,0)});A.observe(w,{attributes:typeof x.attributes>"u"?!0:x.attributes,childList:e.isElement||(typeof x.childList>"u"?!0:x).childList,characterData:typeof x.characterData>"u"?!0:x.characterData}),l.push(A)},p=()=>{if(e.params.observer){if(e.params.observeParents){const w=K0(e.hostEl);for(let x=0;x<w.length;x+=1)f(w[x])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},_=()=>{l.forEach(w=>{w.disconnect()}),l.splice(0,l.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",p),r("destroy",_)}var VC={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const o=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][o](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function o(){r.off(n,o),o.__emitterProxy&&delete o.__emitterProxy;for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];e.apply(r,d)}return o.__emitterProxy=e,r.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((o,l)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];return typeof l[0]=="string"||Array.isArray(l[0])?(e=l[0],t=l.slice(1,l.length),r=n):(e=l[0].events,t=l[0].data,r=l[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(p=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(_=>{_.apply(r,[p,...t])}),n.eventsListeners&&n.eventsListeners[p]&&n.eventsListeners[p].forEach(_=>{_.apply(r,t)})}),n}};function zC(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(ea(r,"padding-left")||0,10)-parseInt(ea(r,"padding-right")||0,10),t=t-parseInt(ea(r,"padding-top")||0,10)-parseInt(ea(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function FC(){const n=this;function e(F,$){return parseFloat(F.getPropertyValue(n.getDirectionLabel($))||0)}const t=n.params,{wrapperEl:r,slidesEl:o,size:l,rtlTranslate:d,wrongRTL:f}=n,p=n.virtual&&t.virtual.enabled,_=p?n.virtual.slides.length:n.slides.length,w=Vi(o,`.${n.params.slideClass}, swiper-slide`),x=p?n.virtual.slides.length:w.length;let b=[];const A=[],M=[];let V=t.slidesOffsetBefore;typeof V=="function"&&(V=t.slidesOffsetBefore.call(n));let H=t.slidesOffsetAfter;typeof H=="function"&&(H=t.slidesOffsetAfter.call(n));const j=n.snapGrid.length,N=n.slidesGrid.length;let B=t.spaceBetween,Z=-V,J=0,ce=0;if(typeof l>"u")return;typeof B=="string"&&B.indexOf("%")>=0?B=parseFloat(B.replace("%",""))/100*l:typeof B=="string"&&(B=parseFloat(B)),n.virtualSize=-B,w.forEach(F=>{d?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Od(r,"--swiper-centered-offset-before",""),Od(r,"--swiper-centered-offset-after",""));const U=t.grid&&t.grid.rows>1&&n.grid;U?n.grid.initSlides(w):n.grid&&n.grid.unsetSlides();let O;const R=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(F=>typeof t.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<x;F+=1){O=0;let $;if(w[F]&&($=w[F]),U&&n.grid.updateSlide(F,$,w),!(w[F]&&ea($,"display")==="none")){if(t.slidesPerView==="auto"){R&&(w[F].style[n.getDirectionLabel("width")]="");const q=getComputedStyle($),D=$.style.transform,_e=$.style.webkitTransform;if(D&&($.style.transform="none"),_e&&($.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?sm($,"width"):sm($,"height");else{const Ae=e(q,"width"),Me=e(q,"padding-left"),ze=e(q,"padding-right"),ee=e(q,"margin-left"),ye=e(q,"margin-right"),ae=q.getPropertyValue("box-sizing");if(ae&&ae==="border-box")O=Ae+ee+ye;else{const{clientWidth:Y,offsetWidth:ue}=$;O=Ae+Me+ze+ee+ye+(ue-Y)}}D&&($.style.transform=D),_e&&($.style.webkitTransform=_e),t.roundLengths&&(O=Math.floor(O))}else O=(l-(t.slidesPerView-1)*B)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),w[F]&&(w[F].style[n.getDirectionLabel("width")]=`${O}px`);w[F]&&(w[F].swiperSlideSize=O),M.push(O),t.centeredSlides?(Z=Z+O/2+J/2+B,J===0&&F!==0&&(Z=Z-l/2-B),F===0&&(Z=Z-l/2-B),Math.abs(Z)<1/1e3&&(Z=0),t.roundLengths&&(Z=Math.floor(Z)),ce%t.slidesPerGroup===0&&b.push(Z),A.push(Z)):(t.roundLengths&&(Z=Math.floor(Z)),(ce-Math.min(n.params.slidesPerGroupSkip,ce))%n.params.slidesPerGroup===0&&b.push(Z),A.push(Z),Z=Z+O+B),n.virtualSize+=O+B,J=O,ce+=1}}if(n.virtualSize=Math.max(n.virtualSize,l)+H,d&&f&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+B}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+B}px`),U&&n.grid.updateWrapperSize(O,b),!t.centeredSlides){const F=[];for(let $=0;$<b.length;$+=1){let q=b[$];t.roundLengths&&(q=Math.floor(q)),b[$]<=n.virtualSize-l&&F.push(q)}b=F,Math.floor(n.virtualSize-l)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-l)}if(p&&t.loop){const F=M[0]+B;if(t.slidesPerGroup>1){const $=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),q=F*t.slidesPerGroup;for(let D=0;D<$;D+=1)b.push(b[b.length-1]+q)}for(let $=0;$<n.virtual.slidesBefore+n.virtual.slidesAfter;$+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+F),A.push(A[A.length-1]+F),n.virtualSize+=F}if(b.length===0&&(b=[0]),B!==0){const F=n.isHorizontal()&&d?"marginLeft":n.getDirectionLabel("marginRight");w.filter(($,q)=>!t.cssMode||t.loop?!0:q!==w.length-1).forEach($=>{$.style[F]=`${B}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let F=0;M.forEach(q=>{F+=q+(B||0)}),F-=B;const $=F>l?F-l:0;b=b.map(q=>q<=0?-V:q>$?$+H:q)}if(t.centerInsufficientSlides){let F=0;M.forEach(q=>{F+=q+(B||0)}),F-=B;const $=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(F+$<l){const q=(l-F-$)/2;b.forEach((D,_e)=>{b[_e]=D-q}),A.forEach((D,_e)=>{A[_e]=D+q})}}if(Object.assign(n,{slides:w,snapGrid:b,slidesGrid:A,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Od(r,"--swiper-centered-offset-before",`${-b[0]}px`),Od(r,"--swiper-centered-offset-after",`${n.size/2-M[M.length-1]/2}px`);const F=-n.snapGrid[0],$=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(q=>q+F),n.slidesGrid=n.slidesGrid.map(q=>q+$)}if(x!==_&&n.emit("slidesLengthChange"),b.length!==j&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),A.length!==N&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!p&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const F=`${t.containerModifierClass}backface-hidden`,$=n.el.classList.contains(F);x<=t.maxBackfaceHiddenSlides?$||n.el.classList.add(F):$&&n.el.classList.remove(F)}}function jC(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let o=0,l;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(d(f))}else t.push(d(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;o=f>o?f:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function BC(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const vv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function UC(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:o,snapGrid:l}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let p=0;p<r.length;p+=1){const _=r[p];let w=_.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=r[0].swiperSlideOffset);const x=(d+(t.centeredSlides?e.minTranslate():0)-w)/(_.swiperSlideSize+f),b=(d-l[0]+(t.centeredSlides?e.minTranslate():0)-w)/(_.swiperSlideSize+f),A=-(d-w),M=A+e.slidesSizesGrid[p],V=A>=0&&A<=e.size-e.slidesSizesGrid[p],H=A>=0&&A<e.size-1||M>1&&M<=e.size||A<=0&&M>=e.size;H&&(e.visibleSlides.push(_),e.visibleSlidesIndexes.push(p)),vv(_,H,t.slideVisibleClass),vv(_,V,t.slideFullyVisibleClass),_.progress=o?-x:x,_.originalProgress=o?-b:b}}function $C(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:l,isEnd:d,progressLoop:f}=e;const p=l,_=d;if(r===0)o=0,l=!0,d=!0;else{o=(n-e.minTranslate())/r;const w=Math.abs(n-e.minTranslate())<1,x=Math.abs(n-e.maxTranslate())<1;l=w||o<=0,d=x||o>=1,w&&(o=0),x&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),x=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[w],A=e.slidesGrid[x],M=e.slidesGrid[e.slidesGrid.length-1],V=Math.abs(n);V>=b?f=(V-b)/M:f=(V+M-A)/M,f>1&&(f-=1)}Object.assign(e,{progress:o,progressLoop:f,isBeginning:l,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!p&&e.emit("reachBeginning toEdge"),d&&!_&&e.emit("reachEnd toEdge"),(p&&!l||_&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const Ap=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function HC(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:o}=n,l=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,f=x=>Vi(r,`.${t.slideClass}${x}, swiper-slide${x}`)[0];let p,_,w;if(l)if(t.loop){let x=o-n.virtual.slidesBefore;x<0&&(x=n.virtual.slides.length+x),x>=n.virtual.slides.length&&(x-=n.virtual.slides.length),p=f(`[data-swiper-slide-index="${x}"]`)}else p=f(`[data-swiper-slide-index="${o}"]`);else d?(p=e.find(x=>x.column===o),w=e.find(x=>x.column===o+1),_=e.find(x=>x.column===o-1)):p=e[o];p&&(d||(w=kC(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),_=AC(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!_===0&&(_=e[e.length-1]))),e.forEach(x=>{Ap(x,x===p,t.slideActiveClass),Ap(x,x===w,t.slideNextClass),Ap(x,x===_,t.slidePrevClass)}),n.emitSlidesClasses()}const Hd=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let o=r.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(r.shadowRoot?o=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(o=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},kp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},om=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,f=[d-e];f.push(...Array.from({length:e}).map((p,_)=>d+r+_)),n.slides.forEach((p,_)=>{f.includes(p.column)&&kp(n,_)});return}const l=o+r-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=l+e;d+=1){const f=(d%t+t)%t;(f<o||f>l)&&kp(n,f)}else for(let d=Math.max(o-e,0);d<=Math.min(l+e,t-1);d+=1)d!==o&&(d>l||d<o)&&kp(n,d)};function qC(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let o;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?r>=e[l]&&r<e[l+1]-(e[l+1]-e[l])/2?o=l:r>=e[l]&&r<e[l+1]&&(o=l+1):r>=e[l]&&(o=l);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function WC(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:o,activeIndex:l,realIndex:d,snapIndex:f}=e;let p=n,_;const w=A=>{let M=A-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof p>"u"&&(p=qC(e)),r.indexOf(t)>=0)_=r.indexOf(t);else{const A=Math.min(o.slidesPerGroupSkip,p);_=A+Math.floor((p-A)/o.slidesPerGroup)}if(_>=r.length&&(_=r.length-1),p===l&&!e.params.loop){_!==f&&(e.snapIndex=_,e.emit("snapIndexChange"));return}if(p===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(p);return}const x=e.grid&&o.grid&&o.grid.rows>1;let b;if(e.virtual&&o.virtual.enabled&&o.loop)b=w(p);else if(x){const A=e.slides.find(V=>V.column===p);let M=parseInt(A.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(A),0)),b=Math.floor(M/o.grid.rows)}else if(e.slides[p]){const A=e.slides[p].getAttribute("data-swiper-slide-index");A?b=parseInt(A,10):b=p}else b=p;Object.assign(e,{previousSnapIndex:f,snapIndex:_,previousRealIndex:d,realIndex:b,previousIndex:l,activeIndex:p}),e.initialized&&om(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==b&&e.emit("realIndexChange"),e.emit("slideChange"))}function GC(n,e){const t=this,r=t.params;let o=n.closest(`.${r.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!o&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(o=f)});let l=!1,d;if(o){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===o){l=!0,d=f;break}}if(o&&l)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var KC={updateSize:zC,updateSlides:FC,updateAutoHeight:jC,updateSlidesOffset:BC,updateSlidesProgress:UC,updateProgress:$C,updateSlidesClasses:HC,updateActiveIndex:WC,updateClickedSlide:GC};function ZC(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:o,wrapperEl:l}=e;if(t.virtualTranslate)return r?-o:o;if(t.cssMode)return o;let d=IC(l,n);return d+=e.cssOverflowAdjustment(),r&&(d=-d),d||0}function QC(n,e){const t=this,{rtlTranslate:r,params:o,wrapperEl:l,progress:d}=t;let f=0,p=0;const _=0;t.isHorizontal()?f=r?-n:n:p=n,o.roundLengths&&(f=Math.floor(f),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:p,o.cssMode?l[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-p:o.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${p}px, ${_}px)`);let w;const x=t.maxTranslate()-t.minTranslate();x===0?w=0:w=(n-t.minTranslate())/x,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function YC(){return-this.snapGrid[0]}function XC(){return-this.snapGrid[this.snapGrid.length-1]}function JC(n,e,t,r,o){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const l=this,{params:d,wrapperEl:f}=l;if(l.animating&&d.preventInteractionOnTransition)return!1;const p=l.minTranslate(),_=l.maxTranslate();let w;if(r&&n>p?w=p:r&&n<_?w=_:w=n,l.updateProgress(w),d.cssMode){const x=l.isHorizontal();if(e===0)f[x?"scrollLeft":"scrollTop"]=-w;else{if(!l.support.smoothScroll)return W0({swiper:l,targetPosition:-w,side:x?"left":"top"}),!0;f.scrollTo({[x?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(w),t&&(l.emit("beforeTransitionStart",e,o),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(w),t&&(l.emit("beforeTransitionStart",e,o),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(b){!l||l.destroyed||b.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,t&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var eA={getTranslate:ZC,setTranslate:QC,minTranslate:YC,maxTranslate:XC,translateTo:JC};function tA(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function X0(n){let{swiper:e,runCallbacks:t,direction:r,step:o}=n;const{activeIndex:l,previousIndex:d}=e;let f=r;if(f||(l>d?f="next":l<d?f="prev":f="reset"),e.emit(`transition${o}`),t&&l!==d){if(f==="reset"){e.emit(`slideResetTransition${o}`);return}e.emit(`slideChangeTransition${o}`),f==="next"?e.emit(`slideNextTransition${o}`):e.emit(`slidePrevTransition${o}`)}}function nA(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),X0({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function rA(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),X0({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var iA={setTransition:tA,transitionStart:nA,transitionEnd:rA};function sA(n,e,t,r,o){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const l=this;let d=n;d<0&&(d=0);const{params:f,snapGrid:p,slidesGrid:_,previousIndex:w,activeIndex:x,rtlTranslate:b,wrapperEl:A,enabled:M}=l;if(!M&&!r&&!o||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const V=Math.min(l.params.slidesPerGroupSkip,d);let H=V+Math.floor((d-V)/l.params.slidesPerGroup);H>=p.length&&(H=p.length-1);const j=-p[H];if(f.normalizeSlideIndex)for(let U=0;U<_.length;U+=1){const O=-Math.floor(j*100),R=Math.floor(_[U]*100),F=Math.floor(_[U+1]*100);typeof _[U+1]<"u"?O>=R&&O<F-(F-R)/2?d=U:O>=R&&O<F&&(d=U+1):O>=R&&(d=U)}if(l.initialized&&d!==x&&(!l.allowSlideNext&&(b?j>l.translate&&j>l.minTranslate():j<l.translate&&j<l.minTranslate())||!l.allowSlidePrev&&j>l.translate&&j>l.maxTranslate()&&(x||0)!==d))return!1;d!==(w||0)&&t&&l.emit("beforeSlideChangeStart"),l.updateProgress(j);let N;d>x?N="next":d<x?N="prev":N="reset";const B=l.virtual&&l.params.virtual.enabled;if(!(B&&o)&&(b&&-j===l.translate||!b&&j===l.translate))return l.updateActiveIndex(d),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(j),N!=="reset"&&(l.transitionStart(t,N),l.transitionEnd(t,N)),!1;if(f.cssMode){const U=l.isHorizontal(),O=b?j:-j;if(e===0)B&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),B&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{A[U?"scrollLeft":"scrollTop"]=O})):A[U?"scrollLeft":"scrollTop"]=O,B&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return W0({swiper:l,targetPosition:O,side:U?"left":"top"}),!0;A.scrollTo({[U?"left":"top"]:O,behavior:"smooth"})}return!0}const ce=Y0().isSafari;return B&&!o&&ce&&l.isElement&&l.virtual.update(!1,!1,d),l.setTransition(e),l.setTranslate(j),l.updateActiveIndex(d),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,N),e===0?l.transitionEnd(t,N):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(O){!l||l.destroyed||O.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,N))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function oA(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const l=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let f;if(l){const b=d*o.params.grid.rows;f=o.slides.find(A=>A.getAttribute("data-swiper-slide-index")*1===b).column}else f=o.getSlideIndexByData(d);const p=l?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:_}=o.params;let w=o.params.slidesPerView;w==="auto"?w=o.slidesPerViewDynamic():(w=Math.ceil(parseFloat(o.params.slidesPerView,10)),_&&w%2===0&&(w=w+1));let x=p-f<w;if(_&&(x=x||f<Math.ceil(w/2)),r&&_&&o.params.slidesPerView!=="auto"&&!l&&(x=!1),x){const b=_?f<o.activeIndex?"prev":"next":f-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:b,slideTo:!0,activeSlideIndex:b==="next"?f+1:f-p+1,slideRealIndex:b==="next"?o.realIndex:void 0})}if(l){const b=d*o.params.grid.rows;d=o.slides.find(A=>A.getAttribute("data-swiper-slide-index")*1===b).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,r)}),o}function aA(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:o,params:l,animating:d}=r;if(!o||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const p=r.activeIndex<l.slidesPerGroupSkip?1:f,_=r.virtual&&l.virtual.enabled;if(l.loop){if(d&&!_&&l.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+p,n,e,t)}),!0}return l.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+p,n,e,t)}function lA(n,e,t){e===void 0&&(e=!0);const r=this,{params:o,snapGrid:l,slidesGrid:d,rtlTranslate:f,enabled:p,animating:_}=r;if(!p||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const w=r.virtual&&o.virtual.enabled;if(o.loop){if(_&&!w&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const x=f?r.translate:-r.translate;function b(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const A=b(x),M=l.map(N=>b(N)),V=o.freeMode&&o.freeMode.enabled;let H=l[M.indexOf(A)-1];if(typeof H>"u"&&(o.cssMode||V)){let N;l.forEach((B,Z)=>{A>=B&&(N=Z)}),typeof N<"u"&&(H=V?l[N]:l[N>0?N-1:N])}let j=0;if(typeof H<"u"&&(j=d.indexOf(H),j<0&&(j=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(j=j-r.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),o.rewind&&r.isBeginning){const N=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(N,n,e,t)}else if(o.loop&&r.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(j,n,e,t)}),!0;return r.slideTo(j,n,e,t)}function uA(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function cA(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let l=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,l),f=d+Math.floor((l-d)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[f]){const _=o.snapGrid[f],w=o.snapGrid[f+1];p-_>(w-_)*r&&(l+=o.params.slidesPerGroup)}else{const _=o.snapGrid[f-1],w=o.snapGrid[f];p-_<=(w-_)*r&&(l-=o.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,o.slidesGrid.length-1),o.slideTo(l,n,e,t)}function dA(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.clickedIndex,l;const d=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;l=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?o<n.loopedSlides-r/2||o>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),o=n.getSlideIndex(Vi(t,`${d}[data-swiper-slide-index="${l}"]`)[0]),im(()=>{n.slideTo(o)})):n.slideTo(o):o>n.slides.length-r?(n.loopFix(),o=n.getSlideIndex(Vi(t,`${d}[data-swiper-slide-index="${l}"]`)[0]),im(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var hA={slideTo:sA,slideToLoop:oA,slideNext:aA,slidePrev:lA,slideReset:uA,slideToClosest:cA,slideToClickedSlide:dA};function fA(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const o=()=>{Vi(r,`.${t.slideClass}, swiper-slide`).forEach((x,b)=>{x.setAttribute("data-swiper-slide-index",b)})},l=e.grid&&t.grid&&t.grid.rows>1,d=t.slidesPerGroup*(l?t.grid.rows:1),f=e.slides.length%d!==0,p=l&&e.slides.length%t.grid.rows!==0,_=w=>{for(let x=0;x<w;x+=1){const b=e.isElement?ch("swiper-slide",[t.slideBlankClass]):ch("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(b)}};if(f){if(t.loopAddBlankSlides){const w=d-e.slides.length%d;_(w),e.recalcSlides(),e.updateSlides()}else uh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(t.loopAddBlankSlides){const w=t.grid.rows-e.slides.length%t.grid.rows;_(w),e.recalcSlides(),e.updateSlides()}else uh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function pA(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:o,activeSlideIndex:l,byController:d,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:_,allowSlidePrev:w,allowSlideNext:x,slidesEl:b,params:A}=p,{centeredSlides:M}=A;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&A.virtual.enabled){t&&(!A.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A.centeredSlides&&p.snapIndex<A.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=x,p.emit("loopFix");return}let V=A.slidesPerView;V==="auto"?V=p.slidesPerViewDynamic():(V=Math.ceil(parseFloat(A.slidesPerView,10)),M&&V%2===0&&(V=V+1));const H=A.slidesPerGroupAuto?V:A.slidesPerGroup;let j=H;j%H!==0&&(j+=H-j%H),j+=A.loopAdditionalSlides,p.loopedSlides=j;const N=p.grid&&A.grid&&A.grid.rows>1;_.length<V+j?uh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):N&&A.grid.fill==="row"&&uh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const B=[],Z=[];let J=p.activeIndex;typeof l>"u"?l=p.getSlideIndex(_.find(D=>D.classList.contains(A.slideActiveClass))):J=l;const ce=r==="next"||!r,U=r==="prev"||!r;let O=0,R=0;const F=N?Math.ceil(_.length/A.grid.rows):_.length,q=(N?_[l].column:l)+(M&&typeof o>"u"?-V/2+.5:0);if(q<j){O=Math.max(j-q,H);for(let D=0;D<j-q;D+=1){const _e=D-Math.floor(D/F)*F;if(N){const Ae=F-_e-1;for(let Me=_.length-1;Me>=0;Me-=1)_[Me].column===Ae&&B.push(Me)}else B.push(F-_e-1)}}else if(q+V>F-j){R=Math.max(q-(F-j*2),H);for(let D=0;D<R;D+=1){const _e=D-Math.floor(D/F)*F;N?_.forEach((Ae,Me)=>{Ae.column===_e&&Z.push(Me)}):Z.push(_e)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),U&&B.forEach(D=>{_[D].swiperLoopMoveDOM=!0,b.prepend(_[D]),_[D].swiperLoopMoveDOM=!1}),ce&&Z.forEach(D=>{_[D].swiperLoopMoveDOM=!0,b.append(_[D]),_[D].swiperLoopMoveDOM=!1}),p.recalcSlides(),A.slidesPerView==="auto"?p.updateSlides():N&&(B.length>0&&U||Z.length>0&&ce)&&p.slides.forEach((D,_e)=>{p.grid.updateSlide(_e,D,p.slides)}),A.watchSlidesProgress&&p.updateSlidesOffset(),t){if(B.length>0&&U){if(typeof e>"u"){const D=p.slidesGrid[J],Ae=p.slidesGrid[J+O]-D;f?p.setTranslate(p.translate-Ae):(p.slideTo(J+Math.ceil(O),0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-Ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-Ae))}else if(o){const D=N?B.length/A.grid.rows:B.length;p.slideTo(p.activeIndex+D,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(Z.length>0&&ce)if(typeof e>"u"){const D=p.slidesGrid[J],Ae=p.slidesGrid[J-R]-D;f?p.setTranslate(p.translate-Ae):(p.slideTo(J-R,0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-Ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-Ae))}else{const D=N?Z.length/A.grid.rows:Z.length;p.slideTo(p.activeIndex-D,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=x,p.controller&&p.controller.control&&!d){const D={slideRealIndex:e,direction:r,setTranslate:o,activeSlideIndex:l,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(_e=>{!_e.destroyed&&_e.params.loop&&_e.loopFix({...D,slideTo:_e.params.slidesPerView===A.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...D,slideTo:p.controller.control.params.slidesPerView===A.slidesPerView?t:!1})}p.emit("loopFix")}function mA(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(o=>{const l=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[l]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var gA={loopCreate:fA,loopFix:pA,loopDestroy:mA};function _A(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function yA(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var vA={setGrabCursor:_A,unsetGrabCursor:yA};function wA(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Bi()||r===Hn())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(n);return!o&&!r.getRootNode?null:o||t(r.getRootNode().host)}return t(e)}function wv(n,e,t){const r=Hn(),{params:o}=n,l=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return l&&(t<=d||t>=r.innerWidth-d)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function EA(n){const e=this,t=Bi();let r=n;r.originalEvent&&(r=r.originalEvent);const o=e.touchEventsData;if(r.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(o.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){wv(e,r,r.targetTouches[0].pageX);return}const{params:l,touches:d,enabled:f}=e;if(!f||!l.simulateTouch&&r.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let p=r.target;if(l.touchEventsTarget==="wrapper"&&!CC(p,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||o.isTouched&&o.isMoved)return;const _=!!l.noSwipingClass&&l.noSwipingClass!=="",w=r.composedPath?r.composedPath():r.path;_&&r.target&&r.target.shadowRoot&&w&&(p=w[0]);const x=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,b=!!(r.target&&r.target.shadowRoot);if(l.noSwiping&&(b?wA(x,p):p.closest(x))){e.allowClick=!0;return}if(l.swipeHandler&&!p.closest(l.swipeHandler))return;d.currentX=r.pageX,d.currentY=r.pageY;const A=d.currentX,M=d.currentY;if(!wv(e,r,A))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=A,d.startY=M,o.touchStartTime=lh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(o.allowThresholdMove=!1);let V=!0;p.matches(o.focusableElements)&&(V=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==p&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&t.activeElement.blur();const H=V&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||H)&&!p.isContentEditable&&r.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function TA(n){const e=Bi(),t=this,r=t.touchEventsData,{params:o,touches:l,rtlTranslate:d,enabled:f}=t;if(!f||!o.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(r.touchId!==null||p.pointerId!==r.pointerId))return;let _;if(p.type==="touchmove"){if(_=[...p.changedTouches].find(J=>J.identifier===r.touchId),!_||_.identifier!==r.touchId)return}else _=p;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",p);return}const w=_.pageX,x=_.pageY;if(p.preventedByNestedSwiper){l.startX=w,l.startY=x;return}if(!t.allowTouchMove){p.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(l,{startX:w,startY:x,currentX:w,currentY:x}),r.touchStartTime=lh());return}if(o.touchReleaseOnEdges&&!o.loop){if(t.isVertical()){if(x<l.startY&&t.translate<=t.maxTranslate()||x>l.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(w<l.startX&&t.translate<=t.maxTranslate()||w>l.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",p),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=w,l.currentY=x;const b=l.currentX-l.startX,A=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(b**2+A**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let J;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:b*b+A*A>=25&&(J=Math.atan2(Math.abs(A),Math.abs(b))*180/Math.PI,r.isScrolling=t.isHorizontal()?J>o.touchAngle:90-J>o.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",p),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling||p.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let M=t.isHorizontal()?b:A,V=t.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;o.oneWayMovement&&(M=Math.abs(M)*(d?1:-1),V=Math.abs(V)*(d?1:-1)),l.diff=M,M*=o.touchRatio,d&&(M=-M,V=-V);const H=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=V>0?"prev":"next";const j=t.params.loop&&!o.cssMode,N=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(j&&N&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const J=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(J)}r.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&H!==t.touchesDirection&&j&&N&&Math.abs(M)>=1){Object.assign(l,{startX:w,startY:x,currentX:w,currentY:x,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",p),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let B=!0,Z=o.resistanceRatio;if(o.touchReleaseOnEdges&&(Z=0),M>0?(j&&N&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(B=!1,o.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**Z))):M<0&&(j&&N&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(B=!1,o.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**Z))),B&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(M)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function xA(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let o;if(r.type==="touchend"||r.type==="touchcancel"){if(o=[...r.changedTouches].find(J=>J.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;o=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:f,rtlTranslate:p,slidesGrid:_,enabled:w}=e;if(!w||!d.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const x=lh(),b=x-t.touchStartTime;if(e.allowClick){const J=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(J&&J[0]||r.target,J),e.emit("tap click",r),b<300&&x-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=lh(),im(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let A;if(d.followFinger?A=p?e.translate:-e.translate:A=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:A});return}const M=A>=-e.maxTranslate()&&!e.params.loop;let V=0,H=e.slidesSizesGrid[0];for(let J=0;J<_.length;J+=J<d.slidesPerGroupSkip?1:d.slidesPerGroup){const ce=J<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof _[J+ce]<"u"?(M||A>=_[J]&&A<_[J+ce])&&(V=J,H=_[J+ce]-_[J]):(M||A>=_[J])&&(V=J,H=_[_.length-1]-_[_.length-2])}let j=null,N=null;d.rewind&&(e.isBeginning?N=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(j=0));const B=(A-_[V])/H,Z=V<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(b>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(B>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?j:V+Z):e.slideTo(V)),e.swipeDirection==="prev"&&(B>1-d.longSwipesRatio?e.slideTo(V+Z):N!==null&&B<0&&Math.abs(B)>d.longSwipesRatio?e.slideTo(N):e.slideTo(V))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(V+Z):e.slideTo(V):(e.swipeDirection==="next"&&e.slideTo(j!==null?j:V+Z),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:V))}}function Ev(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:l}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function SA(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function IA(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const l=n.maxTranslate()-n.minTranslate();l===0?o=0:o=(n.translate-n.minTranslate())/l,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function bA(n){const e=this;Hd(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function PA(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const J0=(n,e)=>{const t=Bi(),{params:r,el:o,wrapperEl:l,device:d}=n,f=!!r.nested,p=e==="on"?"addEventListener":"removeEventListener",_=e;!o||typeof o=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),o[p]("touchstart",n.onTouchStart,{passive:!1}),o[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[p]("click",n.onClick,!0),r.cssMode&&l[p]("scroll",n.onScroll),r.updateOnWindowResize?n[_](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ev,!0):n[_]("observerUpdate",Ev,!0),o[p]("load",n.onLoad,{capture:!0}))};function CA(){const n=this,{params:e}=n;n.onTouchStart=EA.bind(n),n.onTouchMove=TA.bind(n),n.onTouchEnd=xA.bind(n),n.onDocumentTouchStart=PA.bind(n),e.cssMode&&(n.onScroll=IA.bind(n)),n.onClick=SA.bind(n),n.onLoad=bA.bind(n),J0(n,"on")}function AA(){J0(this,"off")}var kA={attachEvents:CA,detachEvents:AA};const Tv=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function RA(){const n=this,{realIndex:e,initialized:t,params:r,el:o}=n,l=r.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const d=Bi(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",p=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:d.querySelector(r.breakpointsBase),_=n.getBreakpoint(l,f,p);if(!_||n.currentBreakpoint===_)return;const x=(_ in l?l[_]:void 0)||n.originalParams,b=Tv(n,r),A=Tv(n,x),M=n.params.grabCursor,V=x.grabCursor,H=r.enabled;b&&!A?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&A&&(o.classList.add(`${r.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!V?n.unsetGrabCursor():!M&&V&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ce=>{if(typeof x[ce]>"u")return;const U=r[ce]&&r[ce].enabled,O=x[ce]&&x[ce].enabled;U&&!O&&n[ce].disable(),!U&&O&&n[ce].enable()});const j=x.direction&&x.direction!==r.direction,N=r.loop&&(x.slidesPerView!==r.slidesPerView||j),B=r.loop;j&&t&&n.changeDirection(),Ir(n.params,x);const Z=n.params.enabled,J=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),H&&!Z?n.disable():!H&&Z&&n.enable(),n.currentBreakpoint=_,n.emit("_beforeBreakpoint",x),t&&(N?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!B&&J?(n.loopCreate(e),n.updateSlides()):B&&!J&&n.loopDestroy()),n.emit("breakpoint",x)}function LA(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const o=Hn(),l=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const p=parseFloat(f.substr(1));return{value:l*p,point:f}}return{value:f,point:f}});d.sort((f,p)=>parseInt(f.value,10)-parseInt(p.value,10));for(let f=0;f<d.length;f+=1){const{point:p,value:_}=d[f];e==="window"?o.matchMedia(`(min-width: ${_}px)`).matches&&(r=p):_<=t.clientWidth&&(r=p)}return r||"max"}var NA={setBreakpoint:RA,getBreakpoint:LA};function OA(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&t.push(e+o)}):typeof r=="string"&&t.push(e+r)}),t}function MA(){const n=this,{classNames:e,params:t,rtl:r,el:o,device:l}=n,d=OA(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function DA(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var VA={addClasses:MA,removeClasses:DA};function zA(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const o=n.slides.length-1,l=n.slidesGrid[o]+n.slidesSizesGrid[o]+r*2;n.isLocked=n.size>l}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var FA={checkOverflow:zA},am={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function jA(n,e){return function(r){r===void 0&&(r={});const o=Object.keys(r)[0],l=r[o];if(typeof l!="object"||l===null){Ir(e,r);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in l)){Ir(e,r);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),Ir(e,r)}}const Rp={eventsEmitter:VC,update:KC,translate:eA,transition:iA,slide:hA,loop:gA,grabCursor:vA,events:kA,breakpoints:NA,checkOverflow:FA,classes:VA},Lp={};let dg=class As{constructor(){let e,t;for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?t=o[0]:[e,t]=o,t||(t={}),t=Ir({},t),e&&!t.el&&(t.el=e);const d=Bi();if(t.el&&typeof t.el=="string"&&d.querySelectorAll(t.el).length>1){const w=[];return d.querySelectorAll(t.el).forEach(x=>{const b=Ir({},t,{el:x});w.push(new As(b))}),w}const f=this;f.__swiper__=!0,f.support=Z0(),f.device=Q0({userAgent:t.userAgent}),f.browser=Y0(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],t.modules&&Array.isArray(t.modules)&&f.modules.push(...t.modules);const p={};f.modules.forEach(w=>{w({params:t,swiper:f,extendParams:jA(t,p),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const _=Ir({},am,p);return f.params=Ir({},_,Lp,t),f.originalParams=Ir({},f.params),f.passedParams=Ir({},t),f.params&&f.params.on&&Object.keys(f.params.on).forEach(w=>{f.on(w,f.params.on[w])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,o=Vi(t,`.${r.slideClass}, swiper-slide`),l=dh(o[0]);return dh(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Vi(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const o=r.minTranslate(),d=(r.maxTranslate()-o)*e+o;r.translateTo(d,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const o=e.getSlideClasses(r);t.push({slideEl:r,classNames:o}),e.emit("_slideClass",r,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:o,slides:l,slidesGrid:d,slidesSizesGrid:f,size:p,activeIndex:_}=r;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let x=l[_]?Math.ceil(l[_].swiperSlideSize):0,b;for(let A=_+1;A<l.length;A+=1)l[A]&&!b&&(x+=Math.ceil(l[A].swiperSlideSize),w+=1,x>p&&(b=!0));for(let A=_-1;A>=0;A-=1)l[A]&&!b&&(x+=l[A].swiperSlideSize,w+=1,x>p&&(b=!0))}else if(e==="current")for(let x=_+1;x<l.length;x+=1)(t?d[x]+f[x]-d[_]<p:d[x]-d[_]<p)&&(w+=1);else for(let x=_-1;x>=0;x-=1)d[_]-d[x]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&Hd(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)o(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const d=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(d.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||o()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,o=r.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):Vi(r,o())[0];return!d&&t.params.createElements&&(d=ch("div",t.params.wrapperClass),r.append(d),Vi(r,`.${t.params.slideClass}`).forEach(f=>{d.append(f)})),Object.assign(t,{el:r,wrapperEl:d,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:d,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ea(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ea(r,"direction")==="rtl"),wrongRTL:ea(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(l=>{l.complete?Hd(t,l):l.addEventListener("load",d=>{Hd(t,d.target)})}),om(t),t.initialized=!0,om(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:o,el:l,wrapperEl:d,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),t&&(r.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),d&&d.removeAttribute("style"),f&&f.length&&f.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(p=>{r.off(p)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),xC(r)),r.destroyed=!0),null}static extendDefaults(e){Ir(Lp,e)}static get extendedDefaults(){return Lp}static get defaults(){return am}static installModule(e){As.prototype.__modules__||(As.prototype.__modules__=[]);const t=As.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>As.installModule(t)),As):(As.installModule(e),As)}};Object.keys(Rp).forEach(n=>{Object.keys(Rp[n]).forEach(e=>{dg.prototype[e]=Rp[n][e]})});dg.use([MC,DC]);const eE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Za(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function $l(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Za(e[r])&&Za(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:$l(n[r],e[r]):n[r]=e[r]})}function tE(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function nE(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function rE(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function iE(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function BA(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function UA(n){let{swiper:e,slides:t,passedParams:r,changedParams:o,nextEl:l,prevEl:d,scrollbarEl:f,paginationEl:p}=n;const _=o.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:w,pagination:x,navigation:b,scrollbar:A,virtual:M,thumbs:V}=e;let H,j,N,B,Z,J,ce,U;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&w.thumbs&&(!w.thumbs.swiper||w.thumbs.swiper.destroyed)&&(H=!0),o.includes("controller")&&r.controller&&r.controller.control&&w.controller&&!w.controller.control&&(j=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||p)&&(w.pagination||w.pagination===!1)&&x&&!x.el&&(N=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||f)&&(w.scrollbar||w.scrollbar===!1)&&A&&!A.el&&(B=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||d)&&(r.navigation.nextEl||l)&&(w.navigation||w.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(Z=!0);const O=R=>{e[R]&&(e[R].destroy(),R==="navigation"?(e.isElement&&(e[R].prevEl.remove(),e[R].nextEl.remove()),w[R].prevEl=void 0,w[R].nextEl=void 0,e[R].prevEl=void 0,e[R].nextEl=void 0):(e.isElement&&e[R].el.remove(),w[R].el=void 0,e[R].el=void 0))};o.includes("loop")&&e.isElement&&(w.loop&&!r.loop?J=!0:!w.loop&&r.loop?ce=!0:U=!0),_.forEach(R=>{if(Za(w[R])&&Za(r[R]))Object.assign(w[R],r[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in r[R]&&!r[R].enabled&&O(R);else{const F=r[R];(F===!0||F===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?F===!1&&O(R):w[R]=r[R]}}),_.includes("controller")&&!j&&e.controller&&e.controller.control&&w.controller&&w.controller.control&&(e.controller.control=w.controller.control),o.includes("children")&&t&&M&&w.virtual.enabled?(M.slides=t,M.update(!0)):o.includes("virtual")&&M&&w.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),o.includes("children")&&t&&w.loop&&(U=!0),H&&V.init()&&V.update(!0),j&&(e.controller.control=w.controller.control),N&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),e.el.appendChild(p)),p&&(w.pagination.el=p),x.init(),x.render(),x.update()),B&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(w.scrollbar.el=f),A.init(),A.updateSize(),A.setTranslate()),Z&&(e.isElement&&((!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-next"),l.innerHTML=e.hostEl.constructor.nextButtonSvg,l.part.add("button-next"),e.el.appendChild(l)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),d.innerHTML=e.hostEl.constructor.prevButtonSvg,d.part.add("button-prev"),e.el.appendChild(d))),l&&(w.navigation.nextEl=l),d&&(w.navigation.prevEl=d),b.init(),b.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&e.changeDirection(r.direction,!1),(J||U)&&e.loopDestroy(),(ce||U)&&e.loopCreate(),e.update()}function $A(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},o={};$l(t,am),t._emitClasses=!0,t.init=!1;const l={},d=eE.map(p=>p.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(p=>{typeof n[p]>"u"||(d.indexOf(p)>=0?Za(n[p])?(t[p]={},o[p]={},$l(t[p],n[p]),$l(o[p],n[p])):(t[p]=n[p],o[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?r[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:l[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:o,rest:l,events:r}}function HA(n,e){let{el:t,nextEl:r,prevEl:o,paginationEl:l,scrollbarEl:d,swiper:f}=n;tE(e)&&r&&o&&(f.params.navigation.nextEl=r,f.originalParams.navigation.nextEl=r,f.params.navigation.prevEl=o,f.originalParams.navigation.prevEl=o),nE(e)&&l&&(f.params.pagination.el=l,f.originalParams.pagination.el=l),rE(e)&&d&&(f.params.scrollbar.el=d,f.originalParams.scrollbar.el=d),f.init(t)}function qA(n,e,t,r,o){const l=[];if(!e)return l;const d=p=>{l.indexOf(p)<0&&l.push(p)};if(t&&r){const p=r.map(o),_=t.map(o);p.join("")!==_.join("")&&d("children"),r.length!==t.length&&d("children")}return eE.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(Za(n[p])&&Za(e[p])){const _=Object.keys(n[p]),w=Object.keys(e[p]);_.length!==w.length?d(p):(_.forEach(x=>{n[p][x]!==e[p][x]&&d(p)}),w.forEach(x=>{n[p][x]!==e[p][x]&&d(p)}))}else n[p]!==e[p]&&d(p)}),l}const WA=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function hh(){return hh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hh.apply(this,arguments)}function sE(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function oE(n){const e=[];return Fe.Children.toArray(n).forEach(t=>{sE(t)?e.push(t):t.props&&t.props.children&&oE(t.props.children).forEach(r=>e.push(r))}),e}function GA(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Fe.Children.toArray(n).forEach(r=>{if(sE(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const o=oE(r.props.children);o.length>0?o.forEach(l=>e.push(l)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function KA(n,e,t){if(!t)return null;const r=w=>{let x=w;return w<0?x=e.length+w:x>=e.length&&(x=x-e.length),x},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:l,to:d}=t,f=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,_=[];for(let w=f;w<p;w+=1)w>=l&&w<=d&&_.push(e[r(w)]);return _.map((w,x)=>Fe.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${x}`}))}function ec(n,e){return typeof window>"u"?G.useEffect(n,e):G.useLayoutEffect(n,e)}const xv=G.createContext(null),ZA=G.createContext(null),hg=G.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:o="div",children:l,onSwiper:d,...f}=n===void 0?{}:n,p=!1;const[_,w]=G.useState("swiper"),[x,b]=G.useState(null),[A,M]=G.useState(!1),V=G.useRef(!1),H=G.useRef(null),j=G.useRef(null),N=G.useRef(null),B=G.useRef(null),Z=G.useRef(null),J=G.useRef(null),ce=G.useRef(null),U=G.useRef(null),{params:O,passedParams:R,rest:F,events:$}=$A(f),{slides:q,slots:D}=GA(l),_e=()=>{M(!A)};Object.assign(O.on,{_containerClasses(ye,ae){w(ae)}});const Ae=()=>{Object.assign(O.on,$),p=!0;const ye={...O};if(delete ye.wrapperClass,j.current=new dg(ye),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=q;const ae={cache:!1,slides:q,renderExternal:b,renderExternalUpdate:!1};$l(j.current.params.virtual,ae),$l(j.current.originalParams.virtual,ae)}};H.current||Ae(),j.current&&j.current.on("_beforeBreakpoint",_e);const Me=()=>{p||!$||!j.current||Object.keys($).forEach(ye=>{j.current.on(ye,$[ye])})},ze=()=>{!$||!j.current||Object.keys($).forEach(ye=>{j.current.off(ye,$[ye])})};G.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",_e)}),G.useEffect(()=>{!V.current&&j.current&&(j.current.emitSlidesClasses(),V.current=!0)}),ec(()=>{if(e&&(e.current=H.current),!!H.current)return j.current.destroyed&&Ae(),HA({el:H.current,nextEl:Z.current,prevEl:J.current,paginationEl:ce.current,scrollbarEl:U.current,swiper:j.current},O),d&&!j.current.destroyed&&d(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),ec(()=>{Me();const ye=qA(R,N.current,q,B.current,ae=>ae.key);return N.current=R,B.current=q,ye.length&&j.current&&!j.current.destroyed&&UA({swiper:j.current,slides:q,passedParams:R,changedParams:ye,nextEl:Z.current,prevEl:J.current,scrollbarEl:U.current,paginationEl:ce.current}),()=>{ze()}}),ec(()=>{WA(j.current)},[x]);function ee(){return O.virtual?KA(j.current,q,x):q.map((ye,ae)=>Fe.cloneElement(ye,{swiper:j.current,swiperSlideIndex:ae}))}return Fe.createElement(r,hh({ref:H,className:iE(`${_}${t?` ${t}`:""}`)},F),Fe.createElement(ZA.Provider,{value:j.current},D["container-start"],Fe.createElement(o,{className:BA(O.wrapperClass)},D["wrapper-start"],ee(),D["wrapper-end"]),tE(O)&&Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:J,className:"swiper-button-prev"}),Fe.createElement("div",{ref:Z,className:"swiper-button-next"})),rE(O)&&Fe.createElement("div",{ref:U,className:"swiper-scrollbar"}),nE(O)&&Fe.createElement("div",{ref:ce,className:"swiper-pagination"}),D["container-end"]))});hg.displayName="Swiper";const tc=G.forwardRef(function(n,e){let{tag:t="div",children:r,className:o="",swiper:l,zoom:d,lazy:f,virtualIndex:p,swiperSlideIndex:_,...w}=n===void 0?{}:n;const x=G.useRef(null),[b,A]=G.useState("swiper-slide"),[M,V]=G.useState(!1);function H(Z,J,ce){J===x.current&&A(ce)}ec(()=>{if(typeof _<"u"&&(x.current.swiperSlideIndex=_),e&&(e.current=x.current),!(!x.current||!l)){if(l.destroyed){b!=="swiper-slide"&&A("swiper-slide");return}return l.on("_slideClass",H),()=>{l&&l.off("_slideClass",H)}}}),ec(()=>{l&&x.current&&!l.destroyed&&A(l.getSlideClasses(x.current))},[l]);const j={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},N=()=>typeof r=="function"?r(j):r,B=()=>{V(!0)};return Fe.createElement(t,hh({ref:x,className:iE(`${b}${o?` ${o}`:""}`),"data-swiper-slide-index":p,onLoad:B},w),d&&Fe.createElement(xv.Provider,{value:j},Fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof d=="number"?d:void 0},N(),f&&!M&&Fe.createElement("div",{className:"swiper-lazy-preloader"}))),!d&&Fe.createElement(xv.Provider,{value:j},N(),f&&!M&&Fe.createElement("div",{className:"swiper-lazy-preloader"})))});tc.displayName="SwiperSlide";function aE(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(o=>{if(!t[o]&&t.auto===!0){let l=Vi(n.el,`.${r[o]}`)[0];l||(l=ch("div",r[o]),l.className=r[o],n.el.append(l)),t[o]=l,e[o]=l}}),t}function lE(n){let{swiper:e,extendParams:t,on:r,emit:o}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function l(M){let V;return M&&typeof M=="string"&&e.isElement&&(V=e.el.querySelector(M)||e.hostEl.querySelector(M),V)?V:(M&&(typeof M=="string"&&(V=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&typeof M=="string"&&V&&V.length>1&&e.el.querySelectorAll(M).length===1?V=e.el.querySelector(M):V&&V.length===1&&(V=V[0])),M&&!V?M:V)}function d(M,V){const H=e.params.navigation;M=hn(M),M.forEach(j=>{j&&(j.classList[V?"add":"remove"](...H.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=V),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](H.lockClass))})}function f(){const{nextEl:M,prevEl:V}=e.navigation;if(e.params.loop){d(V,!1),d(M,!1);return}d(V,e.isBeginning&&!e.params.rewind),d(M,e.isEnd&&!e.params.rewind)}function p(M){M.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function _(M){M.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function w(){const M=e.params.navigation;if(e.params.navigation=aE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(M.nextEl||M.prevEl))return;let V=l(M.nextEl),H=l(M.prevEl);Object.assign(e.navigation,{nextEl:V,prevEl:H}),V=hn(V),H=hn(H);const j=(N,B)=>{N&&N.addEventListener("click",B==="next"?_:p),!e.enabled&&N&&N.classList.add(...M.lockClass.split(" "))};V.forEach(N=>j(N,"next")),H.forEach(N=>j(N,"prev"))}function x(){let{nextEl:M,prevEl:V}=e.navigation;M=hn(M),V=hn(V);const H=(j,N)=>{j.removeEventListener("click",N==="next"?_:p),j.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(j=>H(j,"next")),V.forEach(j=>H(j,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?A():(w(),f())}),r("toEdge fromEdge lock unlock",()=>{f()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{nextEl:M,prevEl:V}=e.navigation;if(M=hn(M),V=hn(V),e.enabled){f();return}[...M,...V].filter(H=>!!H).forEach(H=>H.classList.add(e.params.navigation.lockClass))}),r("click",(M,V)=>{let{nextEl:H,prevEl:j}=e.navigation;H=hn(H),j=hn(j);const N=V.target;let B=j.includes(N)||H.includes(N);if(e.isElement&&!B){const Z=V.path||V.composedPath&&V.composedPath();Z&&(B=Z.find(J=>H.includes(J)||j.includes(J)))}if(e.params.navigation.hideOnClick&&!B){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===N||e.pagination.el.contains(N)))return;let Z;H.length?Z=H[0].classList.contains(e.params.navigation.hiddenClass):j.length&&(Z=j[0].classList.contains(e.params.navigation.hiddenClass)),o(Z===!0?"navigationShow":"navigationHide"),[...H,...j].filter(J=>!!J).forEach(J=>J.classList.toggle(e.params.navigation.hiddenClass))}});const b=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),w(),f()},A=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),x()};Object.assign(e.navigation,{enable:b,disable:A,update:f,init:w,destroy:x})}function $u(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function uE(n){let{swiper:e,extendParams:t,on:r,emit:o}=n;const l="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),e.pagination={el:null,bullets:[]};let d,f=0;function p(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function _(N,B){const{bulletActiveClass:Z}=e.params.pagination;N&&(N=N[`${B==="prev"?"previous":"next"}ElementSibling`],N&&(N.classList.add(`${Z}-${B}`),N=N[`${B==="prev"?"previous":"next"}ElementSibling`],N&&N.classList.add(`${Z}-${B}-${B}`)))}function w(N,B,Z){if(N=N%Z,B=B%Z,B===N+1)return"next";if(B===N-1)return"previous"}function x(N){const B=N.target.closest($u(e.params.pagination.bulletClass));if(!B)return;N.preventDefault();const Z=dh(B)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===Z)return;const J=w(e.realIndex,Z,e.slides.length);J==="next"?e.slideNext():J==="previous"?e.slidePrev():e.slideToLoop(Z)}else e.slideTo(Z)}function b(){const N=e.rtl,B=e.params.pagination;if(p())return;let Z=e.pagination.el;Z=hn(Z);let J,ce;const U=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(U/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(ce=e.previousRealIndex||0,J=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(J=e.snapIndex,ce=e.previousSnapIndex):(ce=e.previousIndex||0,J=e.activeIndex||0),B.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const R=e.pagination.bullets;let F,$,q;if(B.dynamicBullets&&(d=sm(R[0],e.isHorizontal()?"width":"height"),Z.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${d*(B.dynamicMainBullets+4)}px`}),B.dynamicMainBullets>1&&ce!==void 0&&(f+=J-(ce||0),f>B.dynamicMainBullets-1?f=B.dynamicMainBullets-1:f<0&&(f=0)),F=Math.max(J-f,0),$=F+(Math.min(R.length,B.dynamicMainBullets)-1),q=($+F)/2),R.forEach(D=>{const _e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ae=>`${B.bulletActiveClass}${Ae}`)].map(Ae=>typeof Ae=="string"&&Ae.includes(" ")?Ae.split(" "):Ae).flat();D.classList.remove(..._e)}),Z.length>1)R.forEach(D=>{const _e=dh(D);_e===J?D.classList.add(...B.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),B.dynamicBullets&&(_e>=F&&_e<=$&&D.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),_e===F&&_(D,"prev"),_e===$&&_(D,"next"))});else{const D=R[J];if(D&&D.classList.add(...B.bulletActiveClass.split(" ")),e.isElement&&R.forEach((_e,Ae)=>{_e.setAttribute("part",Ae===J?"bullet-active":"bullet")}),B.dynamicBullets){const _e=R[F],Ae=R[$];for(let Me=F;Me<=$;Me+=1)R[Me]&&R[Me].classList.add(...`${B.bulletActiveClass}-main`.split(" "));_(_e,"prev"),_(Ae,"next")}}if(B.dynamicBullets){const D=Math.min(R.length,B.dynamicMainBullets+4),_e=(d*D-d)/2-q*d,Ae=N?"right":"left";R.forEach(Me=>{Me.style[e.isHorizontal()?Ae:"top"]=`${_e}px`})}}Z.forEach((R,F)=>{if(B.type==="fraction"&&(R.querySelectorAll($u(B.currentClass)).forEach($=>{$.textContent=B.formatFractionCurrent(J+1)}),R.querySelectorAll($u(B.totalClass)).forEach($=>{$.textContent=B.formatFractionTotal(O)})),B.type==="progressbar"){let $;B.progressbarOpposite?$=e.isHorizontal()?"vertical":"horizontal":$=e.isHorizontal()?"horizontal":"vertical";const q=(J+1)/O;let D=1,_e=1;$==="horizontal"?D=q:_e=q,R.querySelectorAll($u(B.progressbarFillClass)).forEach(Ae=>{Ae.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${_e})`,Ae.style.transitionDuration=`${e.params.speed}ms`})}B.type==="custom"&&B.renderCustom?(R.innerHTML=B.renderCustom(e,J+1,O),F===0&&o("paginationRender",R)):(F===0&&o("paginationRender",R),o("paginationUpdate",R)),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](B.lockClass)})}function A(){const N=e.params.pagination;if(p())return;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let Z=e.pagination.el;Z=hn(Z);let J="";if(N.type==="bullets"){let ce=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&ce>B&&(ce=B);for(let U=0;U<ce;U+=1)N.renderBullet?J+=N.renderBullet.call(e,U,N.bulletClass):J+=`<${N.bulletElement} ${e.isElement?'part="bullet"':""} class="${N.bulletClass}"></${N.bulletElement}>`}N.type==="fraction"&&(N.renderFraction?J=N.renderFraction.call(e,N.currentClass,N.totalClass):J=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`),N.type==="progressbar"&&(N.renderProgressbar?J=N.renderProgressbar.call(e,N.progressbarFillClass):J=`<span class="${N.progressbarFillClass}"></span>`),e.pagination.bullets=[],Z.forEach(ce=>{N.type!=="custom"&&(ce.innerHTML=J||""),N.type==="bullets"&&e.pagination.bullets.push(...ce.querySelectorAll($u(N.bulletClass)))}),N.type!=="custom"&&o("paginationRender",Z[0])}function M(){e.params.pagination=aE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const N=e.params.pagination;if(!N.el)return;let B;typeof N.el=="string"&&e.isElement&&(B=e.el.querySelector(N.el)),!B&&typeof N.el=="string"&&(B=[...document.querySelectorAll(N.el)]),B||(B=N.el),!(!B||B.length===0)&&(e.params.uniqueNavElements&&typeof N.el=="string"&&Array.isArray(B)&&B.length>1&&(B=[...e.el.querySelectorAll(N.el)],B.length>1&&(B=B.find(Z=>K0(Z,".swiper")[0]===e.el))),Array.isArray(B)&&B.length===1&&(B=B[0]),Object.assign(e.pagination,{el:B}),B=hn(B),B.forEach(Z=>{N.type==="bullets"&&N.clickable&&Z.classList.add(...(N.clickableClass||"").split(" ")),Z.classList.add(N.modifierClass+N.type),Z.classList.add(e.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(Z.classList.add(`${N.modifierClass}${N.type}-dynamic`),f=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&Z.classList.add(N.progressbarOppositeClass),N.clickable&&Z.addEventListener("click",x),e.enabled||Z.classList.add(N.lockClass)}))}function V(){const N=e.params.pagination;if(p())return;let B=e.pagination.el;B&&(B=hn(B),B.forEach(Z=>{Z.classList.remove(N.hiddenClass),Z.classList.remove(N.modifierClass+N.type),Z.classList.remove(e.isHorizontal()?N.horizontalClass:N.verticalClass),N.clickable&&(Z.classList.remove(...(N.clickableClass||"").split(" ")),Z.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(Z=>Z.classList.remove(...N.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const N=e.params.pagination;let{el:B}=e.pagination;B=hn(B),B.forEach(Z=>{Z.classList.remove(N.horizontalClass,N.verticalClass),Z.classList.add(e.isHorizontal()?N.horizontalClass:N.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?j():(M(),A(),b())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),r("snapIndexChange",()=>{b()}),r("snapGridLengthChange",()=>{A(),b()}),r("destroy",()=>{V()}),r("enable disable",()=>{let{el:N}=e.pagination;N&&(N=hn(N),N.forEach(B=>B.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{b()}),r("click",(N,B)=>{const Z=B.target,J=hn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&J&&J.length>0&&!Z.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&Z===e.navigation.nextEl||e.navigation.prevEl&&Z===e.navigation.prevEl))return;const ce=J[0].classList.contains(e.params.pagination.hiddenClass);o(ce===!0?"paginationShow":"paginationHide"),J.forEach(U=>U.classList.toggle(e.params.pagination.hiddenClass))}});const H=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:N}=e.pagination;N&&(N=hn(N),N.forEach(B=>B.classList.remove(e.params.pagination.paginationDisabledClass))),M(),A(),b()},j=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:N}=e.pagination;N&&(N=hn(N),N.forEach(B=>B.classList.add(e.params.pagination.paginationDisabledClass))),V()};Object.assign(e.pagination,{enable:H,disable:j,render:A,update:b,init:M,destroy:V})}function cE(n){let{swiper:e,extendParams:t,on:r,emit:o,params:l}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,f,p=l&&l.autoplay?l.autoplay.delay:3e3,_=l&&l.autoplay?l.autoplay.delay:3e3,w,x=new Date().getTime(),b,A,M,V,H,j,N;function B(ee){!e||e.destroyed||!e.wrapperEl||ee.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",B),!(N||ee.detail&&ee.detail.bySwiperTouchMove)&&F())}const Z=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(_=w,b=!1);const ee=e.autoplay.paused?w:x+_-new Date().getTime();e.autoplay.timeLeft=ee,o("autoplayTimeLeft",ee,ee/p),f=requestAnimationFrame(()=>{Z()})},J=()=>{let ee;return e.virtual&&e.params.virtual.enabled?ee=e.slides.find(ae=>ae.classList.contains("swiper-slide-active")):ee=e.slides[e.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},ce=ee=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(f),Z();let ye=typeof ee>"u"?e.params.autoplay.delay:ee;p=e.params.autoplay.delay,_=e.params.autoplay.delay;const ae=J();!Number.isNaN(ae)&&ae>0&&typeof ee>"u"&&(ye=ae,p=ae,_=ae),w=ye;const Y=e.params.speed,ue=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Y,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Y,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Y,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Y,!0,!0),o("autoplay")),e.params.cssMode&&(x=new Date().getTime(),requestAnimationFrame(()=>{ce()})))};return ye>0?(clearTimeout(d),d=setTimeout(()=>{ue()},ye)):requestAnimationFrame(()=>{ue()}),ye},U=()=>{x=new Date().getTime(),e.autoplay.running=!0,ce(),o("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(f),o("autoplayStop")},R=(ee,ye)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(d),ee||(j=!0);const ae=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",B):F()};if(e.autoplay.paused=!0,ye){H&&(w=e.params.autoplay.delay),H=!1,ae();return}w=(w||e.params.autoplay.delay)-(new Date().getTime()-x),!(e.isEnd&&w<0&&!e.params.loop)&&(w<0&&(w=0),ae())},F=()=>{e.isEnd&&w<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(x=new Date().getTime(),j?(j=!1,ce(w)):ce(),e.autoplay.paused=!1,o("autoplayResume"))},$=()=>{if(e.destroyed||!e.autoplay.running)return;const ee=Bi();ee.visibilityState==="hidden"&&(j=!0,R(!0)),ee.visibilityState==="visible"&&F()},q=ee=>{ee.pointerType==="mouse"&&(j=!0,N=!0,!(e.animating||e.autoplay.paused)&&R(!0))},D=ee=>{ee.pointerType==="mouse"&&(N=!1,e.autoplay.paused&&F())},_e=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",q),e.el.addEventListener("pointerleave",D))},Ae=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",q),e.el.removeEventListener("pointerleave",D))},Me=()=>{Bi().addEventListener("visibilitychange",$)},ze=()=>{Bi().removeEventListener("visibilitychange",$)};r("init",()=>{e.params.autoplay.enabled&&(_e(),Me(),U())}),r("destroy",()=>{Ae(),ze(),e.autoplay.running&&O()}),r("_freeModeStaticRelease",()=>{(M||j)&&F()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():R(!0,!0)}),r("beforeTransitionStart",(ee,ye,ae)=>{e.destroyed||!e.autoplay.running||(ae||!e.params.autoplay.disableOnInteraction?R(!0,!0):O())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}A=!0,M=!1,j=!1,V=setTimeout(()=>{j=!0,M=!0,R(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!A)){if(clearTimeout(V),clearTimeout(d),e.params.autoplay.disableOnInteraction){M=!1,A=!1;return}M&&e.params.cssMode&&F(),M=!1,A=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(H=!0)}),Object.assign(e.autoplay,{start:U,stop:O,pause:R,resume:F})}function QA(n){const{effect:e,swiper:t,on:r,setTranslate:o,setTransition:l,overwriteParams:d,perspective:f,recreateShadows:p,getEffectParams:_}=n;r("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),f&&f()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const x=d?d():{};Object.assign(t.params,x),Object.assign(t.originalParams,x)}),r("setTranslate",()=>{t.params.effect===e&&o()}),r("setTransition",(x,b)=>{t.params.effect===e&&l(b)}),r("transitionEnd",()=>{if(t.params.effect===e&&p){if(!_||!_().slideShadows)return;t.slides.forEach(x=>{x.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(b=>b.remove())}),p()}});let w;r("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(w=!0),requestAnimationFrame(()=>{w&&t.slides&&t.slides.length&&(o(),w=!1)}))})}function YA(n,e){const t=G0(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function XA(n){let{swiper:e,duration:t,transformElements:r,allSlides:o}=n;const{activeIndex:l}=e,d=f=>f.parentElement?f.parentElement:e.slides.find(_=>_.shadowRoot&&_.shadowRoot===f.parentNode);if(e.params.virtualTranslate&&t!==0){let f=!1,p;o?p=r:p=r.filter(_=>{const w=_.classList.contains("swiper-slide-transform")?d(_):_;return e.getSlideIndex(w)===l}),p.forEach(_=>{RC(_,()=>{if(f||!e||e.destroyed)return;f=!0,e.animating=!1;const w=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(w)})})}}function dE(n){let{swiper:e,extendParams:t,on:r}=n;t({fadeEffect:{crossFade:!1}}),QA({effect:"fade",swiper:e,on:r,setTranslate:()=>{const{slides:d}=e,f=e.params.fadeEffect;for(let p=0;p<d.length;p+=1){const _=e.slides[p];let x=-_.swiperSlideOffset;e.params.virtualTranslate||(x-=e.translate);let b=0;e.isHorizontal()||(b=x,x=0);const A=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(_.progress),0):1+Math.min(Math.max(_.progress,-1),0),M=YA(f,_);M.style.opacity=A,M.style.transform=`translate3d(${x}px, ${b}px, 0px)`}},setTransition:d=>{const f=e.slides.map(p=>G0(p));f.forEach(p=>{p.style.transitionDuration=`${d}ms`}),XA({swiper:e,duration:d,transformElements:f,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function JA(){const[n,e]=G.useState(null),[t,r]=G.useState(!0),o=vi();return G.useEffect(()=>{async function l(){const d=ji(Nn,"listings"),f=Ds(d,Vs("timestamp","desc"),aa(5)),p=await zs(f);let _=[];p.forEach(w=>{_.push({id:w.id,data:w.data()})}),e(_),r(!1)}l()},[]),t?C.jsx(rl,{}):!n||n.length===0?C.jsx("div",{children:"No listings available"}):C.jsx("div",{children:C.jsx(hg,{slidesPerView:1,navigation:!0,pagination:{type:"progressbar"},effect:"fade",modules:[lE,uE,dE,cE],autoplay:{delay:3e3},children:n.map(({id:l,data:d})=>C.jsxs(tc,{onClick:()=>o(`/category/${d.type}/${l}`),children:[C.jsx("div",{style:{backgroundImage:`url(${d.imageUrls[0]})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"300px"},className:" relative w-full cursor-pointer"}),C.jsx("p",{className:`text-[#f1faee] absolute left-1 top-3 font-medium\r
                         max-w-[90%] bg-[#457b9d] shadow-lg opacity-90 p-2 rounded-br-3xl`,children:d.name}),C.jsxs("p",{className:`text-[#f1faee] absolute left-1 bottom-1 font-semibold\r
                         max-w-[90%] bg-[#e63946] shadow-lg opacity-90 p-2 rounded-br-3xl`,children:["$",d.discountedPrice??d.discountedPrice,d.type==="rent"&&" / month "]})]},l))})})}var hE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sv=Fe.createContext&&Fe.createContext(hE),ek=["attr","size","title"];function tk(n,e){if(n==null)return{};var t=nk(n,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nk(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function fh(){return fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fh.apply(this,arguments)}function Iv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(t),!0).forEach(function(r){rk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rk(n,e,t){return e=ik(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ik(n){var e=sk(n,"string");return typeof e=="symbol"?e:e+""}function sk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fE(n){return n&&n.map((e,t)=>Fe.createElement(e.tag,ph({key:t},e.attr),fE(e.child)))}function Zr(n){return e=>Fe.createElement(ok,fh({attr:ph({},n.attr)},e),fE(n.child))}function ok(n){var e=t=>{var{attr:r,size:o,title:l}=n,d=tk(n,ek),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Fe.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:p,style:ph(ph({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),n.children)};return Sv!==void 0?Fe.createElement(Sv.Consumer,null,t=>e(t)):e(hE)}function ak(n){return Zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"},child:[]}]})(n)}function lk(n){return Zr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(n)}function uk(n){return Zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(n)}function pE(n){return Zr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function mE(n){return Zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function gE(n){return Zr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function ck(n){return Zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},child:[]}]})(n)}function dk(n){return Zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function hk(n){return Zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function fk(n){return Zr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(n)}function Hl({listing:n,id:e,onEdit:t,onDelete:r}){return C.jsxs("li",{className:"relative bg-white flex flex-col justify-between items-center shadow-md hover:shadow-xl rounded-md overflow-hidden transition-shadow duration-150 m-[10px]",children:[C.jsxs(Pr,{className:"contents",to:`/category/${n.type}/${e}`,children:[C.jsx("img",{className:"h-[170px] w-full object-cover hover:scale-105 transition-scale duration-200 ease-in",loading:"lazy",src:n.imageUrls[0],alt:""}),C.jsxs("div",{className:"w-full p-[10px]",children:[C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx(gE,{className:"h-4 w-4 text-green-600"}),C.jsx("p",{className:"font-semibold text-sm mb-[2px] text-gray-600 truncate",children:n.address})]}),C.jsx("p",{className:"font-semibold mt-0 text-xl truncate",children:n.name}),C.jsxs("p",{className:"text-[#457b9d] mt-2 font-semibold",children:["$",n.offer?n.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):n.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n.type==="rent"&&" / month"]}),C.jsxs("div",{className:"flex items-center mt-[10px] space-x-3 mb-6",children:[C.jsx("div",{className:"flex items-center space-x-1",children:C.jsx("p",{className:"font-semibold text-xs",children:n.bedrooms>1?`${n.bedrooms} Beds`:"1 Bed"})}),C.jsx("div",{className:"flex items-center space-x-1",children:C.jsx("p",{className:"font-semibold text-xs",children:n.bathrooms>1?`${n.bathrooms} Baths`:"1 Bath"})})]})]})]}),r&&C.jsx(hk,{className:"absolute bottom-2 right-2 h-5 w-5 cursor-pointer text-red-500 hover:text-red-700",onClick:()=>r(n.id)}),t&&C.jsx(fk,{className:"absolute bottom-2 right-8 h-5 w-5 cursor-pointer",onClick:()=>t(n.id)})]})}function pk(){const[n,e]=G.useState(null);G.useEffect(()=>{async function d(){try{const f=ji(Nn,"listings"),p=Ds(f,oa("offer","==",!0),Vs("timestamp","desc"),aa(4)),_=await zs(p),w=[];_.forEach(x=>w.push({id:x.id,data:x.data()})),e(w)}catch(f){console.error(f)}}d()},[]);const[t,r]=G.useState(null);G.useEffect(()=>{async function d(){try{const f=ji(Nn,"listings"),p=Ds(f,oa("type","==","rent"),Vs("timestamp","desc"),aa(4)),_=await zs(p),w=[];_.forEach(x=>w.push({id:x.id,data:x.data()})),r(w)}catch(f){console.error(f)}}d()},[]);const[o,l]=G.useState(null);return G.useEffect(()=>{async function d(){try{const f=ji(Nn,"listings"),p=Ds(f,oa("type","==","sale"),Vs("timestamp","desc"),aa(4)),_=await zs(p),w=[];_.forEach(x=>w.push({id:x.id,data:x.data()})),l(w)}catch(f){console.error(f)}}d()},[]),C.jsxs("div",{children:[C.jsx(JA,{}),C.jsx("div",{className:"max-w-6xl mx-auto pt-4 space-x-6",children:n&&n.length>0&&C.jsxs("div",{className:"m-2 mb-6",children:[C.jsxs("h2",{className:"px-3 text-2xl mt-6 font-semibold ",children:[" ","Recent Offers"]}),C.jsx(Pr,{to:"/offers",children:C.jsx("p",{className:`px-3 text-small text-blue-600 hover:text-blue-800\r
						transition duration-150 ease-in-out`,children:"Show more offers"})}),C.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",children:n.map(d=>C.jsx(Hl,{listing:d.data,id:d.id},d.id))})]})}),C.jsx("div",{className:"max-w-6xl mx-auto pt-4 space-x-6",children:t&&t.length>0&&C.jsxs("div",{className:"m-2 mb-6",children:[C.jsx("h2",{className:"px-3 text-2xl mt-6 font-semibold ",children:"Recent Rents"}),C.jsx(Pr,{to:"/category/rent",children:C.jsx("p",{className:`px-3 text-small text-blue-600 hover:text-blue-800\r
						transition duration-150 ease-in-out`,children:"Show more places for Rents"})}),C.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(d=>C.jsx(Hl,{listing:d.data,id:d.id},d.id))})]})}),C.jsx("div",{className:"max-w-6xl mx-auto pt-4 space-x-6 ",children:o&&o.length>0&&C.jsxs("div",{className:"m-2 mb-6",children:[C.jsx("h2",{className:"px-3 text-2xl mt-6 font-semibold ",children:"Recent Sales"}),C.jsx(Pr,{to:"/category/sale",children:C.jsx("p",{className:`px-3 text-small text-blue-600 hover:text-blue-800\r
						transition duration-150 ease-in-out`,children:"Show more places for Sale"})}),C.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map(d=>C.jsx(Hl,{listing:d.data,id:d.id},d.id))})]})})]})}function fg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function _E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=_E,yE=new gc("auth","Firebase",_E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Im("@firebase/auth");function gk(n,...e){mh.logLevel<=st.WARN&&mh.warn(`Auth (${au}): ${n}`,...e)}function qd(n,...e){mh.logLevel<=st.ERROR&&mh.error(`Auth (${au}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,...e){throw mg(n,...e)}function fi(n,...e){return mg(n,...e)}function pg(n,e,t){const r=Object.assign(Object.assign({},mk()),{[e]:t});return new gc("auth","Firebase",r).create(e,{appName:n.name})}function Fs(n){return pg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _k(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gr(n,"argument-error"),pg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yE.create(n,...e)}function Ge(n,e,...t){if(!n)throw mg(e,...t)}function Rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qd(e),new Error(e)}function Hs(n,e){n||Rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yk(){return bv()==="http:"||bv()==="https:"}function bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yk()||$1()||"connection"in navigator)?navigator.onLine:!0}function wk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile=j1()||H1()}get(){return vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,e){Hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Sc(3e4,6e4);function Zs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hi(n,e,t,r,o={}){return wE(n,o,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const f=_c(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return U1()||(_.referrerPolicy="no-referrer"),vE.fetch()(EE(n,n.config.apiHost,t,f),_)})}async function wE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ek),e);try{const o=new Sk(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Md(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,_]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Md(n,"user-disabled",d);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pg(n,w,_);Gr(n,w)}}catch(o){if(o instanceof Gs)throw o;Gr(n,"network-request-failed",{message:String(o)})}}async function Ic(n,e,t,r,o={}){const l=await Hi(n,e,t,r,o);return"mfaPendingCredential"in l&&Gr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function EE(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?gg(n.config,o):`${n.config.apiScheme}://${o}`}function xk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),Tk.get())})}}function Md(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=fi(n,e,r);return o.customData._tokenResponse=t,o}function Pv(n){return n!==void 0&&n.enterprise!==void 0}class Ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bk(n,e){return Hi(n,"GET","/v2/recaptchaConfig",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function TE(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ck(n,e=!1){const t=rn(n),r=await t.getIdToken(e),o=_g(r);Ge(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:nc(Np(o.auth_time)),issuedAtTime:nc(Np(o.iat)),expirationTime:nc(Np(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function _g(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=uw(t);return o?JSON.parse(o):(qd("Failed to decode base64 JWT payload"),null)}catch(o){return qd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Cv(n){const e=_g(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Gs&&Ak(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ak({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(n){var e;const t=n.auth,r=await n.getIdToken(),o=await ru(n,TE(t,{idToken:r}));Ge(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?xE(l.providerUserInfo):[],f=Lk(n.providerData,d),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),w=p?_:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,x)}async function Rk(n){const e=rn(n);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function xE(n){return n.map(e=>{var{providerId:t}=e,r=fg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e){const t=await wE(n,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=EE(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",vE.fetch()(d,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ok(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=Cv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await Nk(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,d=new ql;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Ge(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n,e){Ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,l=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ck(this,e)}reload(){return Rk(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await ru(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,l,d,f,p,_,w;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,H=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(_=t.createdAt)!==null&&_!==void 0?_:void 0,N=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:B,emailVerified:Z,isAnonymous:J,providerData:ce,stsTokenManager:U}=t;Ge(B&&U,e,"internal-error");const O=ql.fromJSON(this.name,U);Ge(typeof B=="string",e,"internal-error"),Zo(x,e.name),Zo(b,e.name),Ge(typeof Z=="boolean",e,"internal-error"),Ge(typeof J=="boolean",e,"internal-error"),Zo(A,e.name),Zo(M,e.name),Zo(V,e.name),Zo(H,e.name),Zo(j,e.name),Zo(N,e.name);const R=new Ls({uid:B,auth:e,email:b,emailVerified:Z,displayName:x,isAnonymous:J,photoURL:M,phoneNumber:A,tenantId:V,stsTokenManager:O,createdAt:j,lastLoginAt:N});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(F=>Object.assign({},F))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,t,r=!1){const o=new ql;o.updateFromServerResponse(t);const l=new Ls({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ge(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new ql;f.updateFromIdToken(r);const p=new Ls({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function Ns(n){Hs(n instanceof Function,"Expected a class definition");let e=Av.get(n);return e?(Hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Av.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SE.type="NONE";const kv=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Wd(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wl(Ns(kv),e,r);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Ns(kv);const d=Wd(r,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const w=await _._get(d);if(w){const x=Ls._fromJSON(e,w);_!==l&&(f=x),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Wl(l,e,r):(l=p[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(d)}catch{}})),new Wl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kE(e))return"Blackberry";if(RE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||PE(e))&&!e.includes("edge/"))return"Chrome";if(AE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IE(n=On()){return/firefox\//i.test(n)}function bE(n=On()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PE(n=On()){return/crios\//i.test(n)}function CE(n=On()){return/iemobile/i.test(n)}function AE(n=On()){return/android/i.test(n)}function kE(n=On()){return/blackberry/i.test(n)}function RE(n=On()){return/webos/i.test(n)}function yg(n=On()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Mk(n=On()){var e;return yg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dk(){return q1()&&document.documentMode===10}function LE(n=On()){return yg(n)||AE(n)||RE(n)||kE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n,e=[]){let t;switch(n){case"Browser":t=Rv(On());break;case"Worker":t=`${Rv(On())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,f)=>{try{const p=e(l);d(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",Zs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=6;class jk{constructor(e){var t,r,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:Fk,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new Vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ns(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await TE(this,{idToken:e}),r=await Ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Fs(this));const t=e?rn(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zk(this),t=new jk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ok(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ns(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[Ns(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qs(n){return rn(n)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=J1(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uk(n){Gh=n}function OE(n){return Gh.loadJS(n)}function $k(){return Gh.recaptchaEnterpriseScript}function Hk(){return Gh.gapiScript}function qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Wk{constructor(){this.enterprise=new Gk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Kk="recaptcha-enterprise",ME="NO_RECAPTCHA";class Zk{constructor(e){this.type=Kk,this.auth=Qs(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{bk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new Ik(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,d(_.siteKey)}}).catch(p=>{f(p)})})}function o(l,d,f){const p=window.grecaptcha;Pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{d(_)}).catch(()=>{d(ME)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wk().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(f=>{if(!t&&Pv(window.grecaptcha))o(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$k();p.length!==0&&(p+=f),OE(p).then(()=>{o(f,l,d)}).catch(_=>{d(_)})}}).catch(f=>{d(f)})})}}async function Nv(n,e,t,r=!1,o=!1){const l=new Zk(n);let d;if(o)d=ME;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,_=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _h(n,e,t,r,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Nv(n,e,t,t==="getOobCode");return r(n,d)}else return r(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Nv(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n,e){const t=Pm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Yd(l,e??{}))return o;Gr(o,"already-initialized")}return t.initialize({options:e})}function Yk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ns);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xk(n,e,t){const r=Qs(n);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=DE(e),{host:d,port:f}=Jk(e),p=f===null?"":`:${f}`;r.config.emulator={url:`${l}//${d}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),e2()}function DE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jk(n){const e=DE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:Ov(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:Ov(d)}}}function Ov(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function e2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,t){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function t2(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e){return Ic(n,"POST","/v1/accounts:signInWithPassword",Zs(n,e))}async function r2(n,e){return Hi(n,"POST","/v1/accounts:sendOobCode",Zs(n,e))}async function i2(n,e){return r2(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",Zs(n,e))}async function o2(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends vg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new hc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,t,"signInWithPassword",n2);case"emailLink":return s2(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",t2);case"emailLink":return o2(e,{idToken:t,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e){return Ic(n,"POST","/v1/accounts:signInWithIdp",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="http://localhost";class Qa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,l=fg(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Qa(r,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Gl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){const e={requestUri:a2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_c(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u2(n){const e=Hu(qu(n)).link,t=e?Hu(qu(e)).deep_link_id:null,r=Hu(qu(n)).deep_link_id;return(r?Hu(qu(r)).link:null)||r||t||e||n}class wg{constructor(e){var t,r,o,l,d,f;const p=Hu(qu(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(r=p.oobCode)!==null&&r!==void 0?r:null,x=l2((o=p.mode)!==null&&o!==void 0?o:null);Ge(_&&w&&x,"argument-error"),this.apiKey=_,this.operation=x,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=u2(e);try{return new wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wg.parseLink(t);return Ge(r,"argument-error"),hc._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends bc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ks.credential(t,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends bc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends bc{constructor(){super("twitter.com")}static credential(e,t){return Qa._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xo.credential(t,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e){return Ic(n,"POST","/v1/accounts:signUp",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Ls._fromIdTokenResponse(e,r,o),d=Mv(r);return new Ya({user:l,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Mv(r);return new Ya({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Mv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Gs{constructor(e,t,r,o){var l;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new yh(e,t,r,o)}}function VE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(n,l,e,r):l})}async function d2(n,e,t=!1){const r=await ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ya._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n,e,t=!1){const{auth:r}=n;if(hi(r.app))return Promise.reject(Fs(r));const o="reauthenticate";try{const l=await ru(n,VE(r,o,e,n),t);Ge(l.idToken,r,"internal-error");const d=_g(l.idToken);Ge(d,r,"internal-error");const{sub:f}=d;return Ge(n.uid===f,r,"user-mismatch"),Ya._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(n,e,t=!1){if(hi(n.app))return Promise.reject(Fs(n));const r="signIn",o=await VE(n,r,e),l=await Ya._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(l.user),l}async function f2(n,e){return zE(Qs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(n){const e=Qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p2(n,e,t){const r=Qs(n);await _h(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",i2)}async function m2(n,e,t){if(hi(n.app))return Promise.reject(Fs(n));const r=Qs(n),d=await _h(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FE(n),p}),f=await Ya._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(f.user),f}function g2(n,e,t){return hi(n.app)?Promise.reject(Fs(n)):f2(rn(n),hu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e){return Hi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=rn(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await ru(r,_2(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const f=r.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function y2(n,e,t,r){return rn(n).onIdTokenChanged(e,t,r)}function v2(n,e,t){return rn(n).beforeAuthStateChanged(e,t)}function BE(n,e,t,r){return rn(n).onAuthStateChanged(e,t,r)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1e3,E2=10;class $E extends UE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);Dk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const T2=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends UE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const qE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(d).map(async _=>_(t.origin,l)),p=await x2(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,p)=>{const _=Tg("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const b=x;if(b.data.eventId===_)switch(b.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function I2(n){Ui().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function b2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C2(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",A2=1,wh="firebaseLocalStorage",KE="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(n,e){return n.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function k2(){const n=indexedDB.deleteDatabase(GE);return new Pc(n).toPromise()}function cm(){const n=indexedDB.open(GE,A2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wh,{keyPath:KE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await k2(),e(await cm()))})})}async function Dv(n,e,t){const r=Zh(n,!0).put({[KE]:e,value:t});return new Pc(r).toPromise()}async function R2(n,e){const t=Zh(n,!1).get(e),r=await new Pc(t).toPromise();return r===void 0?null:r.value}function Vv(n,e){const t=Zh(n,!0).delete(e);return new Pc(t).toPromise()}const L2=800,N2=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>N2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(C2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await Dv(e,vh,"1"),await Vv(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>R2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Zh(o,!1).getAll();return new Pc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const O2=ZE;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e){return e?Ns(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M2(n){return zE(n.auth,new xg(n),n.bypassAuthState)}function D2(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),h2(t,new xg(n),n.bypassAuthState)}async function V2(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),d2(t,new xg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Gr(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Sc(2e3,1e4);async function F2(n,e,t){if(hi(n.app))return Promise.reject(fi(n,"operation-not-supported-in-this-environment"));const r=Qs(n);_k(n,e,Eg);const o=QE(r,t);return new qa(r,"signInViaPopup",e,o).executeNotNull()}class qa extends YE{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z2.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="pendingRedirect",Gd=new Map;class B2 extends YE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(n,e){const t=q2(e),r=H2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function $2(n,e){Gd.set(n._key(),e)}function H2(n){return Ns(n._redirectPersistence)}function q2(n){return Wd(j2,n.config.apiKey,n.name)}async function W2(n,e,t=!1){if(hi(n.app))return Promise.reject(Fs(n));const r=Qs(n),o=QE(r,e),d=await new B2(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=10*60*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function J2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Q2(n);for(const t of e)try{if(eR(t))return}catch{}Gr(n,"unauthorized-domain")}function eR(n){const e=lm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!X2.test(t))return!1;if(Y2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Sc(3e4,6e4);function Fv(){const n=Ui().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nR(n){return new Promise((e,t)=>{var r,o,l;function d(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),t(fi(n,"network-request-failed"))},timeout:tR.get()})}if(!((o=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ui().gapi)===null||l===void 0)&&l.load)d();else{const f=qk("iframefcb");return Ui()[f]=()=>{gapi.load?d():t(fi(n,"network-request-failed"))},OE(`${Hk()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function rR(n){return Kd=Kd||nR(n),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Sc(5e3,15e3),sR="__/auth/iframe",oR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gg(e,oR):`https://${n.config.authDomain}/${sR}`,r={apiKey:e.apiKey,appName:n.name,v:au},o=lR.get(n.config.apiHost);o&&(r.eid=o);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${_c(r).slice(1)}`}async function cR(n){const e=await rR(n),t=Ui().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:uR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const d=fi(n,"network-request-failed"),f=Ui().setTimeout(()=>{l(d)},iR.get());function p(){Ui().clearTimeout(f),o(r)}r.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hR=500,fR=600,pR="_blank",mR="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gR(n,e,t,r=hR,o=fR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},dR),{width:r.toString(),height:o.toString(),top:l,left:d}),_=On().toLowerCase();t&&(f=PE(_)?pR:t),IE(_)&&(e=e||mR,p.scrollbars="yes");const w=Object.entries(p).reduce((b,[A,M])=>`${b}${A}=${M},`,"");if(Mk(_)&&f!=="_self")return _R(e||"",f),new jv(null);const x=window.open(e||"",f,w);Ge(x,n,"popup-blocked");try{x.focus()}catch{}return new jv(x)}function _R(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="__/auth/handler",vR="emulator/auth/handler",wR=encodeURIComponent("fac");async function Bv(n,e,t,r,o,l){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:au,eventId:o};if(e instanceof Eg){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",X1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(e instanceof bc){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),_=p?`#${wR}=${encodeURIComponent(p)}`:"";return`${ER(n)}?${_c(f).slice(1)}${_}`}function ER({config:n}){return n.emulator?gg(n,vR):`https://${n.authDomain}/${yR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=W2,this._overrideRedirectResult=$2}async _openPopup(e,t,r,o){var l;Hs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await Bv(e,t,r,lm(),o);return gR(e,d,Tg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await Bv(e,t,r,lm(),o);return I2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Hs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cR(e),r=new K2(e);return t.register("authEvent",o=>(Ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Op];d!==void 0&&t(!!d),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LE()||bE()||yg()}}const xR=TR;var Uv="@firebase/auth",$v="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(n){Kl(new Ga("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;Ge(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(n)},_=new Bk(r,o,l,p);return Yk(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Kl(new Ga("auth-internal",e=>{const t=Qs(e.getProvider("auth").getImmediate());return(r=>new SR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(Uv,$v,IR(n)),ra(Uv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=5*60,CR=hw("authIdTokenMaxAge")||PR;let Hv=null;const AR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>CR)return;const o=t==null?void 0:t.token;Hv!==o&&(Hv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _i(n=gw()){const e=Pm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Qk(n,{popupRedirectResolver:xR,persistence:[O2,T2,qE]}),r=hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const d=AR(l.toString());v2(t,d,()=>d(t.currentUser)),y2(t,f=>d(f))}}const o=cw("auth");return o&&Xk(t,`http://${o}`),t}function kR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Uk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const l=fi("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",kR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");function JE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=JE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Wa(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=JE(n))&&(r&&(r+=" "),r+=e);return r}function RR(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}RR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cc=n=>typeof n=="number"&&!isNaN(n),Xa=n=>typeof n=="string",qs=n=>typeof n=="function",LR=n=>Xa(n)||Cc(n),dm=n=>Xa(n)||qs(n)?n:null,NR=(n,e)=>n===!1||Cc(n)&&n>0?n:e,hm=n=>G.isValidElement(n)||Xa(n)||qs(n)||Cc(n);function OR(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function MR({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:l,position:d,preventExitTransition:f,done:p,nodeRef:_,isIn:w,playToast:x}){let b=t?`${n}--${d}`:n,A=t?`${e}--${d}`:e,M=G.useRef(0);return G.useLayoutEffect(()=>{let V=_.current,H=b.split(" "),j=N=>{N.target===_.current&&(x(),V.removeEventListener("animationend",j),V.removeEventListener("animationcancel",j),M.current===0&&N.type!=="animationcancel"&&V.classList.remove(...H))};V.classList.add(...H),V.addEventListener("animationend",j),V.addEventListener("animationcancel",j)},[]),G.useEffect(()=>{let V=_.current,H=()=>{V.removeEventListener("animationend",H),r?OR(V,p,o):p()};w||(f?H():(M.current=1,V.className+=` ${A}`,V.addEventListener("animationend",H)))},[w]),Fe.createElement(Fe.Fragment,null,l)}}function qv(n,e){return{content:eT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function eT(n,e,t=!1){return G.isValidElement(n)&&!Xa(n.type)?G.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):qs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function DR({closeToast:n,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VR({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:l,controlledProgress:d,progress:f,rtl:p,isIn:_,theme:w}){let x=o||d&&f===0,b={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};d&&(b.transform=`scaleX(${f})`);let A=Wa("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),M=qs(l)?l({rtl:p,type:r,defaultClassName:A}):Wa(A,l),V={[d&&f>=1?"onTransitionEnd":"onAnimationEnd"]:d&&f<1?null:()=>{_&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:M,style:b,...V}))}var zR=1,tT=()=>`${zR++}`;function FR(n,e,t){let r=1,o=0,l=[],d=[],f=e,p=new Map,_=new Set,w=N=>(_.add(N),()=>_.delete(N)),x=()=>{d=Array.from(p.values()),_.forEach(N=>N())},b=({containerId:N,toastId:B,updateId:Z})=>{let J=N?N!==n:n!==1,ce=p.has(B)&&Z==null;return J||ce},A=(N,B)=>{p.forEach(Z=>{var J;(B==null||B===Z.props.toastId)&&((J=Z.toggle)==null||J.call(Z,N))})},M=N=>{var B,Z;(Z=(B=N.props)==null?void 0:B.onClose)==null||Z.call(B,N.removalReason),N.isActive=!1},V=N=>{if(N==null)p.forEach(M);else{let B=p.get(N);B&&M(B)}x()},H=()=>{o-=l.length,l=[]},j=N=>{var B,Z;let{toastId:J,updateId:ce}=N.props,U=ce==null;N.staleId&&p.delete(N.staleId),N.isActive=!0,p.set(J,N),x(),t(qv(N,U?"added":"updated")),U&&((Z=(B=N.props).onOpen)==null||Z.call(B))};return{id:n,props:f,observe:w,toggle:A,removeToast:V,toasts:p,clearQueue:H,buildToast:(N,B)=>{if(b(B))return;let{toastId:Z,updateId:J,data:ce,staleId:U,delay:O}=B,R=J==null;R&&o++;let F={...f,style:f.toastStyle,key:r++,...Object.fromEntries(Object.entries(B).filter(([q,D])=>D!=null)),toastId:Z,updateId:J,data:ce,isIn:!1,className:dm(B.className||f.toastClassName),progressClassName:dm(B.progressClassName||f.progressClassName),autoClose:B.isLoading?!1:NR(B.autoClose,f.autoClose),closeToast(q){p.get(Z).removalReason=q,V(Z)},deleteToast(){let q=p.get(Z);if(q!=null){if(t(qv(q,"removed")),p.delete(Z),o--,o<0&&(o=0),l.length>0){j(l.shift());return}x()}}};F.closeButton=f.closeButton,B.closeButton===!1||hm(B.closeButton)?F.closeButton=B.closeButton:B.closeButton===!0&&(F.closeButton=hm(f.closeButton)?f.closeButton:!0);let $={content:N,props:F,staleId:U};f.limit&&f.limit>0&&o>f.limit&&R?l.push($):Cc(O)?setTimeout(()=>{j($)},O):j($)},setProps(N){f=N},setToggle:(N,B)=>{let Z=p.get(N);Z&&(Z.toggle=B)},isToastActive:N=>{var B;return(B=p.get(N))==null?void 0:B.isActive},getSnapshot:()=>d}}var Un=new Map,fc=[],fm=new Set,jR=n=>fm.forEach(e=>e(n)),nT=()=>Un.size>0;function BR(){fc.forEach(n=>iT(n.content,n.options)),fc=[]}var UR=(n,{containerId:e})=>{var t;return(t=Un.get(e||1))==null?void 0:t.toasts.get(n)};function rT(n,e){var t;if(e)return!!((t=Un.get(e))!=null&&t.isToastActive(n));let r=!1;return Un.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function $R(n){if(!nT()){fc=fc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||LR(n))Un.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Un.get(n.containerId);e?e.removeToast(n.id):Un.forEach(t=>{t.removeToast(n.id)})}}var HR=(n={})=>{Un.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function iT(n,e){hm(n)&&(nT()||fc.push({content:n,options:e}),Un.forEach(t=>{t.buildToast(n,e)}))}function qR(n){var e;(e=Un.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function sT(n,e){Un.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function WR(n){let e=n.containerId||1;return{subscribe(t){let r=FR(e,n,jR);Un.set(e,r);let o=r.observe(t);return BR(),()=>{o(),Un.delete(e)}},setProps(t){var r;(r=Un.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Un.get(e))==null?void 0:t.getSnapshot()}}}function GR(n){return fm.add(n),()=>{fm.delete(n)}}function KR(n){return n&&(Xa(n.toastId)||Cc(n.toastId))?n.toastId:tT()}function Ac(n,e){return iT(n,e),e.toastId}function Qh(n,e){return{...e,type:e&&e.type||n,toastId:KR(e)}}function Yh(n){return(e,t)=>Ac(e,Qh(n,t))}function $e(n,e){return Ac(n,Qh("default",e))}$e.loading=(n,e)=>Ac(n,Qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ZR(n,{pending:e,error:t,success:r},o){let l;e&&(l=Xa(e)?$e.loading(e,o):$e.loading(e.render,{...o,...e}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(_,w,x)=>{if(w==null){$e.dismiss(l);return}let b={type:_,...d,...o,data:x},A=Xa(w)?{render:w}:w;return l?$e.update(l,{...b,...A}):$e(A.render,{...b,...A}),x},p=qs(n)?n():n;return p.then(_=>f("success",r,_)).catch(_=>f("error",t,_)),p}$e.promise=ZR;$e.success=Yh("success");$e.info=Yh("info");$e.error=Yh("error");$e.warning=Yh("warning");$e.warn=$e.warning;$e.dark=(n,e)=>Ac(n,Qh("default",{theme:"dark",...e}));function QR(n){$R(n)}$e.dismiss=QR;$e.clearWaitingQueue=HR;$e.isActive=rT;$e.update=(n,e={})=>{let t=UR(n,e);if(t){let{props:r,content:o}=t,l={delay:100,...r,...e,toastId:e.toastId||n,updateId:tT()};l.toastId!==n&&(l.staleId=n);let d=l.render||o;delete l.render,Ac(d,l)}};$e.done=n=>{$e.update(n,{progress:1})};$e.onChange=GR;$e.play=n=>sT(!0,n);$e.pause=n=>sT(!1,n);function YR(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=G.useRef(WR(n)).current;o(n);let l=(e=G.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function d(f){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(_=>{let{position:w}=_.props;p.has(w)||p.set(w,[]),p.get(w).push(_)}),Array.from(p,_=>f(_[0],_[1]))}return{getToastToRender:d,isToastActive:rT,count:l==null?void 0:l.length}}function XR(n){let[e,t]=G.useState(!1),[r,o]=G.useState(!1),l=G.useRef(null),d=G.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:_,onClick:w,closeOnClick:x}=n;qR({id:n.toastId,containerId:n.containerId,fn:t}),G.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{A()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||j(),window.addEventListener("focus",H),window.addEventListener("blur",j)}function A(){window.removeEventListener("focus",H),window.removeEventListener("blur",j)}function M(U){if(n.draggable===!0||n.draggable===U.pointerType){N();let O=l.current;d.canCloseOnClick=!0,d.canDrag=!0,O.style.transition="none",n.draggableDirection==="x"?(d.start=U.clientX,d.removalDistance=O.offsetWidth*(n.draggablePercent/100)):(d.start=U.clientY,d.removalDistance=O.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function V(U){let{top:O,bottom:R,left:F,right:$}=l.current.getBoundingClientRect();U.nativeEvent.type!=="touchend"&&n.pauseOnHover&&U.clientX>=F&&U.clientX<=$&&U.clientY>=O&&U.clientY<=R?j():H()}function H(){t(!0)}function j(){t(!1)}function N(){d.didMove=!1,document.addEventListener("pointermove",Z),document.addEventListener("pointerup",J)}function B(){document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",J)}function Z(U){let O=l.current;if(d.canDrag&&O){d.didMove=!0,e&&j(),n.draggableDirection==="x"?d.delta=U.clientX-d.start:d.delta=U.clientY-d.start,d.start!==U.clientX&&(d.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;O.style.transform=`translate3d(${R},0)`,O.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function J(){B();let U=l.current;if(d.canDrag&&d.didMove&&U){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}U.style.transition="transform 0.2s, opacity 0.2s",U.style.removeProperty("transform"),U.style.removeProperty("opacity")}}let ce={onPointerDown:M,onPointerUp:V};return f&&p&&(ce.onMouseEnter=j,n.stacked||(ce.onMouseLeave=H)),x&&(ce.onClick=U=>{w&&w(U),d.canCloseOnClick&&_(!0)}),{playToast:H,pauseToast:j,isRunning:e,preventExitTransition:r,toastRef:l,eventHandlers:ce}}var JR=typeof window<"u"?G.useLayoutEffect:G.useEffect,Xh=({theme:n,type:e,isLoading:t,...r})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function eL(n){return Fe.createElement(Xh,{...n},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tL(n){return Fe.createElement(Xh,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nL(n){return Fe.createElement(Xh,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function rL(n){return Fe.createElement(Xh,{...n},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function iL(){return Fe.createElement("div",{className:"Toastify__spinner"})}var pm={info:tL,warning:eL,success:nL,error:rL,spinner:iL},sL=n=>n in pm;function oL({theme:n,type:e,isLoading:t,icon:r}){let o=null,l={theme:n,type:e};return r===!1||(qs(r)?o=r({...l,isLoading:t}):G.isValidElement(r)?o=G.cloneElement(r,l):t?o=pm.spinner():sL(e)&&(o=pm[e](l))),o}var aL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:l}=XR(n),{closeButton:d,children:f,autoClose:p,onClick:_,type:w,hideProgressBar:x,closeToast:b,transition:A,position:M,className:V,style:H,progressClassName:j,updateId:N,role:B,progress:Z,rtl:J,toastId:ce,deleteToast:U,isIn:O,isLoading:R,closeOnClick:F,theme:$,ariaLabel:q}=n,D=Wa("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":F}),_e=qs(V)?V({rtl:J,position:M,type:w,defaultClassName:D}):Wa(D,V),Ae=oL(n),Me=!!Z||!p,ze={closeToast:b,type:w,theme:$},ee=null;return d===!1||(qs(d)?ee=d(ze):G.isValidElement(d)?ee=G.cloneElement(d,ze):ee=DR(ze)),Fe.createElement(A,{isIn:O,done:U,position:M,preventExitTransition:t,nodeRef:r,playToast:l},Fe.createElement("div",{id:ce,tabIndex:0,onClick:_,"data-in":O,className:_e,...o,style:H,ref:r,...O&&{role:B,"aria-label":q}},Ae!=null&&Fe.createElement("div",{className:Wa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Ae),eT(f,n,!e),ee,!n.customProgressBar&&Fe.createElement(VR,{...N&&!Me?{key:`p-${N}`}:{},rtl:J,theme:$,delay:p,isRunning:e,isIn:O,closeToast:b,hide:x,type:w,className:j,controlledProgress:Me,progress:Z||0})))},lL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),oT=MR(lL("bounce",!0)),uL={position:"top-right",transition:oT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function cL(n){let e={...uL,...n},t=n.stacked,[r,o]=G.useState(!0),l=G.useRef(null),{getToastToRender:d,isToastActive:f,count:p}=YR(e),{className:_,style:w,rtl:x,containerId:b,hotKeys:A}=e;function M(H){let j=Wa("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":x});return qs(_)?_({position:H,rtl:x,defaultClassName:j}):Wa(j,dm(_))}function V(){t&&(o(!0),$e.play())}return JR(()=>{var H;if(t){let j=l.current.querySelectorAll('[data-in="true"]'),N=12,B=(H=e.position)==null?void 0:H.includes("top"),Z=0,J=0;Array.from(j).reverse().forEach((ce,U)=>{let O=ce;O.classList.add("Toastify__toast--stacked"),U>0&&(O.dataset.collapsed=`${r}`),O.dataset.pos||(O.dataset.pos=B?"top":"bot");let R=Z*(r?.2:1)+(r?0:N*U);O.style.setProperty("--y",`${B?R:R*-1}px`),O.style.setProperty("--g",`${N}`),O.style.setProperty("--s",`${1-(r?J:0)}`),Z+=O.offsetHeight,J+=.025})}},[r,p,t]),G.useEffect(()=>{function H(j){var N;let B=l.current;A(j)&&((N=B.querySelector('[tabIndex="0"]'))==null||N.focus(),o(!1),$e.pause()),j.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(o(!0),$e.play())}return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[A]),Fe.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{t&&(o(!1),$e.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},d((H,j)=>{let N=j.length?{...w}:{...w,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:M(H),"data-stacked":t,style:N,key:`c-${H}`},j.map(({content:B,props:Z})=>Fe.createElement(aL,{...Z,stacked:t,collapseAll:V,isIn:f(Z.toastId,Z.containerId),key:`t-${Z.key}`},B)))}))}function dL(n){return Zr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function hL(n){return Zr({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#E8EAF6",points:"42,39 6,39 6,23 24,6 42,23"},child:[]},{tag:"g",attr:{fill:"#C5CAE9"},child:[{tag:"polygon",attr:{points:"39,21 34,16 34,9 39,9"},child:[]},{tag:"rect",attr:{x:"6",y:"39",width:"36",height:"5"},child:[]}]},{tag:"polygon",attr:{fill:"#B71C1C",points:"24,4.3 4,22.9 6,25.1 24,8.4 42,25.1 44,22.9"},child:[]},{tag:"rect",attr:{x:"18",y:"28",fill:"#D84315",width:"12",height:"16"},child:[]},{tag:"rect",attr:{x:"21",y:"17",fill:"#01579B",width:"6",height:"6"},child:[]},{tag:"path",attr:{fill:"#FF8A65",d:"M27.5,35.5c-0.3,0-0.5,0.2-0.5,0.5v2c0,0.3,0.2,0.5,0.5,0.5S28,38.3,28,38v-2C28,35.7,27.8,35.5,27.5,35.5z"},child:[]}]})(n)}function fL(){const n=_i(),e=vi(),[t,r]=G.useState(!1),[o,l]=G.useState(null),[d,f]=G.useState(!0),[p,_]=G.useState({name:n.currentUser.displayName,email:n.currentUser.email}),{name:w,email:x}=p;function b(){n.signOut(),e("/")}function A(j){_(N=>({...N,[j.target.id]:j.target.value}))}async function M(){try{if(n.currentUser.displayName!==w){await jE(n.currentUser,{displayName:w});const j=$s(Nn,"users",n.currentUser.uid);await H0(j,{name:w})}$e.success("profile details updated")}catch{$e.error("could not update the profile details")}}G.useEffect(()=>{async function j(){const N=ji(Nn,"listings"),B=Ds(N,oa("userRef","==",n.currentUser.uid),Vs("timestamp","desc")),Z=await zs(B);let J=[];Z.forEach(ce=>{J.push({id:ce.id,data:ce.data()})}),console.log("Fetched Listings:",J),l(J),f(!1)}j()},[n.currentUser.uid]);async function V(j){if(window.confirm("Are you sure you want to delete")){await gC($s(Nn,"listings",j));const N=o.filter(B=>B.id!==j);l(N),$e.success("Listing deleted successfully")}}function H(j){e(`/edit-listing/${j}`)}return C.jsxs("div",{children:[C.jsxs("section",{className:`max-w-6xl mx-auto flex justify-center items-center\r
        flex-col`,children:[C.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"My Profile"}),C.jsxs("div",{className:"w-full md:w-[50%] mt-6 px-3",children:[C.jsxs("form",{children:[C.jsx("input",{type:"text",id:"name",value:w,disabled:!t,onChange:A,className:`mb-6
                  w-full px-4 py-2 text-xl text-gray-700 bg-white border
                  border-gray-300 rounded transition ease-in-out"
                  ${t&&"bg-red-200 focus:bg-red-200"}`}),C.jsx("input",{type:"email",id:"email",value:x,disabled:!0,className:` mb-6\r
                  w-full px-4 py-2 text-xl text-gray-700 bg-white border\r
                  border-gray-300 rounded transition ease-in-out `}),C.jsxs("div",{className:`flex justify-between whitespace-nowrap text-sm sm:text-lg\r
                   mb-6`,children:[C.jsxs("p",{className:"flex items-center",children:["Do you want to change your name?",C.jsx("span",{onClick:()=>{t&&M(),r(j=>!j)},className:`text-red-600 hover:text-red-700 \r
                       transition ease-in-out duration-200 ml-1 mr-3 cursor-pointer`,children:t?"Apply change":"Edit"})]}),C.jsx("p",{onClick:b,className:`text-blue-600 hover:text-blue-800 \r
                    transition ease-in-out duration-200 cursor-pointer `,children:"sign out"})]})]}),C.jsx("button",{type:"submit",className:`w-full bg-blue-600 text-white\r
					uppercase px-7 py-3 text-sm font-medium rounded \r
					shadow-md hover:bg-blue-700 transition duration-150 ease-in-out\r
					hover:shadow-lg active:bg-blue-800`,children:C.jsxs(Pr,{to:"/create-listing",className:"flex justify-center items-center",children:[C.jsx(hL,{className:"mr-2 text-3xl bg-red-200 rounded-full p-1 border-2"}),"Sell or rent your home"]})})]})]}),C.jsx("div",{className:"max-w-6xl px-3 mx-auto mt-6",children:!d&&Array.isArray(o)&&o.length>0?C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl text-center font-semibold mb-6 mt-6",children:"My Listings"}),C.jsx("ul",{className:`sm:grid sm:grid-cols-2 lg:grid-cols-3\r
						xl:grid-cols-4 2xl:grid-cols-5 mt-6 mb-6`,children:o.map(j=>C.jsx(Hl,{id:j.id,listing:j.data,onDelete:()=>V(j.id),onEdit:()=>H(j.id)},j.id))})]}):!d&&C.jsx("p",{className:"text-center",children:"No listings available."})})]})}function pL(){const[n,e]=G.useState([]),[t,r]=G.useState(!0),[o,l]=G.useState(null);G.useEffect(()=>{async function f(){try{const p=ji(Nn,"listings"),_=Ds(p,oa("offer","==",!0),Vs("timestamp","desc"),aa(10)),w=await zs(_);if(!w.empty){const b=w.docs[w.docs.length-1];l(b)}const x=w.docs.map(b=>({id:b.id,data:b.data()}));e(x),r(!1)}catch{$e.error("Error fetching listings")}}f()},[]);async function d(){try{if(!o)return;const f=ji(Nn,"listings"),p=Ds(f,oa("offer","==",!0),Vs("timestamp","desc"),z0(o),aa(4)),_=await zs(p);if(!_.empty){const x=_.docs[_.docs.length-1];l(x)}const w=_.docs.map(x=>({id:x.id,data:x.data()}));e(x=>[...x,...w])}catch{$e.error("Error fetching more listings")}}return C.jsxs("div",{className:"max-w-6xl mx-auto px-3",children:[C.jsx("h1",{className:"text-3xl text-center mt-6 font-bold mb-6",children:"Offers"}),t?C.jsx(rl,{}):n.length>0?C.jsxs(C.Fragment,{children:[C.jsx("main",{children:C.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:n.map(f=>C.jsx(Hl,{listing:f.data,id:f.id},f.id))})}),o&&C.jsx("div",{className:"flex justify-center items-center mt-6",children:C.jsx("button",{onClick:d,className:"bg-white px-3 py-1.5 text-gray-700 border border-gray-300 hover:border-slate-600 rounded transition duration-150 ease-in-out mb-10",children:"Load more"})})]}):C.jsx("p",{children:"There are no current offers"})]})}function Sg(){const n=vi();async function e(){try{const t=_i(),r=new ks,l=(await F2(t,r)).user,d=$s(Nn,"users",l.uid);(await Hh(d)).exists()||await $0(d,{name:l.displayName,email:l.email,timestamp:Wh()}),n("/")}catch{$e.error("could not authorize with Google")}}return C.jsxs("button",{type:"button",onClick:e,className:`flex items-center justify-center w-full\r
    bg-red-700 text-white px-7 py-3 uppercase text-sm\r
    font-medium hover:bg-red-800 active:bg-red-900\r
    shadow-md hover:shadow-lg active:shadow-lg\r
    transition duration-150 ease-in-out rounded`,children:[C.jsx(dL,{className:`text-2xl bg-white rounded-full\r
      mr-2`}),"continue with Google"]})}function mL(){const n=vi(),[e,t]=G.useState(!1),[r,o]=G.useState({email:"",password:""}),{email:l,password:d}=r;function f(_){o(w=>({...w,[_.target.id]:_.target.value}))}async function p(_){_.preventDefault();try{const w=_i();(await g2(w,l,d)).user&&n("/")}catch{$e.error("Bad user credentials")}}return C.jsxs("section",{children:[C.jsx("h1",{className:`text-3xl text-center mt-6 font-bold\r
       `,children:"Sign In"}),C.jsxs("div",{className:`flex justify-center flex-wrap items-center\r
       px-6 py-12 max-w-6xl mx-auto`,children:[C.jsx("div",{className:`md:w-[67%] lg:w-[50%] mb-12\r
        md:mb-6`,children:C.jsx("img",{src:"https://media.istockphoto.com/id/2163352281/photo/securing-cybersecurity-a-businesswoman-protecting-personal-data-preventing-online-theft.webp?a=1&b=1&s=612x612&w=0&k=20&c=8LpYEXeqJJ0cnLe3_f2rDCby7T7NsAtwkG3_ZuprUnI=",alt:"sign-in image",className:"w-full rounded-2xl"})}),C.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:C.jsxs("form",{onSubmit:p,children:[C.jsx("input",{type:"email",id:"email",value:l,onChange:f,placeholder:"Email address",className:` mb-6 w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),C.jsxs("div",{className:"relative mb-6",children:[C.jsx("input",{type:e?"text":"password",id:"password",value:d,onChange:f,placeholder:"password",className:`w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),e?C.jsx(pE,{className:"absolute right-3 top-3 text-lg cursor-pointer",onClick:()=>t(_=>!_)}):C.jsx(mE,{className:"absolute right-3 top-3 text-lg cursor-pointer",onClick:()=>t(_=>!_)})]}),C.jsxs("div",{className:`flex justify-between  whitespace-nowrap\r
            text-sm sm:text-lg`,children:[C.jsxs("p",{className:"mb-6 ",children:["Don't have an account?",C.jsx(Pr,{to:"/sign-up",className:`text-red-600\r
                hover:text-red-700 transition duration-200 ease-in-out mr-5`,children:"Register"})]}),C.jsx("p",{children:C.jsx(Pr,{to:"/forgot-password",className:`text-blue-600\r
                 hover:text-blue-800 transition duration-200 ease-in-out `,children:"Forgot Password?"})})]}),C.jsx("button",{className:`w-full bg-blue-600 text-white \r
              px-7 py-3 text-sm font-medium uppercase rounded \r
              shadow-m hover:bg-blue-700 transition duration-100 ease-in-out shadow-lg\r
              active:bg-blue-800`,type:"submit",children:"Sign In"}),C.jsx("div",{className:`my-4 before:border-t flex before:flex-1 items-center before:border-gray-300\r
              after:border-t  after:flex-1 after:border-gray-300`,children:C.jsx("p",{className:"text-center font-semibold mx-4",children:"OR"})}),C.jsx(Sg,{})]})})]})]})}function gL(){const[n,e]=G.useState(!1),[t,r]=G.useState({name:"",email:"",password:""}),{name:o,email:l,password:d}=t,f=vi();function p(w){r(x=>({...x,[w.target.id]:w.target.value}))}async function _(w){w.preventDefault();try{const x=_i(),b=await m2(x,l,d);jE(x.currentUser,{displayName:o});const A=b.user;console.log(A);const M={...t};delete M.password,M.timestamp=Wh(),await $0($s(Nn,"users",A.uid),M),f("/")}catch{$e.error("something went wrong with registration")}}return C.jsxs("section",{children:[C.jsx("h1",{className:`text-3xl text-center mt-6 font-bold\r
       `,children:"Sign Up"}),C.jsxs("div",{className:`flex justify-center flex-wrap items-center\r
       px-6 py-12 max-w-6xl mx-auto`,children:[C.jsx("div",{className:`md:w-[67%] lg:w-[50%] mb-12\r
        md:mb-6`,children:C.jsx("img",{src:"https://media.istockphoto.com/id/2163352281/photo/securing-cybersecurity-a-businesswoman-protecting-personal-data-preventing-online-theft.webp?a=1&b=1&s=612x612&w=0&k=20&c=8LpYEXeqJJ0cnLe3_f2rDCby7T7NsAtwkG3_ZuprUnI=",alt:"sign-in image",className:"w-full rounded-2xl"})}),C.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:C.jsxs("form",{onSubmit:_,children:[C.jsx("input",{type:"text",id:"name",value:o,onChange:p,placeholder:" Full Name",className:` mb-6 w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),C.jsx("input",{type:"email",id:"email",value:l,onChange:p,placeholder:"Email address",className:` mb-6 w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),C.jsxs("div",{className:"relative mb-6",children:[C.jsx("input",{type:n?"text":"password",id:"password",value:d,onChange:p,placeholder:"password",className:`w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),n?C.jsx(pE,{className:"absolute right-3 top-3 text-lg cursor-pointer",onClick:()=>e(w=>!w)}):C.jsx(mE,{className:"absolute right-3 top-3 text-lg cursor-pointer",onClick:()=>e(w=>!w)})]}),C.jsxs("div",{className:`flex justify-between whitespace-nowrap\r
            text-sm sm:text-lg`,children:[C.jsxs("p",{className:"mb-6 ",children:["have an account?",C.jsx(Pr,{to:"/sign-in",className:`text-red-600\r
                hover:text-red-700 transition duration-200 ease-in-out ml-4`,children:"Sign In"})]}),C.jsx("p",{children:C.jsx(Pr,{to:"/forgot-password",className:`text-blue-600\r
                 hover:text-blue-800 transition duration-200 ease-in-out `,children:"Forgot Password?"})})]}),C.jsx("button",{className:`w-full bg-blue-600 text-white \r
              px-7 py-3 text-sm font-medium uppercase rounded \r
              shadow-m hover:bg-blue-700 transition duration-100 ease-in-out shadow-lg\r
              active:bg-blue-800`,type:"submit",children:"Sign Up"}),C.jsx("div",{className:`my-4 before:border-t flex before:flex-1 items-center before:border-gray-300\r
              after:border-t  after:flex-1 after:border-gray-300`,children:C.jsx("p",{className:"text-center font-semibold mx-4",children:"OR"})}),C.jsx(Sg,{})]})})]})]})}function _L(){const[n,e]=G.useState(!1),[t,r]=G.useState(!0);return G.useEffect(()=>{const o=_i();BE(o,l=>{l&&e(!0),r(!1)})},[]),{loggedIn:n,checkingStatus:t}}function Mp(){const{loggedIn:n,checkingStatus:e}=_L();return e?C.jsx(rl,{}):n?C.jsx(Gx,{}):C.jsx(Wx,{to:"/sign-in"})}function yL(){const[n,e]=G.useState("");function t(o){e(o.target.value)}async function r(o){o.preventDefault();try{const l=_i();await p2(l,n),$e.success("email was sent")}catch{$e.error("could not send reset password")}}return C.jsxs("section",{children:[C.jsx("h1",{className:`text-3xl text-center mt-6 font-bold\r
       `,children:"Forgot Password"}),C.jsxs("div",{className:`flex justify-center flex-wrap items-center\r
       px-6 py-12 max-w-6xl mx-auto`,children:[C.jsx("div",{className:`md:w-[67%] lg:w-[50%] mb-12\r
        md:mb-6`,children:C.jsx("img",{src:"https://img.freepik.com/free-photo/high-angle-defocused-wooden-cubes-with-password-laptop_23-2148578071.jpg?t=st=1737378869~exp=1737382469~hmac=f373338d928eedb983f371c56437e94b8bff22024705ba893370078c66c9ca04&w=996",alt:"sign-in image",className:"w-full rounded-2xl"})}),C.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:C.jsxs("form",{onSubmit:r,children:[C.jsx("input",{type:"email",id:"email",value:n,onChange:t,placeholder:"Email address",className:` mb-6 w-full px-4 py-2 text-xl text-gray-700\r
              bg-white border-gray-300 rounded transition ease-in-out`}),C.jsxs("div",{className:`flex justify-between whitespace-nowrap\r
            text-sm sm:text-lg`,children:[C.jsxs("p",{className:"mb-6 ",children:["Don't have an account?",C.jsx(Pr,{to:"/sign-up",className:`text-red-600\r
                hover:text-red-700 transition duration-200 ease-in-out ml-4`,children:"Register"})]}),C.jsx("p",{children:C.jsx(Pr,{to:"/sign-in",className:`text-blue-600\r
                 hover:text-blue-800 transition duration-200 ease-in-out `,children:"Sign in"})})]}),C.jsx("button",{className:`w-full bg-blue-600 text-white \r
              px-7 py-3 text-sm font-medium uppercase rounded \r
              shadow-m hover:bg-blue-700 transition duration-100 ease-in-out shadow-lg\r
              active:bg-blue-800`,type:"submit",children:"send reset password"}),C.jsx("div",{className:`my-4 before:border-t flex before:flex-1 items-center before:border-gray-300\r
              after:border-t  after:flex-1 after:border-gray-300`,children:C.jsx("p",{className:"text-center font-semibold mx-4",children:"OR"})}),C.jsx(Sg,{})]})})]})]})}function vL(){const[n,e]=G.useState("sign in"),t=Ws(),r=vi(),o=_i();G.useEffect(()=>{BE(o,d=>{e(d?"profile":"sign in")})},[o]);function l(d){if(d===t.pathname)return!0}return C.jsx("div",{className:"bg-white border-b shadow-sm sticky top-0 z-40",children:C.jsxs("header",{className:"flex justify-between items-center px-3 max-w-6xl mx-auto",children:[C.jsx("di",{children:C.jsx("img",{src:"https://i.postimg.cc/5tMS00N9/Realtor-logo.webp",alt:"logo",className:"h-20 cursor-pointer rounded-full m-6",onClick:()=>r("/")})}),C.jsx("div",{children:C.jsxs("ul",{className:"flex space-x-10",children:[C.jsx("li",{className:` cursor-pointer py-3 text-sm font-semibold text-gray-400
              border-b-[3px] border-transparent${l("/")&&"text-black border-b-red-500"} `,onClick:()=>r("/"),children:"Home"}),C.jsx("li",{className:` cursor-pointer py-3 text-sm font-semibold text-gray-400
              border-b-[3px] border-transparent${l("/offers")&&"text-black border-b-red-500"} `,onClick:()=>r("/offers"),children:"Offers"}),C.jsx("li",{className:`cursor-pointer py-3 text-sm font-semibold text-gray-400
              border-b-[3px] border-transparent${(l("/sign-in")||l("/profile"))&&"text-black border-b-red-500"} `,onClick:()=>r("/profile"),children:n})]})})]})})}function wL(){const n=vi(),[e,t]=G.useState(!1),[r,o]=G.useState(!1),[l,d]=G.useState({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",description:"",offer:!0,regularPrice:0,discountedPrice:0,latitude:0,longitude:0,images:[]}),{type:f,name:p,bedrooms:_,bathrooms:w,parking:x,furnished:b,address:A,description:M,offer:V,regularPrice:H,discountedPrice:j,latitude:N,longitude:B,images:Z}=l;function J(U){let O=null;U.target.value==="true"&&(O=!0),U.target.value==="false"&&(O=!1),U.target.files&&d(R=>({...R,images:Array.from(U.target.files)})),U.target.files||d(R=>({...R,[U.target.id]:O??U.target.value}))}async function ce(U){var q;if(U.preventDefault(),o(!0),+j>=+H){o(!1),$e.error("Discounted price must be less than regular price");return}if(Z.length>6){o(!1),$e.error("Maximum of 6 images allowed.");return}const O=_i(),R=(q=O.currentUser)==null?void 0:q.uid;if(!R){o(!1),$e.error("User not authenticated.");return}let F={};e||(F.lat=N,F.lng=B);const $=async D=>{const _e=new FormData;_e.append("file",D),_e.append("userId",R);const Ae=await fetch("http://localhost:3000/upload",{method:"POST",body:_e});if(!Ae.ok)throw new Error(`Failed to upload image: ${Ae.statusText}`);return(await Ae.json()).url};try{const D=await Promise.all(Z.map($));console.log("Uploaded image URLs:",D);const _e={...l,imageUrls:D,geoLocation:F,userId:R,timestamp:Wh(),userRef:O.currentUser.uid};delete _e.images,_e.offer||delete _e.discountedPrice;const Ae=Qm(),Me=await _C(ji(Ae,"listings"),_e),ze=await fetch("http://localhost:3000/listings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e)});if(!ze.ok)throw new Error("Failed to create listing.");const ee=await ze.json();console.log("Listing created:",ee),$e.success("Listing created successfully!"),n(`/category/${_e.type}  ${Me.id}`)}catch(D){console.error("Error:",D.message),$e.error(D.message)}finally{o(!1)}}return r?C.jsx(rl,{}):C.jsxs("main",{className:"max-w-md px-2 mx-auto",children:[C.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"Create a Listing "}),C.jsxs("form",{onSubmit:ce,children:[C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Sell / Rent"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"type",value:"sale",onClick:J,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${f==="rent"?"bg-white text-black":"bg-slate-600 text-white"}`,children:"sell"}),C.jsx("button",{type:"button",id:"type",value:"rent",onClick:J,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${f==="sale"?"bg-white text-black":"bg-slate-600 text-white"}`,children:"rent"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Name"}),C.jsx("input",{type:"text",id:"name",value:p,onChange:J,placeholder:"Name",maxLength:"32",minLength:"10",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 mb-6`}),C.jsxs("div",{className:"flex space-x-6 mb-6",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold",children:"Beds"}),C.jsx("input",{type:"number",id:"bedrooms",value:_,onChange:J,min:"1",max:"50",required:!0,className:` w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded\r
                       transition duration-150 ease-in-out focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]}),C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold",children:"Bath"}),C.jsx("input",{type:"number",id:"bathrooms",value:w,onChange:J,min:"1",max:"50",required:!0,className:` w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded\r
                       transition duration-150 ease-in-out focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"parking Spot"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"parking",value:!0,onClick:J,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${x?"bg-slate-600 text-white":"bg-white text-black"}`,children:"yes"}),C.jsx("button",{type:"button",id:"parking",value:!1,onClick:J,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${x?"bg-white text-black":"bg-slate-600 text-white"}`,children:"no"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Furnished"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"furnished",value:!0,onClick:J,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${b?"bg-slate-600 text-white":"bg-white text-black"}`,children:"yes"}),C.jsx("button",{type:"button",id:"furnished",value:!1,onClick:J,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${b?"bg-white text-black":"bg-slate-600 text-white"}`,children:"no"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Address"}),C.jsx("textarea",{type:"text",id:"address",value:A,onChange:J,placeholder:"Addresses",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`}),!e&&C.jsxs("div",{className:" flex space-x-6 justify-start mb-6",children:[C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"Latitude"}),C.jsx("input",{type:"number",id:"latitude",value:N,onChange:J,required:!0,min:"-90",max:"90",className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]}),C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg  font-semibold",children:"Longitude"}),C.jsx("input",{type:"number",id:"longitude",value:B,onChange:J,required:!0,min:"-180",max:"180",className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Description"}),C.jsx("textarea",{type:"text",id:"description",value:M,onChange:J,placeholder:"Descriptions",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 `}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Offer"}),C.jsxs("div",{className:"flex  mb-6",children:[C.jsx("button",{type:"button",id:"offer",value:!1,onClick:J,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${V?"bg-white text-black":"bg-slate-600 text-white"}`,children:"yes"}),C.jsx("button",{type:"button",id:"offer",value:!0,onClick:J,className:`  ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${V?"bg-slate-600 text-white":"bg-white text-black"}`,children:"no"})]}),C.jsx("div",{className:"flex items-center mb-6",children:C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"Regular Price"}),C.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[C.jsx("input",{type:"number",id:"regularPrice",value:H,onChange:J,min:"50",max:"400000000",required:!0,className:`w-full px-4 py-2 text-lg text-gray-700 bg-white\r
                          border border-gray-300 rounded transition duration-150\r
                          ease-in-out focus:text-gray-700 focus:bg-white\r
                          focus:border-slate-600 text-center`}),f==="rent"&&C.jsx("div",{className:"",children:C.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),V&&C.jsx("div",{className:"flex items-center mb-6",children:C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"discounted Price"}),C.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[C.jsx("input",{type:"number",id:"discountedPrice",value:j,onChange:J,min:"50",max:"400000000",required:V,className:`w-full px-4 py-2 text-lg text-gray-700 bg-white\r
                          border border-gray-300 rounded transition duration-150\r
                          ease-in-out focus:text-gray-700 focus:bg-white\r
                          focus:border-slate-600 text-center`}),f==="rent"&&C.jsx("div",{className:"",children:C.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),C.jsxs("div",{className:"mb-6",children:[C.jsx("p",{className:"text-lg font-semibold ",children:"Images"}),C.jsx("p",{className:"text-gray-600",children:"The first image will be the cover (max 6)"}),C.jsx("input",{type:"file",id:"images",onChange:J,accept:".jpg,.png,.jpeg",required:!0,multiple:!0,className:`w-full px-3 py-1.5 text-gray-700 bg-white\r
                    border border-gray-300 rounded transition duration-150 ease-in-out \r
                     focus:bg-white focus:border-slate-600`})]}),C.jsx("button",{type:"submit",className:`mb-6 w-full \r
                 px-7 py-3 bg-blue-600 text-white font-medium\r
                 text-sm uppercase rounded shadow-md hover:bg-blue-700\r
                 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg \r
                 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out`,children:"Create Listing"})]})]})}function EL(){const n=_i(),e=vi(),[t,r]=G.useState(!1),[o,l]=G.useState(!1),[d,f]=G.useState(null),[p,_]=G.useState({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",description:"",offer:!0,regularPrice:0,discountedPrice:0,latitude:0,longitude:0,images:[]}),{type:w,name:x,bedrooms:b,bathrooms:A,parking:M,furnished:V,address:H,description:j,offer:N,regularPrice:B,discountedPrice:Z,latitude:J,longitude:ce,images:U}=p,O=wm();G.useEffect(()=>{l(!0);async function $(){const q=$s(Nn,"listings",O.listingId),D=await Hh(q);D.exists()?(f(D.data()),_({...D.data()}),l(!1)):(e("/"),$e.error("Listing not found"))}$()},[e,O.listingId]),G.useEffect(()=>{d&&d.userRef!==n.currentUser.uid&&($e.error("you can't edit this listing"),e("/"))},[n.currentUser.uid,d,e]);function R($){let q=null;$.target.value==="true"&&(q=!0),$.target.value==="false"&&(q=!1),$.target.files&&_(D=>({...D,images:Array.from($.target.files)})),$.target.files||_(D=>({...D,[$.target.id]:q??$.target.value}))}async function F($){var Me;if($.preventDefault(),l(!0),N&&+Z>=+B){l(!1),$e.error("Discounted price must be less than regular price");return}if(U.length>6){l(!1),$e.error("Maximum of 6 images allowed.");return}const D=(Me=_i().currentUser)==null?void 0:Me.uid;if(!D){l(!1),$e.error("User not authenticated.");return}let _e={};t||(_e.lat=J,_e.lng=ce);const Ae=async ze=>{const ee=new FormData;ee.append("file",ze),ee.append("userId",D);const ye=await fetch("http://localhost:3000/upload",{method:"POST",body:ee});if(!ye.ok)throw new Error(`Failed to upload image: ${ye.statusText}`);return(await ye.json()).url};try{const ze=await Promise.all(U.map(Ae)),ee={...p,imageUrls:ze,geoLocation:_e,userId:D,timestamp:Wh()};delete ee.images,ee.offer||delete ee.discountedPrice;const ye=Qm(),ae=$s(ye,"listings",O.listingId);await H0(ae,ee),$e.success("Listing updated successfully!"),e(`/category/${ee.type}/${O.listingId}`)}catch(ze){console.error("Error:",ze.message),$e.error(ze.message)}finally{l(!1),e("/profile")}}return o?C.jsx(rl,{}):C.jsxs("main",{className:"max-w-md px-2 mx-auto",children:[C.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"Create a Listing "}),C.jsxs("form",{onSubmit:F,children:[C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Sell / Rent"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"type",value:"sale",onClick:R,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${w==="rent"?"bg-white text-black":"bg-slate-600 text-white"}`,children:"sell"}),C.jsx("button",{type:"button",id:"type",value:"rent",onClick:R,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${w==="sale"?"bg-white text-black":"bg-slate-600 text-white"}`,children:"rent"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Name"}),C.jsx("input",{type:"text",id:"name",value:x,onChange:R,placeholder:"Name",maxLength:"32",minLength:"10",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 mb-6`}),C.jsxs("div",{className:"flex space-x-6 mb-6",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold",children:"Beds"}),C.jsx("input",{type:"number",id:"bedrooms",value:b,onChange:R,min:"1",max:"50",required:!0,className:` w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded\r
                       transition duration-150 ease-in-out focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]}),C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold",children:"Bath"}),C.jsx("input",{type:"number",id:"bathrooms",value:A,onChange:R,min:"1",max:"50",required:!0,className:` w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded\r
                       transition duration-150 ease-in-out focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"parking Spot"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"parking",value:!0,onClick:R,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${M?"bg-slate-600 text-white":"bg-white text-black"}`,children:"yes"}),C.jsx("button",{type:"button",id:"parking",value:!1,onClick:R,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${M?"bg-white text-black":"bg-slate-600 text-white"}`,children:"no"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Furnished"}),C.jsxs("div",{className:"flex ",children:[C.jsx("button",{type:"button",id:"furnished",value:!0,onClick:R,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${V?"bg-slate-600 text-white":"bg-white text-black"}`,children:"yes"}),C.jsx("button",{type:"button",id:"furnished",value:!1,onClick:R,className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${V?"bg-white text-black":"bg-slate-600 text-white"}`,children:"no"})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Address"}),C.jsx("textarea",{type:"text",id:"address",value:H,onChange:R,placeholder:"Addresses",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`}),!t&&C.jsxs("div",{className:" flex space-x-6 justify-start mb-6",children:[C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"Latitude"}),C.jsx("input",{type:"number",id:"latitude",value:J,onChange:R,required:!0,min:"-90",max:"90",className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]}),C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg  font-semibold",children:"Longitude"}),C.jsx("input",{type:"number",id:"longitude",value:ce,onChange:R,required:!0,min:"-180",max:"180",className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 text-center`})]})]}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Description"}),C.jsx("textarea",{type:"text",id:"description",value:j,onChange:R,placeholder:"Descriptions",required:!0,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white\r
                border border-gray-300 rounded transition duration-150 ease-in-out\r
                focus:text-gray-700 focus:bg-white focus:border-slate-600 `}),C.jsx("p",{className:"text-lg mt-6 font-semibold ",children:"Offer"}),C.jsxs("div",{className:"flex  mb-6",children:[C.jsx("button",{type:"button",id:"offer",value:!1,onClick:R,className:` mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${N?"bg-white text-black":"bg-slate-600 text-white"}`,children:"yes"}),C.jsx("button",{type:"button",id:"offer",value:!0,onClick:R,className:`  ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md 
            rounded hover:shadow-lg focus:shadow-lg active:shadow-lg 
            transition-150 ease-in-out w-full ${N?"bg-slate-600 text-white":"bg-white text-black"}`,children:"no"})]}),C.jsx("div",{className:"flex items-center mb-6",children:C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"Regular Price"}),C.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[C.jsx("input",{type:"number",id:"regularPrice",value:B,onChange:R,min:"50",max:"400000000",required:!0,className:`w-full px-4 py-2 text-lg text-gray-700 bg-white\r
                          border border-gray-300 rounded transition duration-150\r
                          ease-in-out focus:text-gray-700 focus:bg-white\r
                          focus:border-slate-600 text-center`}),w==="rent"&&C.jsx("div",{className:"",children:C.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),N&&C.jsx("div",{className:"flex items-center mb-6",children:C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-lg font-semibold",children:"discounted Price"}),C.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[C.jsx("input",{type:"number",id:"discountedPrice",value:Z,onChange:R,min:"50",max:"400000000",required:N,className:`w-full px-4 py-2 text-lg text-gray-700 bg-white\r
                          border border-gray-300 rounded transition duration-150\r
                          ease-in-out focus:text-gray-700 focus:bg-white\r
                          focus:border-slate-600 text-center`}),w==="rent"&&C.jsx("div",{className:"",children:C.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),C.jsxs("div",{className:"mb-6",children:[C.jsx("p",{className:"text-lg font-semibold ",children:"Images"}),C.jsx("p",{className:"text-gray-600",children:"The first image will be the cover (max 6)"}),C.jsx("input",{type:"file",id:"images",onChange:R,accept:".jpg,.png,.jpeg",required:!0,multiple:!0,className:`w-full px-3 py-1.5 text-gray-700 bg-white\r
                    border border-gray-300 rounded transition duration-150 ease-in-out \r
                     focus:bg-white focus:border-slate-600`})]}),C.jsx("button",{type:"submit",className:`mb-6 w-full \r
                 px-7 py-3 bg-blue-600 text-white font-medium\r
                 text-sm uppercase rounded shadow-md hover:bg-blue-700\r
                 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg \r
                 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out`,children:"Edit Listing"})]})]})}function TL({userRef:n,listing:e}){const[t,r]=G.useState(null),[o,l]=G.useState("");G.useEffect(()=>{async function f(){const p=$s(Nn,"users",n),_=await Hh(p);_.exists()?r(_.data()):$e.error("Couldn't find contact")}f()},[n]);function d(f){l(f.target.value)}return C.jsx(C.Fragment,{children:t!==null&&C.jsxs("div",{className:"flex flex-col w-full",children:[C.jsxs("p",{className:"",children:["Contact ",t.name," for the ",e.name.toLowerCase()," house"]}),C.jsx("div",{className:"mt-3 mb-6",children:C.jsx("textarea",{name:"message",id:"message",rows:"2",value:o,onChange:d,className:`w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-150 ease-in-out\r
                            focus:text-gray-700  focus:border-slate-600`})}),C.jsx("a",{href:`mailto:${t.email}?subject=Regarding ${e.name}&body=${o}`,children:C.jsx("button",{type:"button",className:` text-white px-7 py-3 bg-blue-600 rounded\r
                       text-sm uppercase shadow-md hover:bg-blue-700 hover:shadow-lg\r
                       focus:shadow-lg focus:bg-blue-700 active:shadow-lg active:bg-blue-800\r
                       transition duration-150 ease-in-out w-full text-center mb-6:`,children:"Send Message"})})]})})}function aT(n,e){const t=G.useRef(e);G.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const xL=1;function SL(n){return Object.freeze({__version:xL,map:n})}function IL(n,e){return Object.freeze({...n,...e})}const lT=G.createContext(null),uT=lT.Provider;function cT(){const n=G.useContext(lT);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function bL(n){function e(t,r){const{instance:o,context:l}=n(t).current;return G.useImperativeHandle(r,()=>o),t.children==null?null:Fe.createElement(uT,{value:l},t.children)}return G.forwardRef(e)}function PL(n){function e(t,r){const[o,l]=G.useState(!1),{instance:d}=n(t,l).current;G.useImperativeHandle(r,()=>d),G.useEffect(function(){o&&d.update()},[d,o,t.children]);const f=d._contentNode;return f?A1.createPortal(t.children,f):null}return G.forwardRef(e)}function CL(n){function e(t,r){const{instance:o}=n(t).current;return G.useImperativeHandle(r,()=>o),null}return G.forwardRef(e)}function dT(n,e){const t=G.useRef();G.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function Ig(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function AL(n,e){return function(r,o){const l=cT(),d=n(Ig(r,l),l);return aT(l.map,r.attribution),dT(d.current,r.eventHandlers),e(d.current,l,r,o),d}}var Qu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kL=Qu.exports,Wv;function RL(){return Wv||(Wv=1,function(n,e){(function(t,r){r(e)})(kL,function(t){var r="1.9.4";function o(s){var u,m,y,S;for(m=1,y=arguments.length;m<y;m++){S=arguments[m];for(u in S)s[u]=S[u]}return s}var l=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function d(s,u){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var y=m.call(arguments,2);return function(){return s.apply(u,y.length?y.concat(m.call(arguments)):arguments)}}var f=0;function p(s){return"_leaflet_id"in s||(s._leaflet_id=++f),s._leaflet_id}function _(s,u,m){var y,S,k,K;return K=function(){y=!1,S&&(k.apply(m,S),S=!1)},k=function(){y?S=arguments:(s.apply(m,arguments),setTimeout(K,u),y=!0)},k}function w(s,u,m){var y=u[1],S=u[0],k=y-S;return s===y&&m?s:((s-S)%k+k)%k+S}function x(){return!1}function b(s,u){if(u===!1)return s;var m=Math.pow(10,u===void 0?6:u);return Math.round(s*m)/m}function A(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function M(s){return A(s).split(/\s+/)}function V(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var m in u)s.options[m]=u[m];return s.options}function H(s,u,m){var y=[];for(var S in s)y.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(s[S]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function N(s,u){return s.replace(j,function(m,y){var S=u[y];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(u)),S})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Z(s,u){for(var m=0;m<s.length;m++)if(s[m]===u)return m;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var U=0;function O(s){var u=+new Date,m=Math.max(0,16-(u-U));return U=u+m,window.setTimeout(s,m)}var R=window.requestAnimationFrame||ce("RequestAnimationFrame")||O,F=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function $(s,u,m){if(m&&R===O)s.call(u);else return R.call(window,d(s,u))}function q(s){s&&F.call(window,s)}var D={__proto__:null,extend:o,create:l,bind:d,get lastId(){return f},stamp:p,throttle:_,wrapNum:w,falseFn:x,formatNum:b,trim:A,splitWords:M,setOptions:V,getParamString:H,template:N,isArray:B,indexOf:Z,emptyImageUrl:J,requestFn:R,cancelFn:F,requestAnimFrame:$,cancelAnimFrame:q};function _e(){}_e.extend=function(s){var u=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,y=l(m);y.constructor=u,u.prototype=y;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return s.statics&&o(u,s.statics),s.includes&&(Ae(s.includes),o.apply(null,[y].concat(s.includes))),o(y,s),delete y.statics,delete y.includes,y.options&&(y.options=m.options?l(m.options):{},o(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,K=y._initHooks.length;k<K;k++)y._initHooks[k].call(this)}},u},_e.include=function(s){var u=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},_e.mergeOptions=function(s){return o(this.prototype.options,s),this},_e.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ae(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Me={on:function(s,u,m){if(typeof s=="object")for(var y in s)this._on(y,s[y],u);else{s=M(s);for(var S=0,k=s.length;S<k;S++)this._on(s[S],u,m)}return this},off:function(s,u,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],u);else{s=M(s);for(var S=arguments.length===1,k=0,K=s.length;k<K;k++)S?this._off(s[k]):this._off(s[k],u,m)}return this},_on:function(s,u,m,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,m)===!1){m===this&&(m=void 0);var S={fn:u,ctx:m};y&&(S.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(S)}},_off:function(s,u,m){var y,S,k;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(S=0,k=y.length;S<k;S++)y[S].fn=x;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(s,u,m);if(K!==!1){var ne=y[K];this._firingCount&&(ne.fn=x,this._events[s]=y=y.slice()),y.splice(K,1)}}},fire:function(s,u,m){if(!this.listens(s,m))return this;var y=o({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var k=0,K=S.length;k<K;k++){var ne=S[k],se=ne.fn;ne.once&&this.off(s,se,ne.ctx),se.call(ne.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(s,u,m,y){typeof s!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(y=!!u,S=void 0,m=void 0);var k=this._events&&this._events[s];if(k&&k.length&&this._listens(s,S,m)!==!1)return!0;if(y){for(var K in this._eventParents)if(this._eventParents[K].listens(s,u,m,y))return!0}return!1},_listens:function(s,u,m){if(!this._events)return!1;var y=this._events[s]||[];if(!u)return!!y.length;m===this&&(m=void 0);for(var S=0,k=y.length;S<k;S++)if(y[S].fn===u&&y[S].ctx===m)return S;return!1},once:function(s,u,m){if(typeof s=="object")for(var y in s)this._on(y,s[y],u,!0);else{s=M(s);for(var S=0,k=s.length;S<k;S++)this._on(s[S],u,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[p(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[p(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};Me.addEventListener=Me.on,Me.removeEventListener=Me.clearAllEventListeners=Me.off,Me.addOneTimeEventListener=Me.once,Me.fireEvent=Me.fire,Me.hasEventListeners=Me.listens;var ze=_e.extend(Me);function ee(s,u,m){this.x=m?Math.round(s):s,this.y=m?Math.round(u):u}var ye=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(s){return this.clone()._add(ae(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ae(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ee(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ee(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(s){s=ae(s);var u=s.x-this.x,m=s.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(s){return s=ae(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ae(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(s,u,m){return s instanceof ee?s:B(s)?new ee(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ee(s.x,s.y):new ee(s,u,m)}function Y(s,u){if(s)for(var m=u?[s,u]:s,y=0,S=m.length;y<S;y++)this.extend(m[y])}Y.prototype={extend:function(s){var u,m;if(!s)return this;if(s instanceof ee||typeof s[0]=="number"||"x"in s)u=m=ae(s);else if(s=ue(s),u=s.min,m=s.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,m;return typeof s[0]=="number"||s instanceof ee?s=ae(s):s=ue(s),s instanceof Y?(u=s.min,m=s.max):u=m=s,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=ue(s);var u=this.min,m=this.max,y=s.min,S=s.max,k=S.x>=u.x&&y.x<=m.x,K=S.y>=u.y&&y.y<=m.y;return k&&K},overlaps:function(s){s=ue(s);var u=this.min,m=this.max,y=s.min,S=s.max,k=S.x>u.x&&y.x<m.x,K=S.y>u.y&&y.y<m.y;return k&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,m=this.max,y=Math.abs(u.x-m.x)*s,S=Math.abs(u.y-m.y)*s;return ue(ae(u.x-y,u.y-S),ae(m.x+y,m.y+S))},equals:function(s){return s?(s=ue(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ue(s,u){return!s||s instanceof Y?s:new Y(s,u)}function xe(s,u){if(s)for(var m=u?[s,u]:s,y=0,S=m.length;y<S;y++)this.extend(m[y])}xe.prototype={extend:function(s){var u=this._southWest,m=this._northEast,y,S;if(s instanceof Pe)y=s,S=s;else if(s instanceof xe){if(y=s._southWest,S=s._northEast,!y||!S)return this}else return s?this.extend(Ie(s)||Ne(s)):this;return!u&&!m?(this._southWest=new Pe(y.lat,y.lng),this._northEast=new Pe(S.lat,S.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(s){var u=this._southWest,m=this._northEast,y=Math.abs(u.lat-m.lat)*s,S=Math.abs(u.lng-m.lng)*s;return new xe(new Pe(u.lat-y,u.lng-S),new Pe(m.lat+y,m.lng+S))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Pe||"lat"in s?s=Ie(s):s=Ne(s);var u=this._southWest,m=this._northEast,y,S;return s instanceof xe?(y=s.getSouthWest(),S=s.getNorthEast()):y=S=s,y.lat>=u.lat&&S.lat<=m.lat&&y.lng>=u.lng&&S.lng<=m.lng},intersects:function(s){s=Ne(s);var u=this._southWest,m=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),k=S.lat>=u.lat&&y.lat<=m.lat,K=S.lng>=u.lng&&y.lng<=m.lng;return k&&K},overlaps:function(s){s=Ne(s);var u=this._southWest,m=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),k=S.lat>u.lat&&y.lat<m.lat,K=S.lng>u.lng&&y.lng<m.lng;return k&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=Ne(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(s,u){return s instanceof xe?s:new xe(s,u)}function Pe(s,u,m){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,m!==void 0&&(this.alt=+m)}Pe.prototype={equals:function(s,u){if(!s)return!1;s=Ie(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return tt.distance(this,Ie(s))},wrap:function(){return tt.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,m=u/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function Ie(s,u,m){return s instanceof Pe?s:B(s)&&typeof s[0]!="object"?s.length===3?new Pe(s[0],s[1],s[2]):s.length===2?new Pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new Pe(s,u,m)}var Je={latLngToPoint:function(s,u){var m=this.projection.project(s),y=this.scale(u);return this.transformation._transform(m,y)},pointToLatLng:function(s,u){var m=this.scale(u),y=this.transformation.untransform(s,m);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(s),y=this.transformation.transform(u.min,m),S=this.transformation.transform(u.max,m);return new Y(y,S)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new Pe(m,u,y)},wrapLatLngBounds:function(s){var u=s.getCenter(),m=this.wrapLatLng(u),y=u.lat-m.lat,S=u.lng-m.lng;if(y===0&&S===0)return s;var k=s.getSouthWest(),K=s.getNorthEast(),ne=new Pe(k.lat-y,k.lng-S),se=new Pe(K.lat-y,K.lng-S);return new xe(ne,se)}},tt=o({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var m=Math.PI/180,y=s.lat*m,S=u.lat*m,k=Math.sin((u.lat-s.lat)*m/2),K=Math.sin((u.lng-s.lng)*m/2),ne=k*k+Math.cos(y)*Math.cos(S)*K*K,se=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*se}}),gt=6378137,Dt={R:gt,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,s.lat),-m),S=Math.sin(y*u);return new ee(this.R*s.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(s){var u=180/Math.PI;return new Pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=gt*Math.PI;return new Y([-s,-s],[s,s])}()};function hr(s,u,m,y){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=m,this._d=y}hr.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ee((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Cr(s,u,m,y){return new hr(s,u,m,y)}var Ar=o({},tt,{code:"EPSG:3857",projection:Dt,transformation:function(){var s=.5/(Math.PI*Dt.R);return Cr(s,.5,-s,.5)}()}),qi=o({},Ar,{code:"EPSG:900913"});function Wi(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ys(s,u){var m="",y,S,k,K,ne,se;for(y=0,k=s.length;y<k;y++){for(ne=s[y],S=0,K=ne.length;S<K;S++)se=ne[S],m+=(S?"L":"M")+se.x+" "+se.y;m+=u?Re.svg?"z":"x":""}return m||"M0 0"}var Gi=document.documentElement.style,Ki="ActiveXObject"in window,Xs=Ki&&!document.addEventListener,kr="msLaunchUri"in navigator&&!("documentMode"in document),fr=sn("webkit"),Js=sn("android"),Zi=sn("android 2")||sn("android 3"),eo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ga=Js&&sn("Google")&&eo<537&&!("AudioNode"in window),kt=!!window.opera,Vt=!kr&&sn("chrome"),Rr=sn("gecko")&&!fr&&!kt&&!Ki,_a=!Vt&&sn("safari"),Qr=sn("phantom"),wi="OTransition"in Gi,Qi=navigator.platform.indexOf("Win")===0,to=Ki&&"transition"in Gi,Yi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zi,no="MozPerspective"in Gi,ya=!window.L_DISABLE_3D&&(to||Yi||no)&&!wi&&!Qr,Yr=typeof orientation<"u"||sn("mobile"),Xi=Yr&&fr,ro=Yr&&Yi,Ji=!window.PointerEvent&&window.MSPointerEvent,Mn=!!(window.PointerEvent||Ji),pr="ontouchstart"in window||!!window.TouchEvent,io=!window.L_NO_TOUCH&&(pr||Mn),Lr=Yr&&kt,va=Yr&&Rr,es=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wa=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",x,u),window.removeEventListener("testPassiveEventSupport",x,u)}catch{}return s}(),Xr=function(){return!!document.createElement("canvas").getContext}(),ts=!!(document.createElementNS&&Wi("svg").createSVGRect),Rt=!!ts&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),so=!ts&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),mr=navigator.platform.indexOf("Mac")===0,ns=navigator.platform.indexOf("Linux")===0;function sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Re={ie:Ki,ielt9:Xs,edge:kr,webkit:fr,android:Js,android23:Zi,androidStock:ga,opera:kt,chrome:Vt,gecko:Rr,safari:_a,phantom:Qr,opera12:wi,win:Qi,ie3d:to,webkit3d:Yi,gecko3d:no,any3d:ya,mobile:Yr,mobileWebkit:Xi,mobileWebkit3d:ro,msPointer:Ji,pointer:Mn,touch:io,touchNative:pr,mobileOpera:Lr,mobileGecko:va,retina:es,passiveEvents:wa,canvas:Xr,svg:ts,vml:so,inlineSvg:Rt,mac:mr,linux:ns},qn=Re.msPointer?"MSPointerDown":"pointerdown",oo=Re.msPointer?"MSPointerMove":"pointermove",il=Re.msPointer?"MSPointerUp":"pointerup",rs=Re.msPointer?"MSPointerCancel":"pointercancel",ao={touchstart:qn,touchmove:oo,touchend:il,touchcancel:rs},Wn={touchstart:wt,touchmove:ho,touchend:ho,touchcancel:ho},Gn={},Kn=!1;function sl(s,u,m){return u==="touchstart"&&ol(),Wn[u]?(m=Wn[u].bind(this,m),s.addEventListener(ao[u],m,!1),m):(console.warn("wrong event specified:",u),x)}function Ea(s,u,m){if(!ao[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(ao[u],m,!1)}function lo(s){Gn[s.pointerId]=s}function uo(s){Gn[s.pointerId]&&(Gn[s.pointerId]=s)}function co(s){delete Gn[s.pointerId]}function ol(){Kn||(document.addEventListener(qn,lo,!0),document.addEventListener(oo,uo,!0),document.addEventListener(il,co,!0),document.addEventListener(rs,co,!0),Kn=!0)}function ho(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Gn)u.touches.push(Gn[m]);u.changedTouches=[u],s(u)}}function wt(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&vt(u),ho(s,u)}function al(s){var u={},m,y;for(y in s)m=s[y],u[y]=m&&m.bind?m.bind(s):m;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var is=200;function Ei(s,u){s.addEventListener("dblclick",u);var m=0,y;function S(k){if(k.detail!==1){y=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var K=Or(k);if(!(K.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!K.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var ne=Date.now();ne-m<=is?(y++,y===2&&u(al(k))):y=1,m=ne}}}return s.addEventListener("click",S),{dblclick:u,simDblclick:S}}function Zn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var ss=_r(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ti=_r(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xi=Ti==="webkitTransition"||Ti==="OTransition"?Ti+"End":"transitionend";function wn(s){return typeof s=="string"?document.getElementById(s):s}function Si(s,u){var m=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);m=y?y[u]:null}return m==="auto"?null:m}function qe(s,u,m){var y=document.createElement(s);return y.className=u||"",m&&m.appendChild(y),y}function _t(s){var u=s.parentNode;u&&u.removeChild(s)}function os(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Jr(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function gr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Ii(s,u){if(s.classList!==void 0)return s.classList.contains(u);var m=Qn(s);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function He(s,u){if(s.classList!==void 0)for(var m=M(u),y=0,S=m.length;y<S;y++)s.classList.add(m[y]);else if(!Ii(s,u)){var k=Qn(s);Ta(s,(k?k+" ":"")+u)}}function yt(s,u){s.classList!==void 0?s.classList.remove(u):Ta(s,A((" "+Qn(s)+" ").replace(" "+u+" "," ")))}function Ta(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Qn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function xt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&as(s,u)}function as(s,u){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):s.style.filter+=" progid:"+y+"(opacity="+u+")"}function _r(s){for(var u=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in u)return s[m];return!1}function En(s,u,m){var y=u||new ee(0,0);s.style[ss]=(Re.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function We(s,u){s._leaflet_pos=u,Re.any3d?En(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Tn(s){return s._leaflet_pos||new ee(0,0)}var et,Yn,fo;if("onselectstart"in document)et=function(){Ve(window,"selectstart",vt)},Yn=function(){ht(window,"selectstart",vt)};else{var Nr=_r(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);et=function(){if(Nr){var s=document.documentElement.style;fo=s[Nr],s[Nr]="none"}},Yn=function(){Nr&&(document.documentElement.style[Nr]=fo,fo=void 0)}}function po(){Ve(window,"dragstart",vt)}function mo(){ht(window,"dragstart",vt)}var ls,us;function Xn(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(zt(),ls=s,us=s.style.outlineStyle,s.style.outlineStyle="none",Ve(window,"keydown",zt))}function zt(){ls&&(ls.style.outlineStyle=us,ls=void 0,us=void 0,ht(window,"keydown",zt))}function Jn(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Dn(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var bi={__proto__:null,TRANSFORM:ss,TRANSITION:Ti,TRANSITION_END:xi,get:wn,getStyle:Si,create:qe,remove:_t,empty:os,toFront:Jr,toBack:gr,hasClass:Ii,addClass:He,removeClass:yt,setClass:Ta,getClass:Qn,setOpacity:xt,testProp:_r,setTransform:En,setPosition:We,getPosition:Tn,get disableTextSelection(){return et},get enableTextSelection(){return Yn},disableImageDrag:po,enableImageDrag:mo,preventOutline:Xn,restoreOutline:zt,getSizedParentNode:Jn,getScale:Dn};function Ve(s,u,m,y){if(u&&typeof u=="object")for(var S in u)Sa(s,S,u[S],m);else{u=M(u);for(var k=0,K=u.length;k<K;k++)Sa(s,u[k],m,y)}return this}var Bt="_leaflet_events";function ht(s,u,m,y){if(arguments.length===1)xa(s),delete s[Bt];else if(u&&typeof u=="object")for(var S in u)go(s,S,u[S],m);else if(u=M(u),arguments.length===2)xa(s,function(ne){return Z(u,ne)!==-1});else for(var k=0,K=u.length;k<K;k++)go(s,u[k],m,y);return this}function xa(s,u){for(var m in s[Bt]){var y=m.split(/\d/)[0];(!u||u(y))&&go(s,y,null,null,m)}}var on={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sa(s,u,m,y){var S=u+p(m)+(y?"_"+p(y):"");if(s[Bt]&&s[Bt][S])return this;var k=function(ne){return m.call(y||s,ne||window.event)},K=k;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?k=sl(s,u,k):Re.touch&&u==="dblclick"?k=Ei(s,k):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(on[u]||u,k,Re.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(k=function(ne){ne=ne||window.event,cs(s,ne)&&K(ne)},s.addEventListener(on[u],k,!1)):s.addEventListener(u,K,!1):s.attachEvent("on"+u,k),s[Bt]=s[Bt]||{},s[Bt][S]=k}function go(s,u,m,y,S){S=S||u+p(m)+(y?"_"+p(y):"");var k=s[Bt]&&s[Bt][S];if(!k)return this;!Re.touchNative&&Re.pointer&&u.indexOf("touch")===0?Ea(s,u,k):Re.touch&&u==="dblclick"?Zn(s,k):"removeEventListener"in s?s.removeEventListener(on[u]||u,k,!1):s.detachEvent("on"+u,k),s[Bt][S]=null}function fn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ei(s){return Sa(s,"wheel",fn),this}function Pi(s){return Ve(s,"mousedown touchstart dblclick contextmenu",fn),s._leaflet_disable_click=!0,this}function vt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Yt(s){return vt(s),fn(s),this}function Or(s){if(s.composedPath)return s.composedPath();for(var u=[],m=s.target;m;)u.push(m),m=m.parentNode;return u}function ti(s,u){if(!u)return new ee(s.clientX,s.clientY);var m=Dn(u),y=m.boundingClientRect;return new ee((s.clientX-y.left)/m.x-u.clientLeft,(s.clientY-y.top)/m.y-u.clientTop)}var St=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ll(s){return Re.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/St:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function cs(s,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var ds={__proto__:null,on:Ve,off:ht,stopPropagation:fn,disableScrollPropagation:ei,disableClickPropagation:Pi,preventDefault:vt,stop:Yt,getPropagationPath:Or,getMousePosition:ti,getWheelDelta:ll,isExternalTarget:cs,addListener:Ve,removeListener:ht},hs=ze.extend({run:function(s,u,m,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Tn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var m=this._startPos.add(this._offset.multiplyBy(s));u&&m._round(),We(this._el,m),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),nt=ze.extend({options:{crs:Ar,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=V(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ie(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ti&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Ie(s),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,m.zoom):this._tryAnimatedPan(s,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,m){var y=this.getZoomScale(u),S=this.getSize().divideBy(2),k=s instanceof ee?s:this.latLngToContainerPoint(s),K=k.subtract(S).multiplyBy(1-1/y),ne=this.containerPointToLatLng(S.add(K));return this.setView(ne,u,{zoom:m})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():Ne(s);var m=ae(u.paddingTopLeft||u.padding||[0,0]),y=ae(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(s,!1,m.add(y));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:s.getCenter(),zoom:S};var k=y.subtract(m).divideBy(2),K=this.project(s.getSouthWest(),S),ne=this.project(s.getNorthEast(),S),se=this.unproject(K.add(ne).divideBy(2).add(k),S);return{center:se,zoom:S}},fitBounds:function(s,u){if(s=Ne(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=ae(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){He(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,m){if(m=m||{},m.animate===!1||!Re.any3d)return this.setView(s,u,m);this._stop();var y=this.project(this.getCenter()),S=this.project(s),k=this.getSize(),K=this._zoom;s=Ie(s),u=u===void 0?K:u;var ne=Math.max(k.x,k.y),se=ne*this.getZoomScale(K,u),fe=S.distanceTo(y)||1,Te=1.42,je=Te*Te;function Xe(pt){var Do=pt?-1:1,sf=pt?se:ne,of=se*se-ne*ne+Do*je*je*fe*fe,vs=2*sf*je*fe,ws=of/vs,Es=Math.sqrt(ws*ws+1)-ws,Tl=Es<1e-9?-18:Math.log(Es);return Tl}function Xt(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function Gt(pt){return(Math.exp(pt)+Math.exp(-pt))/2}function Fn(pt){return Xt(pt)/Gt(pt)}var In=Xe(0);function Oo(pt){return ne*(Gt(In)/Gt(In+Te*pt))}function Iu(pt){return ne*(Gt(In)*Fn(In+Te*pt)-Xt(In))/je}function Li(pt){return 1-Math.pow(1-pt,1.5)}var Bc=Date.now(),ys=(Xe(1)-In)/Te,Fr=m.duration?1e3*m.duration:1e3*ys*.8;function Mo(){var pt=(Date.now()-Bc)/Fr,Do=Li(pt)*ys;pt<=1?(this._flyToFrame=$(Mo,this),this._move(this.unproject(y.add(S.subtract(y).multiplyBy(Iu(Do)/fe)),K),this.getScaleZoom(ne/Oo(Do),K),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Mo.call(this),this},flyToBounds:function(s,u){var m=this._getBoundsCenterZoom(s,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(s){return s=Ne(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,Ne(s));return m.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var m=ae(u.paddingTopLeft||u.padding||[0,0]),y=ae(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),k=this.project(s),K=this.getPixelBounds(),ne=ue([K.min.add(m),K.max.subtract(y)]),se=ne.getSize();if(!ne.contains(k)){this._enforcingBounds=!0;var fe=k.subtract(ne.getCenter()),Te=ne.extend(k).getSize().subtract(se);S.x+=fe.x<0?-Te.x:Te.x,S.y+=fe.y<0?-Te.y:Te.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=u.divideBy(2).round(),S=m.divideBy(2).round(),k=y.subtract(S);return!k.x&&!k.y?this:(s.animate&&s.pan?this.panBy(k):(s.pan&&this._rawPanBy(k),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,s):navigator.geolocation.getCurrentPosition(u,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,m=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,m=s.coords.longitude,y=new Pe(u,m),S=y.toBounds(s.coords.accuracy*2),k=this._locateOptions;if(k.setView){var K=this.getBoundsZoom(S);this.setView(y,k.maxZoom?Math.min(K,k.maxZoom):K)}var ne={latlng:y,bounds:S,timestamp:s.timestamp};for(var se in s.coords)typeof s.coords[se]=="number"&&(ne[se]=s.coords[se]);this.fire("locationfound",ne)}},addHandler:function(s,u){if(!u)return this;var m=this[s]=new u(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)_t(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=qe("div",m,u||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new xe(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,m){s=Ne(s),m=ae(m||[0,0]);var y=this.getZoom()||0,S=this.getMinZoom(),k=this.getMaxZoom(),K=s.getNorthWest(),ne=s.getSouthEast(),se=this.getSize().subtract(m),fe=ue(this.project(ne,y),this.project(K,y)).getSize(),Te=Re.any3d?this.options.zoomSnap:1,je=se.x/fe.x,Xe=se.y/fe.y,Xt=u?Math.max(je,Xe):Math.min(je,Xe);return y=this.getScaleZoom(Xt,y),Te&&(y=Math.round(y/(Te/100))*(Te/100),y=u?Math.ceil(y/Te)*Te:Math.floor(y/Te)*Te),Math.max(S,Math.min(k,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var m=this._getTopLeftPoint(s,u);return new Y(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(s)/m.scale(u)},getScaleZoom:function(s,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var y=m.zoom(s*m.scale(u));return isNaN(y)?1/0:y},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ie(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ae(s),u)},layerPointToLatLng:function(s){var u=ae(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Ie(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ne(s))},distance:function(s,u){return this.options.crs.distance(Ie(s),Ie(u))},containerPointToLayerPoint:function(s){return ae(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ae(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(ae(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(s)))},mouseEventToContainerPoint:function(s){return ti(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=wn(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(u,"scroll",this._onScroll,this),this._containerId=p(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,He(s,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Si(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),We(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(He(s.markerPane,"leaflet-zoom-hide"),He(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,m){We(this._mapPane,new ee(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,m)._move(s,u)._moveEnd(S),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,m,y){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){We(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[p(this._container)]=this;var u=s?ht:Ve;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var m=[],y,S=u==="mouseout"||u==="mouseover",k=s.target||s.srcElement,K=!1;k;){if(y=this._targets[p(k)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){K=!0;break}if(y&&y.listens(u,!0)&&(S&&!cs(k,s)||(m.push(y),S))||k===this._container)break;k=k.parentNode}return!m.length&&!K&&!S&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var m=s.type;m==="mousedown"&&Xn(u),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,m){if(s.type==="click"){var y=o({},s);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var S=this._findEventTargets(s,u);if(m){for(var k=[],K=0;K<m.length;K++)m[K].listens(u,!0)&&k.push(m[K]);S=k.concat(S)}if(S.length){u==="contextmenu"&&vt(s);var ne=S[0],se={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var fe=ne.getLatLng&&(!ne._radius||ne._radius<=10);se.containerPoint=fe?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(s),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=fe?ne.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,se,!0),se.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Tn(this._mapPane)||new ee(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var m=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var m=this.getSize()._divideBy(2);return this.project(s,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,m){var y=this._getNewPixelOrigin(m,u);return this.project(s,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,u,m){var y=this._getNewPixelOrigin(m,u);return ue([this.project(s.getSouthWest(),u)._subtract(y),this.project(s.getNorthWest(),u)._subtract(y),this.project(s.getSouthEast(),u)._subtract(y),this.project(s.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,m){if(!m)return s;var y=this.project(s,u),S=this.getSize().divideBy(2),k=new Y(y.subtract(S),y.add(S)),K=this._getBoundsOffset(k,m,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?s:this.unproject(y.add(K),u)},_limitOffset:function(s,u){if(!u)return s;var m=this.getPixelBounds(),y=new Y(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(s,u,m){var y=ue(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),S=y.min.subtract(s.min),k=y.max.subtract(s.max),K=this._rebound(S.x,-k.x),ne=this._rebound(S.y,-k.y);return new ee(K,ne)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),m=this.getMaxZoom(),y=Re.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(u,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var m=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var s=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var m=ss,y=this._proxy.style[m];En(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();En(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),S=this._getCenterOffset(s)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(S)?!1:($(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,He(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vn(s,u){return new nt(s,u)}var an=_e.extend({options:{position:"topright"},initialize:function(s){V(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),m=this.getPosition(),y=s._controlCorners[m];return He(u,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ht=function(s){return new an(s)};nt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",m=this._controlContainer=qe("div",u+"control-container",this._container);function y(S,k){var K=u+S+" "+u+k;s[S+k]=qe("div",K,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)_t(this._controlCorners[s]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _o=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,m,y){return m<y?-1:y<m?1:0}},initialize:function(s,u,m){V(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(p(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){He(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(He(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=qe("div",s),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Pi(u),ei(u);var y=this._section=qe("section",s+"-list");m&&(this._map.on("click",this.collapse,this),Ve(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=qe("a",s+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ve(S,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){vt(k),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=qe("div",s+"-base",y),this._separator=qe("div",s+"-separator",y),this._overlaysList=qe("div",s+"-overlays",y),u.appendChild(y)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&p(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(y,S){return this.options.sortFunction(y.layer,S.layer,y.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;os(this._baseLayersList),os(this._overlaysList),this._layerControlInputs=[];var s,u,m,y,S=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),u=u||y.overlay,s=s||!y.overlay,S+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&S>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(p(s.target)),m=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(s,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(s){var u=document.createElement("label"),m=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+p(this),m),this._layerControlInputs.push(y),y.layerId=p(s.layer),Ve(y,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+s.name;var k=document.createElement("span");u.appendChild(k),k.appendChild(y),k.appendChild(S);var K=s.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,m,y=[],S=[];this._handlingClick=!0;for(var k=s.length-1;k>=0;k--)u=s[k],m=this._getLayer(u.layerId).layer,u.checked?y.push(m):u.checked||S.push(m);for(k=0;k<S.length;k++)this._map.hasLayer(S[k])&&this._map.removeLayer(S[k]);for(k=0;k<y.length;k++)this._map.hasLayer(y[k])||this._map.addLayer(y[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,m,y=this._map.getZoom(),S=s.length-1;S>=0;S--)u=s[S],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ve(s,"click",vt),this.expand();var u=this;setTimeout(function(){ht(s,"click",vt),u._preventClick=!1})}}),yo=function(s,u,m){return new _o(s,u,m)},er=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",m=qe("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,m,y,S){var k=qe("a",m,y);return k.innerHTML=s,k.href="#",k.title=u,k.setAttribute("role","button"),k.setAttribute("aria-label",u),Pi(k),Ve(k,"click",Yt),Ve(k,"click",S,this),Ve(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";yt(this._zoomInButton,u),yt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(He(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(He(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new er,this.addControl(this.zoomControl))});var Ia=function(s){return new er(s)},qt=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",m=qe("div",u),y=this.options;return this._addScales(y,u+"-line",m),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,m){s.metric&&(this._mScale=qe("div",u,m)),s.imperial&&(this._iScale=qe("div",u,m))},_update:function(){var s=this._map,u=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/s)},_updateImperial:function(s){var u=s*3.2808399,m,y,S;u>5280?(m=u/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(s,u,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),m=s/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),yr=function(s){return new qt(s)},vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?vo+" ":"")+"Leaflet</a>"},initialize:function(s){V(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),Pi(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new tr().addTo(this)});var fu=function(s){return new tr(s)};an.Layers=_o,an.Zoom=er,an.Scale=qt,an.Attribution=tr,Ht.layers=yo,Ht.zoom=Ia,Ht.scale=yr,Ht.attribution=fu;var pn=_e.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pn.addTo=function(s,u){return s.addHandler(u,this),this};var ni={Events:Me},ri=Re.touch?"touchstart mousedown":"mousedown",xn=ze.extend({options:{clickTolerance:3},initialize:function(s,u,m,y){V(this,y),this._element=s,this._dragStartTarget=u||s,this._preventOutline=m},enable:function(){this._enabled||(Ve(this._dragStartTarget,ri,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,ri,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ii(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xn._dragging===this&&this.finishDrag();return}if(!(xn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xn._dragging=this,this._preventOutline&&Xn(this._element),po(),et(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,m=Jn(this._element);this._startPoint=new ee(u.clientX,u.clientY),this._startPos=Tn(this._element),this._parentScale=Dn(m);var y=s.type==="mousedown";Ve(document,y?"mousemove":"touchmove",this._onMove,this),Ve(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,m=new ee(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,vt(s),this._moved||(this.fire("dragstart"),this._moved=!0,He(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),He(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),We(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),mo(),Yn();var u=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function fs(s,u,m){var y,S=[1,4,2,8],k,K,ne,se,fe,Te,je,Xe;for(k=0,Te=s.length;k<Te;k++)s[k]._code=Mr(s[k],u);for(ne=0;ne<4;ne++){for(je=S[ne],y=[],k=0,Te=s.length,K=Te-1;k<Te;K=k++)se=s[k],fe=s[K],se._code&je?fe._code&je||(Xe=Wt(fe,se,je,u,m),Xe._code=Mr(Xe,u),y.push(Xe)):(fe._code&je&&(Xe=Wt(fe,se,je,u,m),Xe._code=Mr(Xe,u),y.push(Xe)),y.push(se));s=y}return s}function wo(s,u){var m,y,S,k,K,ne,se,fe,Te;if(!s||s.length===0)throw new Error("latlngs not passed");h(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var je=Ie([0,0]),Xe=Ne(s),Xt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());Xt<1700&&(je=Eo(s));var Gt=s.length,Fn=[];for(m=0;m<Gt;m++){var In=Ie(s[m]);Fn.push(u.project(Ie([In.lat-je.lat,In.lng-je.lng])))}for(ne=se=fe=0,m=0,y=Gt-1;m<Gt;y=m++)S=Fn[m],k=Fn[y],K=S.y*k.x-k.y*S.x,se+=(S.x+k.x)*K,fe+=(S.y+k.y)*K,ne+=K*3;ne===0?Te=Fn[0]:Te=[se/ne,fe/ne];var Oo=u.unproject(ae(Te));return Ie([Oo.lat+je.lat,Oo.lng+je.lng])}function Eo(s){for(var u=0,m=0,y=0,S=0;S<s.length;S++){var k=Ie(s[S]);u+=k.lat,m+=k.lng,y++}return Ie([u/y,m/y])}var To={__proto__:null,clipPolygon:fs,polygonCenter:wo,centroid:Eo};function ps(s,u){if(!u||!s.length)return s.slice();var m=u*u;return s=cl(s,m),s=ul(s,m),s}function ba(s,u,m){return Math.sqrt(Sn(s,u,m,!0))}function ii(s,u,m){return Sn(s,u,m)}function ul(s,u){var m=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,S=new y(m);S[0]=S[m-1]=1,xo(s,S,u,0,m-1);var k,K=[];for(k=0;k<m;k++)S[k]&&K.push(s[k]);return K}function xo(s,u,m,y,S){var k=0,K,ne,se;for(ne=y+1;ne<=S-1;ne++)se=Sn(s[ne],s[y],s[S],!0),se>k&&(K=ne,k=se);k>m&&(u[K]=1,xo(s,u,m,y,K),xo(s,u,m,K,S))}function cl(s,u){for(var m=[s[0]],y=1,S=0,k=s.length;y<k;y++)dl(s[y],s[S])>u&&(m.push(s[y]),S=y);return S<k-1&&m.push(s[k-1]),m}var So;function ms(s,u,m,y,S){var k=y?So:Mr(s,m),K=Mr(u,m),ne,se,fe;for(So=K;;){if(!(k|K))return[s,u];if(k&K)return!1;ne=k||K,se=Wt(s,u,ne,m,S),fe=Mr(se,m),ne===k?(s=se,k=fe):(u=se,K=fe)}}function Wt(s,u,m,y,S){var k=u.x-s.x,K=u.y-s.y,ne=y.min,se=y.max,fe,Te;return m&8?(fe=s.x+k*(se.y-s.y)/K,Te=se.y):m&4?(fe=s.x+k*(ne.y-s.y)/K,Te=ne.y):m&2?(fe=se.x,Te=s.y+K*(se.x-s.x)/k):m&1&&(fe=ne.x,Te=s.y+K*(ne.x-s.x)/k),new ee(fe,Te,S)}function Mr(s,u){var m=0;return s.x<u.min.x?m|=1:s.x>u.max.x&&(m|=2),s.y<u.min.y?m|=4:s.y>u.max.y&&(m|=8),m}function dl(s,u){var m=u.x-s.x,y=u.y-s.y;return m*m+y*y}function Sn(s,u,m,y){var S=u.x,k=u.y,K=m.x-S,ne=m.y-k,se=K*K+ne*ne,fe;return se>0&&(fe=((s.x-S)*K+(s.y-k)*ne)/se,fe>1?(S=m.x,k=m.y):fe>0&&(S+=K*fe,k+=ne*fe)),K=s.x-S,ne=s.y-k,y?K*K+ne*ne:new ee(S,k)}function h(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(s)}function I(s,u){var m,y,S,k,K,ne,se,fe;if(!s||s.length===0)throw new Error("latlngs not passed");h(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Te=Ie([0,0]),je=Ne(s),Xe=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());Xe<1700&&(Te=Eo(s));var Xt=s.length,Gt=[];for(m=0;m<Xt;m++){var Fn=Ie(s[m]);Gt.push(u.project(Ie([Fn.lat-Te.lat,Fn.lng-Te.lng])))}for(m=0,y=0;m<Xt-1;m++)y+=Gt[m].distanceTo(Gt[m+1])/2;if(y===0)fe=Gt[0];else for(m=0,k=0;m<Xt-1;m++)if(K=Gt[m],ne=Gt[m+1],S=K.distanceTo(ne),k+=S,k>y){se=(k-y)/S,fe=[ne.x-se*(ne.x-K.x),ne.y-se*(ne.y-K.y)];break}var In=u.unproject(ae(fe));return Ie([In.lat+Te.lat,In.lng+Te.lng])}var z={__proto__:null,simplify:ps,pointToSegmentDistance:ba,closestPointOnSegment:ii,clipSegment:ms,_getEdgeIntersection:Wt,_getBitCode:Mr,_sqClosestPointOnSegment:Sn,isFlat:h,_flat:E,polylineCenter:I},te={project:function(s){return new ee(s.lng,s.lat)},unproject:function(s){return new Pe(s.y,s.x)},bounds:new Y([-180,-90],[180,90])},le={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,m=this.R,y=s.lat*u,S=this.R_MINOR/m,k=Math.sqrt(1-S*S),K=k*Math.sin(y),ne=Math.tan(Math.PI/4-y/2)/Math.pow((1-K)/(1+K),k/2);return y=-m*Math.log(Math.max(ne,1e-10)),new ee(s.lng*u*m,y)},unproject:function(s){for(var u=180/Math.PI,m=this.R,y=this.R_MINOR/m,S=Math.sqrt(1-y*y),k=Math.exp(-s.y/m),K=Math.PI/2-2*Math.atan(k),ne=0,se=.1,fe;ne<15&&Math.abs(se)>1e-7;ne++)fe=S*Math.sin(K),fe=Math.pow((1-fe)/(1+fe),S/2),se=Math.PI/2-2*Math.atan(k*fe)-K,K+=se;return new Pe(K*u,s.x*u/m)}},we={__proto__:null,LonLat:te,Mercator:le,SphericalMercator:Dt},dt=o({},tt,{code:"EPSG:3395",projection:le,transformation:function(){var s=.5/(Math.PI*le.R);return Cr(s,.5,-s,.5)}()}),Ft=o({},tt,{code:"EPSG:4326",projection:te,transformation:Cr(1/180,1,-1/180,.5)}),it=o({},Je,{projection:te,transformation:Cr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var m=u.lng-s.lng,y=u.lat-s.lat;return Math.sqrt(m*m+y*y)},infinite:!0});Je.Earth=tt,Je.EPSG3395=dt,Je.EPSG3857=Ar,Je.EPSG900913=qi,Je.EPSG4326=Ft,Je.Simple=it;var ft=ze.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[p(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[p(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=p(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=p(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return p(s)in this._layers},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var u=0,m=s.length;u<m;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[p(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=p(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var S=this._zoomBoundLayers[y].options;s=S.minZoom===void 0?s:Math.min(s,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tt=ft.extend({initialize:function(s,u){V(this,u),this._layers={};var m,y;if(s)for(m=0,y=s.length;m<y;m++)this.addLayer(s[m])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[s]&&y[s].apply(y,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return p(s)}}),nr=function(s,u){return new Tt(s,u)},Lt=Tt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Tt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Tt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new xe;for(var u in this._layers){var m=this._layers[u];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),gs=function(s,u){return new Lt(s,u)},vr=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){V(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,u){var m=this.options,y=m[u+"Size"];typeof y=="number"&&(y=[y,y]);var S=ae(y),k=ae(u==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(m.className||""),k&&(s.style.marginLeft=-k.x+"px",s.style.marginTop=-k.y+"px"),S&&(s.style.width=S.x+"px",s.style.height=S.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Re.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function kc(s){return new vr(s)}var Io=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Io.imagePath!="string"&&(Io.imagePath=this._detectIconPath()),(this.options.imagePath||Io.imagePath)+vr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(m,y,S){var k=y.exec(m);return k&&k[S]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qe("div","leaflet-default-icon-path",document.body),u=Si(s,"background-image")||Si(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),pu=pn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),He(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,m=u._map,y=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,k=Tn(u._icon),K=m.getPixelBounds(),ne=m.getPixelOrigin(),se=ue(K.min._subtract(ne).add(S),K.max._subtract(ne).subtract(S));if(!se.contains(k)){var fe=ae((Math.max(se.max.x,k.x)-se.max.x)/(K.max.x-se.max.x)-(Math.min(se.min.x,k.x)-se.min.x)/(K.min.x-se.min.x),(Math.max(se.max.y,k.y)-se.max.y)/(K.max.y-se.max.y)-(Math.min(se.min.y,k.y)-se.min.y)/(K.min.y-se.min.y)).multiplyBy(y);m.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),We(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=$(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,m=u._shadow,y=Tn(u._icon),S=u._map.layerPointToLatLng(y);m&&We(m,y),u._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),si=ft.extend({options:{icon:new Io,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){V(this,u),this._latlng=Ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Ie(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),He(m,u),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(m,"focus",this._panOnFocus,this);var S=s.icon.createShadow(this._shadow),k=!1;S!==this._shadow&&(this._removeShadow(),k=!0),S&&(He(S,u),S.alt=""),this._shadow=S,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&k&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&We(this._icon,s),this._shadow&&We(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(He(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&xt(this._icon,s),this._shadow&&xt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,m=u.iconSize?ae(u.iconSize):ae(0,0),y=u.iconAnchor?ae(u.iconAnchor):ae(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ef(s,u){return new si(s,u)}var Ci=ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return V(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hl=Ci.extend({options:{fill:!0,radius:10},initialize:function(s,u){V(this,u),this._latlng=Ie(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Ie(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Ci.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,m=this._clickTolerance(),y=[s+m,u+m];this._pxBounds=new Y(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Rc(s,u){return new hl(s,u)}var fl=hl.extend({initialize:function(s,u,m){if(typeof u=="number"&&(u=o({},m,{radius:u})),V(this,u),this._latlng=Ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ci.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===tt.distance){var S=Math.PI/180,k=this._mRadius/tt.R/S,K=m.project([u+k,s]),ne=m.project([u-k,s]),se=K.add(ne).divideBy(2),fe=m.unproject(se).lat,Te=Math.acos((Math.cos(k*S)-Math.sin(u*S)*Math.sin(fe*S))/(Math.cos(u*S)*Math.cos(fe*S)))/S;(isNaN(Te)||Te===0)&&(Te=k/Math.cos(Math.PI/180*u)),this._point=se.subtract(m.getPixelOrigin()),this._radius=isNaN(Te)?0:se.x-m.project([fe,s-Te]).x,this._radiusY=se.y-K.y}else{var je=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(je).x}this._updateBounds()}});function Pa(s,u,m){return new fl(s,u,m)}var zn=Ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){V(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,m=null,y=Sn,S,k,K=0,ne=this._parts.length;K<ne;K++)for(var se=this._parts[K],fe=1,Te=se.length;fe<Te;fe++){S=se[fe-1],k=se[fe];var je=y(s,S,k,!0);je<u&&(u=je,m=y(s,S,k))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Ie(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new xe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return h(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],m=h(s),y=0,S=s.length;y<S;y++)m?(u[y]=Ie(s[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(s[y]);return u},_project:function(){var s=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ee(s,s);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,m){var y=s[0]instanceof Pe,S=s.length,k,K;if(y){for(K=[],k=0;k<S;k++)K[k]=this._map.latLngToLayerPoint(s[k]),m.extend(K[k]);u.push(K)}else for(k=0;k<S;k++)this._projectLatlngs(s[k],u,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,y,S,k,K,ne,se;for(m=0,S=0,k=this._rings.length;m<k;m++)for(se=this._rings[m],y=0,K=se.length;y<K-1;y++)ne=ms(se[y],se[y+1],s,y,!0),ne&&(u[S]=u[S]||[],u[S].push(ne[0]),(ne[1]!==se[y+1]||y===K-2)&&(u[S].push(ne[1]),S++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,m=0,y=s.length;m<y;m++)s[m]=ps(s[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var m,y,S,k,K,ne,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,k=this._parts.length;m<k;m++)for(ne=this._parts[m],y=0,K=ne.length,S=K-1;y<K;S=y++)if(!(!u&&y===0)&&ba(s,ne[S],ne[y])<=se)return!0;return!1}});function tf(s,u){return new zn(s,u)}zn._flat=E;var oi=zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=zn.prototype._convertLatLngs.call(this,s),m=u.length;return m>=2&&u[0]instanceof Pe&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(s){zn.prototype._setLatLngs.call(this,s),h(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return h(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,m=new ee(u,u);if(s=new Y(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,S=this._rings.length,k;y<S;y++)k=fs(this._rings[y],s,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,m,y,S,k,K,ne,se,fe;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(k=0,se=this._parts.length;k<se;k++)for(m=this._parts[k],K=0,fe=m.length,ne=fe-1;K<fe;ne=K++)y=m[K],S=m[ne],y.y>s.y!=S.y>s.y&&s.x<(S.x-y.x)*(s.y-y.y)/(S.y-y.y)+y.x&&(u=!u);return u||zn.prototype._containsPoint.call(this,s,!0)}});function nf(s,u){return new oi(s,u)}var Dr=Lt.extend({initialize:function(s,u){V(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=B(s)?s:s.features,m,y,S;if(u){for(m=0,y=u.length;m<y;m++)S=u[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var k=this.options;if(k.filter&&!k.filter(s))return this;var K=bo(s,k);return K?(K.feature=yl(s),K.defaultOptions=K.options,this.resetStyle(K),k.onEachFeature&&k.onEachFeature(s,K),this.addLayer(K)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function bo(s,u){var m=s.type==="Feature"?s.geometry:s,y=m?m.coordinates:null,S=[],k=u&&u.pointToLayer,K=u&&u.coordsToLatLng||ml,ne,se,fe,Te;if(!y&&!m)return null;switch(m.type){case"Point":return ne=K(y),pl(k,s,ne,u);case"MultiPoint":for(fe=0,Te=y.length;fe<Te;fe++)ne=K(y[fe]),S.push(pl(k,s,ne,u));return new Lt(S);case"LineString":case"MultiLineString":return se=Ca(y,m.type==="LineString"?0:1,K),new zn(se,u);case"Polygon":case"MultiPolygon":return se=Ca(y,m.type==="Polygon"?1:2,K),new oi(se,u);case"GeometryCollection":for(fe=0,Te=m.geometries.length;fe<Te;fe++){var je=bo({geometry:m.geometries[fe],type:"Feature",properties:s.properties},u);je&&S.push(je)}return new Lt(S);case"FeatureCollection":for(fe=0,Te=m.features.length;fe<Te;fe++){var Xe=bo(m.features[fe],u);Xe&&S.push(Xe)}return new Lt(S);default:throw new Error("Invalid GeoJSON object.")}}function pl(s,u,m,y){return s?s(u,m):new si(m,y&&y.markersInheritOptions&&y)}function ml(s){return new Pe(s[1],s[0],s[2])}function Ca(s,u,m){for(var y=[],S=0,k=s.length,K;S<k;S++)K=u?Ca(s[S],u-1,m):(m||ml)(s[S]),y.push(K);return y}function gl(s,u){return s=Ie(s),s.alt!==void 0?[b(s.lng,u),b(s.lat,u),b(s.alt,u)]:[b(s.lng,u),b(s.lat,u)]}function _l(s,u,m,y){for(var S=[],k=0,K=s.length;k<K;k++)S.push(u?_l(s[k],h(s[k])?0:u-1,m,y):gl(s[k],y));return!u&&m&&S.length>0&&S.push(S[0].slice()),S}function Po(s,u){return s.feature?o({},s.feature,{geometry:u}):yl(u)}function yl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var mu={toGeoJSON:function(s){return Po(this,{type:"Point",coordinates:gl(this.getLatLng(),s)})}};si.include(mu),fl.include(mu),hl.include(mu),zn.include({toGeoJSON:function(s){var u=!h(this._latlngs),m=_l(this._latlngs,u?1:0,!1,s);return Po(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),oi.include({toGeoJSON:function(s){var u=!h(this._latlngs),m=u&&!h(this._latlngs[0]),y=_l(this._latlngs,m?2:u?1:0,!0,s);return u||(y=[y]),Po(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),Tt.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(s).geometry.coordinates)}),Po(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var m=u==="GeometryCollection",y=[];return this.eachLayer(function(S){if(S.toGeoJSON){var k=S.toGeoJSON(s);if(m)y.push(k.geometry);else{var K=yl(k);K.type==="FeatureCollection"?y.push.apply(y,K.features):y.push(K)}}}),m?Po(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Lc(s,u){return new Dr(s,u)}var wr=Lc,Ai=ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,m){this._url=s,this._bounds=Ne(u),V(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(He(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Jr(this._image),this},bringToBack:function(){return this._map&&gr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ne(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:qe("img");if(He(u,"leaflet-image-layer"),this._zoomAnimated&&He(u,"leaflet-zoom-animated"),this.options.className&&He(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;En(this._image,m,u)},_reset:function(){var s=this._image,u=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();We(s,u.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Nc=function(s,u,m){return new Ai(s,u,m)},gu=Ai.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:qe("video");if(He(u,"leaflet-image-layer"),this._zoomAnimated&&He(u,"leaflet-zoom-animated"),this.options.className&&He(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onloadeddata=d(this.fire,this,"load"),s){for(var m=u.getElementsByTagName("source"),y=[],S=0;S<m.length;S++)y.push(m[S].src);this._url=m.length>0?y:[u.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var K=qe("source");K.src=this._url[k],u.appendChild(K)}}});function Oc(s,u,m){return new gu(s,u,m)}var _u=Ai.extend({_initImage:function(){var s=this._image=this._url;He(s,"leaflet-image-layer"),this._zoomAnimated&&He(s,"leaflet-zoom-animated"),this.options.className&&He(s,this.options.className),s.onselectstart=x,s.onmousemove=x}});function yu(s,u,m){return new _u(s,u,m)}var Vr=ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof Pe||B(s))?(this._latlng=Ie(s),V(this,u)):(V(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(d(_t,void 0,this._container),200)):_t(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jr(this._container),this},bringToBack:function(){return this._map&&gr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Lt){u=null;var m=this._source._layers;for(var y in m)if(m[y]._map){u=m[y];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=ae(this.options.offset),m=this._getAnchor();this._zoomAnimated?We(this._container,s.add(m)):u=u.add(s).add(m);var y=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(s,u,m,y){var S=u;return S instanceof s||(S=new s(y).setContent(u)),m&&S.setLatLng(m),S}}),ft.include({_initOverlay:function(s,u,m,y){var S=m;return S instanceof s?(V(S,y),S._source=this):(S=u&&!y?u:new s(y,this),S.setContent(m)),S}});var vl=Vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Vr.prototype.openOn.call(this,s)},onAdd:function(s){Vr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ci||this._source.on("preclick",fn))},onRemove:function(s){Vr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ci||this._source.off("preclick",fn))},getEvents:function(){var s=Vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=qe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=qe("div",s+"-content-wrapper",u);if(this._contentNode=qe("div",s+"-content",m),Pi(u),ei(this._contentNode),Ve(u,"contextmenu",fn),this._tipContainer=qe("div",s+"-tip-container",u),this._tip=qe("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=qe("a",s+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(y,"click",function(S){vt(S),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var y=s.offsetHeight,S=this.options.maxHeight,k="leaflet-popup-scrolled";S&&y>S?(u.height=S+"px",He(s,k)):yt(s,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();We(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Si(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,y=this._containerWidth,S=new ee(this._containerLeft,-m-this._containerBottom);S._add(Tn(this._container));var k=s.layerPointToContainerPoint(S),K=ae(this.options.autoPanPadding),ne=ae(this.options.autoPanPaddingTopLeft||K),se=ae(this.options.autoPanPaddingBottomRight||K),fe=s.getSize(),Te=0,je=0;k.x+y+se.x>fe.x&&(Te=k.x+y-fe.x+se.x),k.x-Te-ne.x<0&&(Te=k.x-ne.x),k.y+m+se.y>fe.y&&(je=k.y+m-fe.y+se.y),k.y-je-ne.y<0&&(je=k.y-ne.y),(Te||je)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Te,je]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Co=function(s,u){return new vl(s,u)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(s,u,m){return this._initOverlay(vl,s,u,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ft.include({bindPopup:function(s,u){return this._popup=this._initOverlay(vl,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Lt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Yt(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ao=Vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Vr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Vr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Vr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,m,y=this._map,S=this._container,k=y.latLngToContainerPoint(y.getCenter()),K=y.layerPointToContainerPoint(s),ne=this.options.direction,se=S.offsetWidth,fe=S.offsetHeight,Te=ae(this.options.offset),je=this._getAnchor();ne==="top"?(u=se/2,m=fe):ne==="bottom"?(u=se/2,m=0):ne==="center"?(u=se/2,m=fe/2):ne==="right"?(u=0,m=fe/2):ne==="left"?(u=se,m=fe/2):K.x<k.x?(ne="right",u=0,m=fe/2):(ne="left",u=se+(Te.x+je.x)*2,m=fe/2),s=s.subtract(ae(u,m,!0)).add(Te).add(je),yt(S,"leaflet-tooltip-right"),yt(S,"leaflet-tooltip-left"),yt(S,"leaflet-tooltip-top"),yt(S,"leaflet-tooltip-bottom"),He(S,"leaflet-tooltip-"+ne),We(S,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&xt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Aa=function(s,u){return new Ao(s,u)};nt.include({openTooltip:function(s,u,m){return this._initOverlay(Ao,s,u,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ft.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ao,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Lt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Ve(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ve(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,m,y;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var wl=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(os(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=ae(m.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Mc(s){return new wl(s)}vr.Default=Io;var ki=ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){V(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),_t(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ee?s:new ee(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,m=-s(-1/0,1/0),y=0,S=u.length,k;y<S;y++)k=u[y].style.zIndex,u[y]!==this._container&&k&&(m=s(m,+k));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){xt(this._container,this.options.opacity);var s=+new Date,u=!1,m=!1;for(var y in this._tiles){var S=this._tiles[y];if(!(!S.current||!S.loaded)){var k=Math.min(1,(s-S.loaded)/200);xt(S.el,k),k<1?u=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=u-Math.abs(s-m),this._onUpdateLevel(m)):(_t(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[s],S=this._map;return y||(y=this._levels[s]={},y.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,S.getCenter(),S.getZoom()),x(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var s,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)_t(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,m,y){var S=Math.floor(s/2),k=Math.floor(u/2),K=m-1,ne=new ee(+S,+k);ne.z=+K;var se=this._tileCoordsToKey(ne),fe=this._tiles[se];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),K>y?this._retainParent(S,k,K,y):!1)},_retainChildren:function(s,u,m,y){for(var S=2*s;S<2*s+2;S++)for(var k=2*u;k<2*u+2;k++){var K=new ee(S,k);K.z=m+1;var ne=this._tileCoordsToKey(K),se=this._tiles[ne];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);m+1<y&&this._retainChildren(S,k,m+1,y)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,m,y){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var k=this.options.updateWhenZooming&&S!==this._tileZoom;(!y||k)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,u)},_setZoomTransform:function(s,u,m){var y=this._map.getZoomScale(m,s.zoom),S=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,m)).round();Re.any3d?En(s.el,S,y):We(s.el,S)},_resetGrid:function(){var s=this._map,u=s.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],y).x/m.x),Math.ceil(s.project([0,u.wrapLng[1]],y).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],y).y/m.x),Math.ceil(s.project([u.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(m,this._tileZoom),S=u.project(s,this._tileZoom).floor(),k=u.getSize().divideBy(y*2);return new Y(S.subtract(k),S.add(k))},_update:function(s){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(y),k=S.getCenter(),K=[],ne=this.options.keepBuffer,se=new Y(S.getBottomLeft().subtract([ne,-ne]),S.getTopRight().add([ne,-ne]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var Te=this._tiles[fe].coords;(Te.z!==this._tileZoom||!se.contains(new ee(Te.x,Te.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var je=S.min.y;je<=S.max.y;je++)for(var Xe=S.min.x;Xe<=S.max.x;Xe++){var Xt=new ee(Xe,je);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var Gt=this._tiles[this._tileCoordsToKey(Xt)];Gt?Gt.current=!0:K.push(Xt)}}if(K.sort(function(In,Oo){return In.distanceTo(k)-Oo.distanceTo(k)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fn=document.createDocumentFragment();for(Xe=0;Xe<K.length;Xe++)this._addTile(K[Xe],Fn);this._level.el.appendChild(Fn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!u.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return Ne(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,m=this.getTileSize(),y=s.scaleBy(m),S=y.add(m),k=u.unproject(y,s.z),K=u.unproject(S,s.z);return[k,K]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),m=new xe(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),m=new ee(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(s){var u=this._tiles[s];u&&(_t(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){He(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=x,s.onmousemove=x,Re.ielt9&&this.options.opacity<1&&xt(s,this.options.opacity)},_addTile:function(s,u){var m=this._getTilePos(s),y=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),d(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&$(d(this._tileReady,this,s,null,S)),We(S,m),this._tiles[y]={el:S,coords:s,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:s});var y=this._tileCoordsToKey(s);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(xt(m.el,0),q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(He(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ee(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new Y(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function ko(s){return new ki(s)}var Ri=ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=V(this,u),u.detectRetina&&Re.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var m=document.createElement("img");return Ve(m,"load",d(this._tileOnLoad,this,u,m)),Ve(m,"error",d(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var u={r:Re.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=m),u["-y"]=m}return N(this._url,o(u,this.options))},_tileOnLoad:function(s,u){Re.ielt9?setTimeout(d(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,m){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),s(m,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(s=u-s),s+y},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=x,u.onerror=x,!u.complete)){u.src=J;var m=this._tiles[s].coords;_t(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",J),ki.prototype._removeTile.call(this,s)},_tileReady:function(s,u,m){if(!(!this._map||m&&m.getAttribute("src")===J))return ki.prototype._tileReady.call(this,s,u,m)}});function vu(s,u){return new Ri(s,u)}var ka=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var m=o({},this.defaultWmsParams);for(var y in u)y in this.options||(m[y]=u[y]);u=V(this,u);var S=u.detectRetina&&Re.retina?2:1,k=this.getTileSize();m.width=k.x*S,m.height=k.y*S,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ri.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),m=this._crs,y=ue(m.project(u[0]),m.project(u[1])),S=y.min,k=y.max,K=(this._wmsVersion>=1.3&&this._crs===Ft?[S.y,S.x,k.y,k.x]:[S.x,S.y,k.x,k.y]).join(","),ne=Ri.prototype.getTileUrl.call(this,s);return ne+H(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(s,u){return o(this.wmsParams,s),u||this.redraw(),this}});function Dc(s,u){return new ka(s,u)}Ri.WMS=ka,vu.wms=Dc;var zr=ft.extend({options:{padding:.1},initialize:function(s){V(this,s),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),He(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var m=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),k=y.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(s,u));Re.any3d?En(this._container,k,m):We(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new Y(m,m.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wu=zr.extend({options:{tolerance:0},getEvents:function(){var s=zr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ve(s,"mousemove",this._onMouseMove,this),Ve(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,_t(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,u=this._container,m=s.getSize(),y=Re.retina?2:1;We(u,s.min),u.width=y*m.x,u.height=y*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[p(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,m=u.next,y=u.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete s._order,delete this._layers[p(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),m=[],y,S;for(S=0;S<u.length;S++){if(y=Number(u[S]),isNaN(y))return;m.push(y)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var m,y,S,k,K=s._parts,ne=K.length,se=this._ctx;if(ne){for(se.beginPath(),m=0;m<ne;m++){for(y=0,S=K[m].length;y<S;y++)k=K[m][y],se[y?"lineTo":"moveTo"](k.x,k.y);u&&se.closePath()}this._fillStroke(se,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,m=this._ctx,y=Math.max(Math.round(s._radius),1),S=(Math.max(Math.round(s._radiusY),1)||y)/y;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(u.x,u.y/S,y,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,u){var m=u.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),m,y,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(yt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var m,y,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(u)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(He(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,m){this._map._fireDOMEvent(u,m||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var m=u.next,y=u.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var m=u.next,y=u.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Eu(s){return Re.canvas?new wu(s):null}var Ro=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Vc={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Ro("shape");He(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Ro("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[p(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;_t(u),s.removeInteractiveTarget(u),delete this._layers[p(s)]},_updateStyle:function(s){var u=s._stroke,m=s._fill,y=s.options,S=s._container;S.stroked=!!y.stroke,S.filled=!!y.fill,y.stroke?(u||(u=s._stroke=Ro("stroke")),S.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=B(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(S.removeChild(u),s._stroke=null),y.fill?(m||(m=s._fill=Ro("fill")),S.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(S.removeChild(m),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),m=Math.round(s._radius),y=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Jr(s._container)},_bringToBack:function(s){gr(s._container)}},Er=Re.vml?Ro:Wi,_s=zr.extend({_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,u=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),We(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Er("path");s.options.className&&He(u,s.options.className),s.options.interactive&&He(u,"leaflet-interactive"),this._updateStyle(s),this._layers[p(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){_t(s._path),s.removeInteractiveTarget(s._path),delete this._layers[p(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,m=s.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ys(s._parts,u))},_updateCircle:function(s){var u=s._point,m=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||m,S="a"+m+","+y+" 0 1,0 ",k=s._empty()?"M0 0":"M"+(u.x-m)+","+u.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(s,k)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Jr(s._path)},_bringToBack:function(s){gr(s._path)}});Re.vml&&_s.include(Vc);function El(s){return Re.svg||Re.vml?new _s(s):null}nt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Eu(s)||El(s)}});var zc=oi.extend({initialize:function(s,u){oi.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ne(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function rf(s,u){return new zc(s,u)}_s.create=Er,_s.pointsToPath=Ys,Dr.geometryToLayer=bo,Dr.coordsToLatLng=ml,Dr.coordsToLatLngs=Ca,Dr.latLngToCoords=gl,Dr.latLngsToCoords=_l,Dr.getFeature=Po,Dr.asFeature=yl,nt.mergeOptions({boxZoom:!0});var Lo=pn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),et(),po(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ve(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),He(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new Y(this._point,this._startPoint),m=u.getSize();We(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(_t(this._box),yt(this._container,"leaflet-crosshair")),Yn(),mo(),ht(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",Lo),nt.mergeOptions({doubleClickZoom:!0});var Fc=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,m=u.getZoom(),y=u.options.zoomDelta,S=s.originalEvent.shiftKey?m-y:m+y;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(s.containerPoint,S)}});nt.addInitHook("addHandler","doubleClickZoom",Fc),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tu=pn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}He(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ne(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,S=(y-u+m)%s+u-m,k=(y+u+m)%s-u-m,K=Math.abs(S+m)<Math.abs(k+m)?S:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(s){var u=this._map,m=u.options,y=!m.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),y)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,K=m.easeLinearity,ne=S.multiplyBy(K/k),se=ne.distanceTo([0,0]),fe=Math.min(m.inertiaMaxSpeed,se),Te=ne.multiplyBy(fe/se),je=fe/(m.inertiaDeceleration*K),Xe=Te.multiplyBy(-je/2).round();!Xe.x&&!Xe.y?u.fire("moveend"):(Xe=u._limitOffset(Xe,u.options.maxBounds),$(function(){u.panBy(Xe,{duration:je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",Tu),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xu=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ve(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,m=s.scrollTop||u.scrollTop,y=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},m=this.keyCodes,y,S;for(y=0,S=m.left.length;y<S;y++)u[m.left[y]]=[-1*s,0];for(y=0,S=m.right.length;y<S;y++)u[m.right[y]]=[s,0];for(y=0,S=m.down.length;y<S;y++)u[m.down[y]]=[0,s];for(y=0,S=m.up.length;y<S;y++)u[m.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},m=this.keyCodes,y,S;for(y=0,S=m.zoomIn.length;y<S;y++)u[m.zoomIn[y]]=s;for(y=0,S=m.zoomOut.length;y<S;y++)u[m.zoomOut[y]]=-s},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,m=this._map,y;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[u],s.shiftKey&&(y=ae(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(ae(y),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(S)}else m.panBy(y)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Yt(s)}}});nt.addInitHook("addHandler","keyboard",xu),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Et=pn.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=ll(s),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),y),Yt(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,k=m?Math.ceil(S/m)*m:S,K=s._limitZoom(u+(this._delta>0?k:-k))-u;this._delta=0,this._startTime=null,K&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+K):s.setZoomAround(this._lastMousePos,u+K))}});nt.addInitHook("addHandler","scrollWheelZoom",Et);var Su=600;nt.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var Ra=pn.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ee(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",vt),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Su),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ht(document,"touchend",vt),ht(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ee(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});nt.addInitHook("addHandler","tapHold",Ra),nt.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var No=pn.extend({addHooks:function(){He(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),vt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]),S=m.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var k=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(S===1&&k.x===0&&k.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(K,this,!0),vt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",No),nt.BoxZoom=Lo,nt.DoubleClickZoom=Fc,nt.Drag=Tu,nt.Keyboard=xu,nt.ScrollWheelZoom=Et,nt.TapHold=Ra,nt.TouchZoom=No,t.Bounds=Y,t.Browser=Re,t.CRS=Je,t.Canvas=wu,t.Circle=fl,t.CircleMarker=hl,t.Class=_e,t.Control=an,t.DivIcon=wl,t.DivOverlay=Vr,t.DomEvent=ds,t.DomUtil=bi,t.Draggable=xn,t.Evented=ze,t.FeatureGroup=Lt,t.GeoJSON=Dr,t.GridLayer=ki,t.Handler=pn,t.Icon=vr,t.ImageOverlay=Ai,t.LatLng=Pe,t.LatLngBounds=xe,t.Layer=ft,t.LayerGroup=Tt,t.LineUtil=z,t.Map=nt,t.Marker=si,t.Mixin=ni,t.Path=Ci,t.Point=ee,t.PolyUtil=To,t.Polygon=oi,t.Polyline=zn,t.Popup=vl,t.PosAnimation=hs,t.Projection=we,t.Rectangle=zc,t.Renderer=zr,t.SVG=_s,t.SVGOverlay=_u,t.TileLayer=Ri,t.Tooltip=Ao,t.Transformation=hr,t.Util=D,t.VideoOverlay=gu,t.bind=d,t.bounds=ue,t.canvas=Eu,t.circle=Pa,t.circleMarker=Rc,t.control=Ht,t.divIcon=Mc,t.extend=o,t.featureGroup=gs,t.geoJSON=Lc,t.geoJson=wr,t.gridLayer=ko,t.icon=kc,t.imageOverlay=Nc,t.latLng=Ie,t.latLngBounds=Ne,t.layerGroup=nr,t.map=Vn,t.marker=ef,t.point=ae,t.polygon=nf,t.polyline=tf,t.popup=Co,t.rectangle=rf,t.setOptions=V,t.stamp=p,t.svg=El,t.svgOverlay=yu,t.tileLayer=vu,t.tooltip=Aa,t.transformation=Cr,t.version=r,t.videoOverlay=Oc;var jc=window.L;t.noConflict=function(){return window.L=jc,this},window.L=t})}(Qu,Qu.exports)),Qu.exports}var Jh=RL();function bg(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function Pg(n,e){return e==null?function(r,o){const l=G.useRef();return l.current||(l.current=n(r,o)),l}:function(r,o){const l=G.useRef();l.current||(l.current=n(r,o));const d=G.useRef(r),{instance:f}=l.current;return G.useEffect(function(){d.current!==r&&(e(f,r,d.current),d.current=r)},[f,r,o]),l}}function LL(n,e){G.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var l;(l=e.layerContainer)==null||l.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function hT(n){return function(t){const r=cT(),o=n(Ig(t,r),r);return aT(r.map,t.attribution),dT(o.current,t.eventHandlers),LL(o.current,r),o}}function NL(n,e){const t=Pg(n,e),r=hT(t);return bL(r)}function OL(n,e){const t=Pg(n),r=AL(t,e);return PL(r)}function ML(n,e){const t=Pg(n,e),r=hT(t);return CL(r)}function DL(n,e,t){const{opacity:r,zIndex:o}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function mm(){return mm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mm.apply(this,arguments)}function VL({bounds:n,boundsOptions:e,center:t,children:r,className:o,id:l,placeholder:d,style:f,whenReady:p,zoom:_,...w},x){const[b]=G.useState({className:o,id:l,style:f}),[A,M]=G.useState(null);G.useImperativeHandle(x,()=>(A==null?void 0:A.map)??null,[A]);const V=G.useCallback(j=>{if(j!==null&&A===null){const N=new Jh.Map(j,w);t!=null&&_!=null?N.setView(t,_):n!=null&&N.fitBounds(n,e),p!=null&&N.whenReady(p),M(SL(N))}},[]);G.useEffect(()=>()=>{A==null||A.map.remove()},[A]);const H=A?Fe.createElement(uT,{value:A},r):d??null;return Fe.createElement("div",mm({},b,{ref:V}),H)}const zL=G.forwardRef(VL),FL=NL(function({position:e,...t},r){const o=new Jh.Marker(e,t);return bg(o,IL(r,{overlayContainer:o}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),jL=OL(function(e,t){const r=new Jh.Popup(e,t.overlayContainer);return bg(r,t)},function(e,t,{position:r},o){G.useEffect(function(){const{instance:d}=e;function f(_){_.popup===d&&(d.update(),o(!0))}function p(_){_.popup===d&&o(!1)}return t.map.on({popupopen:f,popupclose:p}),t.overlayContainer==null?(r!=null&&d.setLatLng(r),d.openOn(t.map)):t.overlayContainer.bindPopup(d),function(){var w;t.map.off({popupopen:f,popupclose:p}),(w=t.overlayContainer)==null||w.unbindPopup(),t.map.removeLayer(d)}},[e,t,o,r])}),BL=ML(function({url:e,...t},r){const o=new Jh.TileLayer(e,Ig(t,r));return bg(o,r)},function(e,t,r){DL(e,t,r);const{url:o}=t;o!=null&&o!==r.url&&e.setUrl(o)});function UL(){var w;const n=_i(),e=wm(),[t,r]=G.useState(null),[o,l]=G.useState(!0),[d,f]=G.useState(!1),[p,_]=G.useState(!1);return G.useEffect(()=>{async function x(){const b=$s(Nn,"listings",e.listingId),A=await Hh(b);A.exists()&&(r(A.data()),l(!1))}x()},[e.listingId]),o?C.jsx(rl,{}):C.jsxs("main",{children:[C.jsxs(hg,{slidesPerView:1,navigation:{clickable:!0},pagination:{type:"progressbar"},effect:"fade",modules:[lE,uE,dE,cE],autoplay:{delay:3e3},children:[t.imageUrls.map((x,b)=>C.jsx(tc,{children:C.jsx("div",{className:"relative w-full overflow-hidden h-[300px]",style:{background:`url(${t.imageUrls[b]}) center center/cover no-repeat `,backgroundSize:"cover"}})},b)),C.jsx(tc,{}),C.jsx(tc,{})]}),C.jsxs("div",{className:`fixed top-[13%] right-[3%] z-10 bg-white cursor-pointer border-2 border-gray-400 \r
			rounded-full w-12 h-12 flex justify-center items-center`,children:[C.jsx(dk,{className:"text-lg text-slate-500",onClick:()=>{navigator.clipboard.writeText(window.location.href),f(!0),setTimeout(()=>{f(!1)},2e3)}}),d&&C.jsx("p",{className:`fixed top-[23%] right-[5%]\r
				font-semibold border-2 border-gray-400 bg-white\r
				p-2 rounded-md z-10`,children:"Link Copied"})]}),C.jsxs("div",{className:`m-4 flex flex-col md:flex-row max-w-6xl lg:mx-auto p-4 rounded-lg \r
			shadow-lg bg-white lg:space-x-5`,children:[C.jsxs("div",{className:" w-full ",children:[C.jsxs("p",{className:"text-2xl font-bold mb-3 text-blue-900",children:[t.name," - $","",t.offer?t.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.type==="rent"?" / month":""]}),C.jsxs("p",{className:"flex items-center mt-6 mb-3 font-semibold text-gray-600",children:[C.jsx(gE,{className:"green-700 mr-1"}),t.address]}),C.jsxs("div",{className:"flex justify-start items-center space-x-4 w-[75%] ",children:[C.jsx("p",{className:"bg-red-800 w-full max-w-[200px] text-white text-center p-1 rounded-md font-semibold shadow-md",children:t.type==="rent"?"Rent":"sale"}),C.jsx("p",{className:"bg-green-800 w-full max-w-[200px] text-white text-center p-1 rounded-md font-semibold shadow-md",children:t.offer&&C.jsxs("p",{children:["$",t.regularPrice-t.discountedPrice," discount"]})})]}),C.jsxs("p",{className:"mt-3 mb-3",children:[C.jsx("span",{className:"font-semibold",children:" Description"})," -",t.description]}),C.jsxs("ul",{className:"flex items-center space-x-2 lg:space-x-10 text-sm font-semibold mb-6",children:[C.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[C.jsx(lk,{className:"text-lg mr-1"}),+t.bedrooms>1?`${t.bedrooms}  Beds`:"1 Bed"]}),C.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[C.jsx(ak,{className:"text-lg mr-1"}),+t.bathrooms>1?`${t.bathrooms}  Baths`:"1 Bath"]}),C.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[C.jsx(ck,{className:"text-lg mr-1"}),t.parking?"parking spot":" no parking spot"]}),C.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[C.jsx(uk,{className:"text-lg mr-1"}),t.furnished?"furnished":"not furnished"]})]}),t.userRef!==((w=n.currentUser)==null?void 0:w.uid)&&!p&&C.jsx("div",{className:"mt-12",children:C.jsx("button",{onClick:()=>_(!0),className:`px-7 py-3 bg-blue-600 text-white\r
							font-medium text-sm uppercase rounded shadow-md hover:bg-blue-700\r
							hover:shadow-lg  focus:bg-blue-700 focus:shadow-lg w-full text-center\r
							transition-150 ease-in-out`,children:"Contact LandLord"})}),p&&C.jsx(TL,{userRef:t.userRef,listing:t})]}),C.jsx("div",{className:" w-full h-[200px] md:h-[400px] z-10 overflow-x-hidden mt-6 md:mt-0 md:ml-2",children:C.jsxs(zL,{center:[6.5244,3.3792],zoom:13,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[C.jsx(BL,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),C.jsx(FL,{position:[6.5244,3.3792],children:C.jsx(jL,{children:t.address})})]})})]})]})}function $L(){const[n,e]=G.useState([]),[t,r]=G.useState(!0),[o,l]=G.useState(null),d=wm();G.useEffect(()=>{async function p(){try{const _=ji(Nn,"listings"),w=Ds(_,oa("type","==",d.categoryName),Vs("timestamp","desc"),aa(10)),x=await zs(w);if(!x.empty){const A=x.docs[x.docs.length-1];l(A)}const b=x.docs.map(A=>({id:A.id,data:A.data()}));e(b),r(!1)}catch{$e.error("Error fetching listings")}}p()},[d.categoryName]);async function f(){try{if(!o)return;const p=ji(Nn,"listings"),_=Ds(p,oa("type","==",d.categoryName),Vs("timestamp","desc"),z0(o),aa(4)),w=await zs(_);if(!w.empty){const b=w.docs[w.docs.length-1];l(b)}const x=w.docs.map(b=>({id:b.id,data:b.data()}));e(b=>[...b,...x])}catch{$e.error("Error fetching more listings")}}return C.jsxs("div",{className:"max-w-6xl mx-auto px-3",children:[C.jsx("h1",{className:"text-3xl text-center mt-6 font-bold mb-6",children:d.categoryName==="rent"?"places for rent":"places for sale"}),t?C.jsx(rl,{}):n.length>0?C.jsxs(C.Fragment,{children:[C.jsx("main",{children:C.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:n.map(p=>C.jsx(Hl,{listing:p.data,id:p.id},p.id))})}),o&&C.jsx("div",{className:"flex justify-center items-center mt-6",children:C.jsx("button",{onClick:f,className:"bg-white px-3 py-1.5 text-gray-700 border border-gray-300 hover:border-slate-600 rounded transition duration-150 ease-in-out",children:"Load more"})})]}):C.jsxs("p",{children:["There are no current"," ",d.categoryName==="rent"?"places for rent":"places for sale"]})]})}function HL(){const n=vi();return C.jsx("footer",{className:"bg-black border-t shadow-sm w-full py-6 mt-auto",children:C.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center",children:[C.jsx("img",{src:"https://i.postimg.cc/5tMS00N9/Realtor-logo.webp",alt:"Realtor Logo",className:"h-16 cursor-pointer rounded-full",onClick:()=>n("/"),"aria-label":"Go to Home"}),C.jsx("p",{className:"text-gray-400 text-sm font-semibold text-center my-4 md:my-0",children:"© devuc 2025"}),C.jsxs("ul",{className:"flex space-x-6",children:[C.jsx("li",{className:"cursor-pointer text-sm font-semibold text-gray-400 hover:text-white transition",onClick:()=>n("/"),"aria-label":"Go to Home",children:"Home"}),C.jsx("li",{className:"cursor-pointer text-sm font-semibold text-gray-400 hover:text-white transition",onClick:()=>n("/offers"),"aria-label":"View Offers",children:"Offers"}),C.jsx("li",{className:"cursor-pointer text-sm font-semibold text-gray-400 hover:text-white transition",onClick:()=>n("/sign-in"),"aria-label":"Sign In",children:"Sign In"})]})]})})}function qL(){return C.jsxs("div",{className:"min-h-screen flex flex-col",children:[C.jsxs(v1,{children:[C.jsx(vL,{}),C.jsxs(Zx,{children:[C.jsx(ur,{path:"/",element:C.jsx(pk,{})}),C.jsx(ur,{path:"/profile",element:C.jsx(Mp,{}),children:C.jsx(ur,{path:"/profile",element:C.jsx(fL,{})})}),C.jsx(ur,{path:"/sign-in",element:C.jsx(mL,{})}),C.jsx(ur,{path:"/sign-up",element:C.jsx(gL,{})}),C.jsx(ur,{path:"/forgot-password",element:C.jsx(yL,{})}),C.jsx(ur,{path:"/offers",element:C.jsx(pL,{})}),C.jsx(ur,{path:"/category/:categoryName",element:C.jsx($L,{})}),C.jsx(ur,{path:"/category/:categoryName/:listingId",element:C.jsx(UL,{})}),C.jsx(ur,{path:"create-listing",element:C.jsx(Mp,{}),children:C.jsx(ur,{path:"/create-listing",element:C.jsx(wL,{})})}),C.jsx(ur,{path:"edit-listing",element:C.jsx(Mp,{}),children:C.jsx(ur,{path:"/edit-listing/:listingId",element:C.jsx(EL,{})})})]}),C.jsx(HL,{})]}),C.jsx(cL,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",transition:oT})]})}tx.createRoot(document.getElementById("root")).render(C.jsx(G.StrictMode,{children:C.jsx(qL,{})}));
